var p0=t=>{throw TypeError(t)};var wf=(t,e,n)=>e.has(t)||p0("Cannot "+n);var B=(t,e,n)=>(wf(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?p0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(wf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mt=(t,e,n)=>(wf(t,e,"access private method"),n);var Vc=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return B(t,e,r)}});function tR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function d1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h1={exports:{}},Xd={},f1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=Symbol.for("react.element"),nR=Symbol.for("react.portal"),rR=Symbol.for("react.fragment"),sR=Symbol.for("react.strict_mode"),iR=Symbol.for("react.profiler"),oR=Symbol.for("react.provider"),aR=Symbol.for("react.context"),lR=Symbol.for("react.forward_ref"),cR=Symbol.for("react.suspense"),uR=Symbol.for("react.memo"),dR=Symbol.for("react.lazy"),m0=Symbol.iterator;function hR(t){return t===null||typeof t!="object"?null:(t=m0&&t[m0]||t["@@iterator"],typeof t=="function"?t:null)}var p1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m1=Object.assign,g1={};function ia(t,e,n){this.props=t,this.context=e,this.refs=g1,this.updater=n||p1}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y1(){}y1.prototype=ia.prototype;function ug(t,e,n){this.props=t,this.context=e,this.refs=g1,this.updater=n||p1}var dg=ug.prototype=new y1;dg.constructor=ug;m1(dg,ia.prototype);dg.isPureReactComponent=!0;var g0=Array.isArray,v1=Object.prototype.hasOwnProperty,hg={current:null},w1={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)v1.call(e,r)&&!w1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Kl,type:t,key:i,ref:o,props:s,_owner:hg.current}}function fR(t,e){return{$$typeof:Kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kl}function pR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var y0=/\/+/g;function xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pR(""+t.key):e.toString(36)}function vu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kl:case nR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xf(o,0):r,g0(s)?(n="",t!=null&&(n=t.replace(y0,"$&/")+"/"),vu(s,e,n,"",function(u){return u})):s!=null&&(fg(s)&&(s=fR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(y0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",g0(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+xf(i,a);o+=vu(i,e,n,c,s)}else if(c=hR(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+xf(i,a++),o+=vu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fc(t,e,n){if(t==null)return t;var r=[],s=0;return vu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function mR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},wu={transition:null},gR={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:wu,ReactCurrentOwner:hg};function _1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Fc,forEach:function(t,e,n){Fc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fc(t,function(){e++}),e},toArray:function(t){return Fc(t,function(e){return e})||[]},only:function(t){if(!fg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=ia;ye.Fragment=rR;ye.Profiler=iR;ye.PureComponent=ug;ye.StrictMode=sR;ye.Suspense=cR;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gR;ye.act=_1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=hg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)v1.call(e,c)&&!w1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Kl,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:aR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oR,_context:t},t.Consumer=t};ye.createElement=x1;ye.createFactory=function(t){var e=x1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:lR,render:t}};ye.isValidElement=fg;ye.lazy=function(t){return{$$typeof:dR,_payload:{_status:-1,_result:t},_init:mR}};ye.memo=function(t,e){return{$$typeof:uR,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};ye.unstable_act=_1;ye.useCallback=function(t,e){return Xt.current.useCallback(t,e)};ye.useContext=function(t){return Xt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Xt.current.useEffect(t,e)};ye.useId=function(){return Xt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Xt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};ye.useRef=function(t){return Xt.current.useRef(t)};ye.useState=function(t){return Xt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Xt.current.useTransition()};ye.version="18.3.1";f1.exports=ye;var E=f1.exports;const q=d1(E),E1=tR({__proto__:null,default:q},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=E,vR=Symbol.for("react.element"),wR=Symbol.for("react.fragment"),xR=Object.prototype.hasOwnProperty,_R=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ER={key:!0,ref:!0,__self:!0,__source:!0};function T1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xR.call(e,r)&&!ER.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vR,type:t,key:i,ref:o,props:s,_owner:_R.current}}Xd.Fragment=wR;Xd.jsx=T1;Xd.jsxs=T1;h1.exports=Xd;var d=h1.exports,S1={exports:{}},_n={},b1={exports:{}},I1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Q=L.length;L.push(z);e:for(;0<Q;){var Y=Q-1>>>1,te=L[Y];if(0<s(te,z))L[Y]=z,L[Q]=te,Q=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Q=L.pop();if(Q!==z){L[0]=Q;e:for(var Y=0,te=L.length,re=te>>>1;Y<re;){var Se=2*(Y+1)-1,He=L[Se],fe=Se+1,ne=L[fe];if(0>s(He,Q))fe<te&&0>s(ne,He)?(L[Y]=ne,L[fe]=Q,Y=fe):(L[Y]=He,L[Se]=Q,Y=Se);else if(fe<te&&0>s(ne,Q))L[Y]=ne,L[fe]=Q,Y=fe;else break e}}return z}function s(L,z){var Q=L.sortIndex-z.sortIndex;return Q!==0?Q:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,h=null,m=3,w=!1,S=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function R(L){if(x=!1,_(L),!S)if(n(c)!==null)S=!0,$(N);else{var z=n(u);z!==null&&K(R,z.startTime-L)}}function N(L,z){S=!1,x&&(x=!1,y(b),b=-1),w=!0;var Q=m;try{for(_(z),h=n(c);h!==null&&(!(h.expirationTime>z)||L&&!D());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,m=h.priorityLevel;var te=Y(h.expirationTime<=z);z=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(c)&&r(c),_(z)}else r(c);h=n(c)}if(h!==null)var re=!0;else{var Se=n(u);Se!==null&&K(R,Se.startTime-z),re=!1}return re}finally{h=null,m=Q,w=!1}}var O=!1,I=null,b=-1,C=5,k=-1;function D(){return!(t.unstable_now()-k<C)}function M(){if(I!==null){var L=t.unstable_now();k=L;var z=!0;try{z=I(!0,L)}finally{z?P():(O=!1,I=null)}}else O=!1}var P;if(typeof g=="function")P=function(){g(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=M,P=function(){Z.postMessage(null)}}else P=function(){T(M,0)};function $(L){I=L,O||(O=!0,P())}function K(L,z){b=T(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,$(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var Q=m;m=z;try{return L()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=m;m=L;try{return z()}finally{m=Q}},t.unstable_scheduleCallback=function(L,z,Q){var Y=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Y+Q:Y):Q=Y,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Q+te,L={id:f++,callback:z,priorityLevel:L,startTime:Q,expirationTime:te,sortIndex:-1},Q>Y?(L.sortIndex=Q,e(u,L),n(c)===null&&L===n(u)&&(x?(y(b),b=-1):x=!0,K(R,Q-Y))):(L.sortIndex=te,e(c,L),S||w||(S=!0,$(N))),L},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(L){var z=m;return function(){var Q=m;m=z;try{return L.apply(this,arguments)}finally{m=Q}}}})(I1);b1.exports=I1;var TR=b1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR=E,xn=TR;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C1=new Set,dl={};function ji(t,e){Fo(t,e),Fo(t+"Capture",e)}function Fo(t,e){for(dl[t]=e,t=0;t<e.length;t++)C1.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,bR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v0={},w0={};function IR(t){return _p.call(w0,t)?!0:_p.call(v0,t)?!1:bR.test(t)?w0[t]=!0:(v0[t]=!0,!1)}function CR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AR(t,e,n,r){if(e===null||typeof e>"u"||CR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pg=/[\-:]([a-z])/g;function mg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pg,mg);kt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pg,mg);kt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pg,mg);kt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gg(t,e,n,r){var s=kt.hasOwnProperty(e)?kt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AR(e,n,s,r)&&(n=null),r||s===null?IR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=SR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uc=Symbol.for("react.element"),so=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),A1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),wg=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),R1=Symbol.for("react.offscreen"),x0=Symbol.iterator;function Ra(t){return t===null||typeof t!="object"?null:(t=x0&&t[x0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,_f;function Ua(t){if(_f===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_f=e&&e[1]||""}return`
`+_f+t}var Ef=!1;function Tf(t,e){if(!t||Ef)return"";Ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ua(t):""}function kR(t){switch(t.tag){case 5:return Ua(t.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function bp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case so:return"Portal";case Ep:return"Profiler";case yg:return"StrictMode";case Tp:return"Suspense";case Sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case A1:return(t._context.displayName||"Context")+".Provider";case vg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wg:return e=t.displayName||null,e!==null?e:bp(t.type)||"Memo";case ns:e=t._payload,t=t._init;try{return bp(t(e))}catch{}}return null}function RR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bp(e);case 8:return e===yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NR(t){var e=N1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bc(t){t._valueTracker||(t._valueTracker=NR(t))}function P1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ip(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D1(t,e){e=e.checked,e!=null&&gg(t,"checked",e,!1)}function Cp(t,e){D1(t,e);var n=Ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ap(t,e.type,Ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ap(t,e,n){(e!=="number"||Yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function yo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ms(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ba(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ms(n)}}function M1(t,e){var n=Ms(e.value),r=Ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function S0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zc,j1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PR=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(t){PR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qa[e]=Qa[t]})});function L1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qa.hasOwnProperty(t)&&Qa[t]?(""+e).trim():e+"px"}function V1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=L1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var DR=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Np(t,e){if(e){if(DR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dp=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mp=null,vo=null,wo=null;function b0(t){if(t=Yl(t)){if(typeof Mp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=nh(e),Mp(t.stateNode,t.type,e))}}function F1(t){vo?wo?wo.push(t):wo=[t]:vo=t}function U1(){if(vo){var t=vo,e=wo;if(wo=vo=null,b0(t),e)for(t=0;t<e.length;t++)b0(e[t])}}function B1(t,e){return t(e)}function z1(){}var Sf=!1;function $1(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return B1(t,e,n)}finally{Sf=!1,(vo!==null||wo!==null)&&(z1(),U1())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var r=nh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Op=!1;if(Or)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{Op=!1}function MR(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Ya=!1,Xu=null,Ju=!1,jp=null,OR={onError:function(t){Ya=!0,Xu=t}};function jR(t,e,n,r,s,i,o,a,c){Ya=!1,Xu=null,MR.apply(OR,arguments)}function LR(t,e,n,r,s,i,o,a,c){if(jR.apply(this,arguments),Ya){if(Ya){var u=Xu;Ya=!1,Xu=null}else throw Error(W(198));Ju||(Ju=!0,jp=u)}}function Li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I0(t){if(Li(t)!==t)throw Error(W(188))}function VR(t){var e=t.alternate;if(!e){if(e=Li(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return I0(s),t;if(i===r)return I0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function W1(t){return t=VR(t),t!==null?q1(t):null}function q1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q1(t);if(e!==null)return e;t=t.sibling}return null}var K1=xn.unstable_scheduleCallback,C0=xn.unstable_cancelCallback,FR=xn.unstable_shouldYield,UR=xn.unstable_requestPaint,st=xn.unstable_now,BR=xn.unstable_getCurrentPriorityLevel,_g=xn.unstable_ImmediatePriority,G1=xn.unstable_UserBlockingPriority,Zu=xn.unstable_NormalPriority,zR=xn.unstable_LowPriority,Q1=xn.unstable_IdlePriority,Jd=null,ur=null;function $R(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Jd,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:qR,HR=Math.log,WR=Math.LN2;function qR(t){return t>>>=0,t===0?32:31-(HR(t)/WR|0)|0}var $c=64,Hc=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ed(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=za(a):(i&=o,i!==0&&(r=za(i)))}else o=n&~s,o!==0?r=za(o):i!==0&&(r=za(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),s=1<<n,r|=t[n],e&=~s;return r}function KR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=KR(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y1(){var t=$c;return $c<<=1,!($c&4194240)&&($c=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function QR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Eg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var De=0;function X1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var J1,Tg,Z1,eE,tE,Vp=!1,Wc=[],ws=null,xs=null,_s=null,pl=new Map,ml=new Map,is=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A0(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function Pa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yl(e),e!==null&&Tg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function XR(t,e,n,r,s){switch(e){case"focusin":return ws=Pa(ws,t,e,n,r,s),!0;case"dragenter":return xs=Pa(xs,t,e,n,r,s),!0;case"mouseover":return _s=Pa(_s,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pl.set(i,Pa(pl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ml.set(i,Pa(ml.get(i)||null,t,e,n,r,s)),!0}return!1}function nE(t){var e=ui(t.target);if(e!==null){var n=Li(e);if(n!==null){if(e=n.tag,e===13){if(e=H1(n),e!==null){t.blockedOn=e,tE(t.priority,function(){Z1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dp=r,n.target.dispatchEvent(r),Dp=null}else return e=Yl(n),e!==null&&Tg(e),t.blockedOn=n,!1;e.shift()}return!0}function k0(t,e,n){xu(t)&&n.delete(e)}function JR(){Vp=!1,ws!==null&&xu(ws)&&(ws=null),xs!==null&&xu(xs)&&(xs=null),_s!==null&&xu(_s)&&(_s=null),pl.forEach(k0),ml.forEach(k0)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,Vp||(Vp=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,JR)))}function gl(t){function e(s){return Da(s,t)}if(0<Wc.length){Da(Wc[0],t);for(var n=1;n<Wc.length;n++){var r=Wc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ws!==null&&Da(ws,t),xs!==null&&Da(xs,t),_s!==null&&Da(_s,t),pl.forEach(e),ml.forEach(e),n=0;n<is.length;n++)r=is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<is.length&&(n=is[0],n.blockedOn===null);)nE(n),n.blockedOn===null&&is.shift()}var xo=Wr.ReactCurrentBatchConfig,td=!0;function ZR(t,e,n,r){var s=De,i=xo.transition;xo.transition=null;try{De=1,Sg(t,e,n,r)}finally{De=s,xo.transition=i}}function eN(t,e,n,r){var s=De,i=xo.transition;xo.transition=null;try{De=4,Sg(t,e,n,r)}finally{De=s,xo.transition=i}}function Sg(t,e,n,r){if(td){var s=Fp(t,e,n,r);if(s===null)Of(t,e,r,nd,n),A0(t,r);else if(XR(s,t,e,n,r))r.stopPropagation();else if(A0(t,r),e&4&&-1<YR.indexOf(t)){for(;s!==null;){var i=Yl(s);if(i!==null&&J1(i),i=Fp(t,e,n,r),i===null&&Of(t,e,r,nd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Of(t,e,r,null,n)}}var nd=null;function Fp(t,e,n,r){if(nd=null,t=xg(r),t=ui(t),t!==null)if(e=Li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nd=t,null}function rE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BR()){case _g:return 1;case G1:return 4;case Zu:case zR:return 16;case Q1:return 536870912;default:return 16}default:return 16}}var ms=null,bg=null,_u=null;function sE(){if(_u)return _u;var t,e=bg,n=e.length,r,s="value"in ms?ms.value:ms.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return _u=s.slice(t,1<r?1-r:void 0)}function Eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qc(){return!0}function R0(){return!1}function En(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qc:R0,this.isPropagationStopped=R0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),e}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=En(oa),Ql=Qe({},oa,{view:0,detail:0}),tN=En(Ql),If,Cf,Ma,Zd=Qe({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(If=t.screenX-Ma.screenX,Cf=t.screenY-Ma.screenY):Cf=If=0,Ma=t),If)},movementY:function(t){return"movementY"in t?t.movementY:Cf}}),N0=En(Zd),nN=Qe({},Zd,{dataTransfer:0}),rN=En(nN),sN=Qe({},Ql,{relatedTarget:0}),Af=En(sN),iN=Qe({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),oN=En(iN),aN=Qe({},oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lN=En(aN),cN=Qe({},oa,{data:0}),P0=En(cN),uN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hN[t])?!!e[t]:!1}function Cg(){return fN}var pN=Qe({},Ql,{key:function(t){if(t.key){var e=uN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(t){return t.type==="keypress"?Eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mN=En(pN),gN=Qe({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=En(gN),yN=Qe({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),vN=En(yN),wN=Qe({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xN=En(wN),_N=Qe({},Zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EN=En(_N),TN=[9,13,27,32],Ag=Or&&"CompositionEvent"in window,Xa=null;Or&&"documentMode"in document&&(Xa=document.documentMode);var SN=Or&&"TextEvent"in window&&!Xa,iE=Or&&(!Ag||Xa&&8<Xa&&11>=Xa),M0=" ",O0=!1;function oE(t,e){switch(t){case"keyup":return TN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function bN(t,e){switch(t){case"compositionend":return aE(e);case"keypress":return e.which!==32?null:(O0=!0,M0);case"textInput":return t=e.data,t===M0&&O0?null:t;default:return null}}function IN(t,e){if(oo)return t==="compositionend"||!Ag&&oE(t,e)?(t=sE(),_u=bg=ms=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var CN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CN[t.type]:e==="textarea"}function lE(t,e,n,r){F1(r),e=rd(e,"onChange"),0<e.length&&(n=new Ig("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ja=null,yl=null;function AN(t){wE(t,0)}function eh(t){var e=co(t);if(P1(e))return t}function kN(t,e){if(t==="change")return e}var cE=!1;if(Or){var kf;if(Or){var Rf="oninput"in document;if(!Rf){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),Rf=typeof L0.oninput=="function"}kf=Rf}else kf=!1;cE=kf&&(!document.documentMode||9<document.documentMode)}function V0(){Ja&&(Ja.detachEvent("onpropertychange",uE),yl=Ja=null)}function uE(t){if(t.propertyName==="value"&&eh(yl)){var e=[];lE(e,yl,t,xg(t)),$1(AN,e)}}function RN(t,e,n){t==="focusin"?(V0(),Ja=e,yl=n,Ja.attachEvent("onpropertychange",uE)):t==="focusout"&&V0()}function NN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eh(yl)}function PN(t,e){if(t==="click")return eh(e)}function DN(t,e){if(t==="input"||t==="change")return eh(e)}function MN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:MN;function vl(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_p.call(e,s)||!Qn(t[s],e[s]))return!1}return!0}function F0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U0(t,e){var n=F0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F0(n)}}function dE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hE(){for(var t=window,e=Yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yu(t.document)}return e}function kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ON(t){var e=hE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(r!==null&&kg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=U0(n,i);var o=U0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jN=Or&&"documentMode"in document&&11>=document.documentMode,ao=null,Up=null,Za=null,Bp=!1;function B0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bp||ao==null||ao!==Yu(r)||(r=ao,"selectionStart"in r&&kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&vl(Za,r)||(Za=r,r=rd(Up,"onSelect"),0<r.length&&(e=new Ig("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function Kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},Nf={},fE={};Or&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function th(t){if(Nf[t])return Nf[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fE)return Nf[t]=e[n];return t}var pE=th("animationend"),mE=th("animationiteration"),gE=th("animationstart"),yE=th("transitionend"),vE=new Map,z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(t,e){vE.set(t,e),ji(e,[t])}for(var Pf=0;Pf<z0.length;Pf++){var Df=z0[Pf],LN=Df.toLowerCase(),VN=Df[0].toUpperCase()+Df.slice(1);qs(LN,"on"+VN)}qs(pE,"onAnimationEnd");qs(mE,"onAnimationIteration");qs(gE,"onAnimationStart");qs("dblclick","onDoubleClick");qs("focusin","onFocus");qs("focusout","onBlur");qs(yE,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function $0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LR(r,e,void 0,t),t.currentTarget=null}function wE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;$0(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;$0(s,a,u),i=c}}}if(Ju)throw t=jp,Ju=!1,jp=null,t}function Ue(t,e){var n=e[qp];n===void 0&&(n=e[qp]=new Set);var r=t+"__bubble";n.has(r)||(xE(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),xE(n,t,r,e)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[Gc]){t[Gc]=!0,C1.forEach(function(n){n!=="selectionchange"&&(FN.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gc]||(e[Gc]=!0,Mf("selectionchange",!1,e))}}function xE(t,e,n,r){switch(rE(e)){case 1:var s=ZR;break;case 4:s=eN;break;default:s=Sg}n=s.bind(null,e,n,t),s=void 0,!Op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Of(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ui(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$1(function(){var u=i,f=xg(n),h=[];e:{var m=vE.get(t);if(m!==void 0){var w=Ig,S=t;switch(t){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":w=mN;break;case"focusin":S="focus",w=Af;break;case"focusout":S="blur",w=Af;break;case"beforeblur":case"afterblur":w=Af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=rN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=vN;break;case pE:case mE:case gE:w=oN;break;case yE:w=xN;break;case"scroll":w=tN;break;case"wheel":w=EN;break;case"copy":case"cut":case"paste":w=lN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=D0}var x=(e&4)!==0,T=!x&&t==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var g=u,_;g!==null;){_=g;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,y!==null&&(R=fl(g,y),R!=null&&x.push(xl(g,R,_)))),T)break;g=g.return}0<x.length&&(m=new w(m,S,null,n,f),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Dp&&(S=n.relatedTarget||n.fromElement)&&(ui(S)||S[jr]))break e;if((w||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,w?(S=n.relatedTarget||n.toElement,w=u,S=S?ui(S):null,S!==null&&(T=Li(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=u),w!==S)){if(x=N0,R="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=D0,R="onPointerLeave",y="onPointerEnter",g="pointer"),T=w==null?m:co(w),_=S==null?m:co(S),m=new x(R,g+"leave",w,n,f),m.target=T,m.relatedTarget=_,R=null,ui(f)===u&&(x=new x(y,g+"enter",S,n,f),x.target=_,x.relatedTarget=T,R=x),T=R,w&&S)t:{for(x=w,y=S,g=0,_=x;_;_=Yi(_))g++;for(_=0,R=y;R;R=Yi(R))_++;for(;0<g-_;)x=Yi(x),g--;for(;0<_-g;)y=Yi(y),_--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=Yi(x),y=Yi(y)}x=null}else x=null;w!==null&&H0(h,m,w,x,!1),S!==null&&T!==null&&H0(h,T,S,x,!0)}}e:{if(m=u?co(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var N=kN;else if(j0(m))if(cE)N=DN;else{N=NN;var O=RN}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=PN);if(N&&(N=N(t,u))){lE(h,N,n,f);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Ap(m,"number",m.value)}switch(O=u?co(u):window,t){case"focusin":(j0(O)||O.contentEditable==="true")&&(ao=O,Up=u,Za=null);break;case"focusout":Za=Up=ao=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,B0(h,n,f);break;case"selectionchange":if(jN)break;case"keydown":case"keyup":B0(h,n,f)}var I;if(Ag)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else oo?oE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(iE&&n.locale!=="ko"&&(oo||b!=="onCompositionStart"?b==="onCompositionEnd"&&oo&&(I=sE()):(ms=f,bg="value"in ms?ms.value:ms.textContent,oo=!0)),O=rd(u,b),0<O.length&&(b=new P0(b,t,null,n,f),h.push({event:b,listeners:O}),I?b.data=I:(I=aE(n),I!==null&&(b.data=I)))),(I=SN?bN(t,n):IN(t,n))&&(u=rd(u,"onBeforeInput"),0<u.length&&(f=new P0("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=I))}wE(h,e)})}function xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fl(t,n),i!=null&&r.unshift(xl(t,i,s)),i=fl(t,e),i!=null&&r.push(xl(t,i,s))),t=t.return}return r}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=fl(n,i),c!=null&&o.unshift(xl(n,c,a))):s||(c=fl(n,i),c!=null&&o.push(xl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UN=/\r\n?/g,BN=/\u0000|\uFFFD/g;function W0(t){return(typeof t=="string"?t:""+t).replace(UN,`
`).replace(BN,"")}function Qc(t,e,n){if(e=W0(e),W0(t)!==e&&n)throw Error(W(425))}function sd(){}var zp=null,$p=null;function Hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wp=typeof setTimeout=="function"?setTimeout:void 0,zN=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,$N=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(t){return q0.resolve(null).then(t).catch(HN)}:Wp;function HN(t){setTimeout(function(){throw t})}function jf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gl(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function K0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var aa=Math.random().toString(36).slice(2),lr="__reactFiber$"+aa,_l="__reactProps$"+aa,jr="__reactContainer$"+aa,qp="__reactEvents$"+aa,WN="__reactListeners$"+aa,qN="__reactHandles$"+aa;function ui(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=K0(t);t!==null;){if(n=t[lr])return n;t=K0(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[lr]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function nh(t){return t[_l]||null}var Kp=[],uo=-1;function Ks(t){return{current:t}}function $e(t){0>uo||(t.current=Kp[uo],Kp[uo]=null,uo--)}function Le(t,e){uo++,Kp[uo]=t.current,t.current=e}var Os={},$t=Ks(Os),sn=Ks(!1),Si=Os;function Uo(t,e){var n=t.type.contextTypes;if(!n)return Os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function on(t){return t=t.childContextTypes,t!=null}function id(){$e(sn),$e($t)}function G0(t,e,n){if($t.current!==Os)throw Error(W(168));Le($t,e),Le(sn,n)}function _E(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,RR(t)||"Unknown",s));return Qe({},n,r)}function od(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,Si=$t.current,Le($t,t),Le(sn,sn.current),!0}function Q0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=_E(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,$e(sn),$e($t),Le($t,t)):$e(sn),Le(sn,n)}var Ar=null,rh=!1,Lf=!1;function EE(t){Ar===null?Ar=[t]:Ar.push(t)}function KN(t){rh=!0,EE(t)}function Gs(){if(!Lf&&Ar!==null){Lf=!0;var t=0,e=De;try{var n=Ar;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,rh=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(t+1)),K1(_g,Gs),s}finally{De=e,Lf=!1}}return null}var ho=[],fo=0,ad=null,ld=0,bn=[],In=0,bi=null,Rr=1,Nr="";function ai(t,e){ho[fo++]=ld,ho[fo++]=ad,ad=t,ld=e}function TE(t,e,n){bn[In++]=Rr,bn[In++]=Nr,bn[In++]=bi,bi=t;var r=Rr;t=Nr;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var i=32-qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rr=1<<32-qn(e)+s|n<<s|r,Nr=i+t}else Rr=1<<i|n<<s|r,Nr=t}function Rg(t){t.return!==null&&(ai(t,1),TE(t,1,0))}function Ng(t){for(;t===ad;)ad=ho[--fo],ho[fo]=null,ld=ho[--fo],ho[fo]=null;for(;t===bi;)bi=bn[--In],bn[In]=null,Nr=bn[--In],bn[In]=null,Rr=bn[--In],bn[In]=null}var gn=null,pn=null,qe=!1,$n=null;function SE(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Y0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,pn=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bi!==null?{id:Rr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,pn=null,!0):!1;default:return!1}}function Gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qp(t){if(qe){var e=pn;if(e){var n=e;if(!Y0(t,e)){if(Gp(t))throw Error(W(418));e=Es(n.nextSibling);var r=gn;e&&Y0(t,e)?SE(r,n):(t.flags=t.flags&-4097|2,qe=!1,gn=t)}}else{if(Gp(t))throw Error(W(418));t.flags=t.flags&-4097|2,qe=!1,gn=t}}}function X0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function Yc(t){if(t!==gn)return!1;if(!qe)return X0(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hp(t.type,t.memoizedProps)),e&&(e=pn)){if(Gp(t))throw bE(),Error(W(418));for(;e;)SE(t,e),e=Es(e.nextSibling)}if(X0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=gn?Es(t.stateNode.nextSibling):null;return!0}function bE(){for(var t=pn;t;)t=Es(t.nextSibling)}function Bo(){pn=gn=null,qe=!1}function Pg(t){$n===null?$n=[t]:$n.push(t)}var GN=Wr.ReactCurrentBatchConfig;function Oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Xc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J0(t){var e=t._init;return e(t._payload)}function IE(t){function e(y,g){if(t){var _=y.deletions;_===null?(y.deletions=[g],y.flags|=16):_.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Is(y,g),y.index=0,y.sibling=null,y}function i(y,g,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<g?(y.flags|=2,g):_):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,_,R){return g===null||g.tag!==6?(g=Hf(_,y.mode,R),g.return=y,g):(g=s(g,_),g.return=y,g)}function c(y,g,_,R){var N=_.type;return N===io?f(y,g,_.props.children,R,_.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ns&&J0(N)===g.type)?(R=s(g,_.props),R.ref=Oa(y,g,_),R.return=y,R):(R=ku(_.type,_.key,_.props,null,y.mode,R),R.ref=Oa(y,g,_),R.return=y,R)}function u(y,g,_,R){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Wf(_,y.mode,R),g.return=y,g):(g=s(g,_.children||[]),g.return=y,g)}function f(y,g,_,R,N){return g===null||g.tag!==7?(g=xi(_,y.mode,R,N),g.return=y,g):(g=s(g,_),g.return=y,g)}function h(y,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Hf(""+g,y.mode,_),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Uc:return _=ku(g.type,g.key,g.props,null,y.mode,_),_.ref=Oa(y,null,g),_.return=y,_;case so:return g=Wf(g,y.mode,_),g.return=y,g;case ns:var R=g._init;return h(y,R(g._payload),_)}if(Ba(g)||Ra(g))return g=xi(g,y.mode,_,null),g.return=y,g;Xc(y,g)}return null}function m(y,g,_,R){var N=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:a(y,g,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uc:return _.key===N?c(y,g,_,R):null;case so:return _.key===N?u(y,g,_,R):null;case ns:return N=_._init,m(y,g,N(_._payload),R)}if(Ba(_)||Ra(_))return N!==null?null:f(y,g,_,R,null);Xc(y,_)}return null}function w(y,g,_,R,N){if(typeof R=="string"&&R!==""||typeof R=="number")return y=y.get(_)||null,a(g,y,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Uc:return y=y.get(R.key===null?_:R.key)||null,c(g,y,R,N);case so:return y=y.get(R.key===null?_:R.key)||null,u(g,y,R,N);case ns:var O=R._init;return w(y,g,_,O(R._payload),N)}if(Ba(R)||Ra(R))return y=y.get(_)||null,f(g,y,R,N,null);Xc(g,R)}return null}function S(y,g,_,R){for(var N=null,O=null,I=g,b=g=0,C=null;I!==null&&b<_.length;b++){I.index>b?(C=I,I=null):C=I.sibling;var k=m(y,I,_[b],R);if(k===null){I===null&&(I=C);break}t&&I&&k.alternate===null&&e(y,I),g=i(k,g,b),O===null?N=k:O.sibling=k,O=k,I=C}if(b===_.length)return n(y,I),qe&&ai(y,b),N;if(I===null){for(;b<_.length;b++)I=h(y,_[b],R),I!==null&&(g=i(I,g,b),O===null?N=I:O.sibling=I,O=I);return qe&&ai(y,b),N}for(I=r(y,I);b<_.length;b++)C=w(I,y,b,_[b],R),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?b:C.key),g=i(C,g,b),O===null?N=C:O.sibling=C,O=C);return t&&I.forEach(function(D){return e(y,D)}),qe&&ai(y,b),N}function x(y,g,_,R){var N=Ra(_);if(typeof N!="function")throw Error(W(150));if(_=N.call(_),_==null)throw Error(W(151));for(var O=N=null,I=g,b=g=0,C=null,k=_.next();I!==null&&!k.done;b++,k=_.next()){I.index>b?(C=I,I=null):C=I.sibling;var D=m(y,I,k.value,R);if(D===null){I===null&&(I=C);break}t&&I&&D.alternate===null&&e(y,I),g=i(D,g,b),O===null?N=D:O.sibling=D,O=D,I=C}if(k.done)return n(y,I),qe&&ai(y,b),N;if(I===null){for(;!k.done;b++,k=_.next())k=h(y,k.value,R),k!==null&&(g=i(k,g,b),O===null?N=k:O.sibling=k,O=k);return qe&&ai(y,b),N}for(I=r(y,I);!k.done;b++,k=_.next())k=w(I,y,b,k.value,R),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?b:k.key),g=i(k,g,b),O===null?N=k:O.sibling=k,O=k);return t&&I.forEach(function(M){return e(y,M)}),qe&&ai(y,b),N}function T(y,g,_,R){if(typeof _=="object"&&_!==null&&_.type===io&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Uc:e:{for(var N=_.key,O=g;O!==null;){if(O.key===N){if(N=_.type,N===io){if(O.tag===7){n(y,O.sibling),g=s(O,_.props.children),g.return=y,y=g;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ns&&J0(N)===O.type){n(y,O.sibling),g=s(O,_.props),g.ref=Oa(y,O,_),g.return=y,y=g;break e}n(y,O);break}else e(y,O);O=O.sibling}_.type===io?(g=xi(_.props.children,y.mode,R,_.key),g.return=y,y=g):(R=ku(_.type,_.key,_.props,null,y.mode,R),R.ref=Oa(y,g,_),R.return=y,y=R)}return o(y);case so:e:{for(O=_.key;g!==null;){if(g.key===O)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(y,g.sibling),g=s(g,_.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Wf(_,y.mode,R),g.return=y,y=g}return o(y);case ns:return O=_._init,T(y,g,O(_._payload),R)}if(Ba(_))return S(y,g,_,R);if(Ra(_))return x(y,g,_,R);Xc(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,_),g.return=y,y=g):(n(y,g),g=Hf(_,y.mode,R),g.return=y,y=g),o(y)):n(y,g)}return T}var zo=IE(!0),CE=IE(!1),cd=Ks(null),ud=null,po=null,Dg=null;function Mg(){Dg=po=ud=null}function Og(t){var e=cd.current;$e(cd),t._currentValue=e}function Yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){ud=t,Dg=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(Dg!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(ud===null)throw Error(W(308));po=t,ud.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var di=null;function jg(t){di===null?di=[t]:di.push(t)}function AE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rs=!1;function Lg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Lr(t,n)}return s=r.interleaved,s===null?(e.next=e,jg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Lr(t,n)}function Tu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eg(t,n)}}function Z0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dd(t,e,n,r){var s=t.updateQueue;rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,f=u=c=null,a=i;do{var m=a.lane,w=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,x=a;switch(m=e,w=n,x.tag){case 1:if(S=x.payload,typeof S=="function"){h=S.call(w,h,m);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,m=typeof S=="function"?S.call(w,h,m):S,m==null)break e;h=Qe({},h,m);break e;case 2:rs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=w,c=h):f=f.next=w,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ci|=o,t.lanes=o,t.memoizedState=h}}function ew(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Xl={},dr=Ks(Xl),El=Ks(Xl),Tl=Ks(Xl);function hi(t){if(t===Xl)throw Error(W(174));return t}function Vg(t,e){switch(Le(Tl,e),Le(El,t),Le(dr,Xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rp(e,t)}$e(dr),Le(dr,e)}function $o(){$e(dr),$e(El),$e(Tl)}function RE(t){hi(Tl.current);var e=hi(dr.current),n=Rp(e,t.type);e!==n&&(Le(El,t),Le(dr,n))}function Fg(t){El.current===t&&($e(dr),$e(El))}var Ke=Ks(0);function hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vf=[];function Ug(){for(var t=0;t<Vf.length;t++)Vf[t]._workInProgressVersionPrimary=null;Vf.length=0}var Su=Wr.ReactCurrentDispatcher,Ff=Wr.ReactCurrentBatchConfig,Ii=0,Ge=null,dt=null,yt=null,fd=!1,el=!1,Sl=0,QN=0;function Ot(){throw Error(W(321))}function Bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function zg(t,e,n,r,s,i){if(Ii=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Su.current=t===null||t.memoizedState===null?ZN:eP,t=n(r,s),el){i=0;do{if(el=!1,Sl=0,25<=i)throw Error(W(301));i+=1,yt=dt=null,e.updateQueue=null,Su.current=tP,t=n(r,s)}while(el)}if(Su.current=pd,e=dt!==null&&dt.next!==null,Ii=0,yt=dt=Ge=null,fd=!1,e)throw Error(W(300));return t}function $g(){var t=Sl!==0;return Sl=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ge.memoizedState=yt=t:yt=yt.next=t,yt}function Pn(){if(dt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=yt===null?Ge.memoizedState:yt.next;if(e!==null)yt=e,dt=t;else{if(t===null)throw Error(W(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},yt===null?Ge.memoizedState=yt=t:yt=yt.next=t}return yt}function bl(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=Pn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var f=u.lane;if((Ii&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,Ge.lanes|=f,Ci|=f}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Qn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Ci|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Pn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qn(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function NE(){}function PE(t,e){var n=Ge,r=Pn(),s=e(),i=!Qn(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,Hg(OE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Il(9,ME.bind(null,n,r,s,e),void 0,null),vt===null)throw Error(W(349));Ii&30||DE(n,e,s)}return s}function DE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ME(t,e,n,r){e.value=n,e.getSnapshot=r,jE(e)&&LE(t)}function OE(t,e,n){return n(function(){jE(e)&&LE(t)})}function jE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function LE(t){var e=Lr(t,1);e!==null&&Kn(e,t,1,-1)}function tw(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=JN.bind(null,Ge,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VE(){return Pn().memoizedState}function bu(t,e,n,r){var s=rr();Ge.flags|=t,s.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function sh(t,e,n,r){var s=Pn();r=r===void 0?null:r;var i=void 0;if(dt!==null){var o=dt.memoizedState;if(i=o.destroy,r!==null&&Bg(r,o.deps)){s.memoizedState=Il(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=Il(1|e,n,i,r)}function nw(t,e){return bu(8390656,8,t,e)}function Hg(t,e){return sh(2048,8,t,e)}function FE(t,e){return sh(4,2,t,e)}function UE(t,e){return sh(4,4,t,e)}function BE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zE(t,e,n){return n=n!=null?n.concat([t]):null,sh(4,4,BE.bind(null,e,t),n)}function Wg(){}function $E(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HE(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WE(t,e,n){return Ii&21?(Qn(n,e)||(n=Y1(),Ge.lanes|=n,Ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function YN(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{De=n,Ff.transition=r}}function qE(){return Pn().memoizedState}function XN(t,e,n){var r=bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KE(t))GE(e,n);else if(n=AE(t,e,n,r),n!==null){var s=Qt();Kn(n,t,r,s),QE(n,e,r)}}function JN(t,e,n){var r=bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KE(t))GE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qn(a,o)){var c=e.interleaved;c===null?(s.next=s,jg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=AE(t,e,s,r),n!==null&&(s=Qt(),Kn(n,t,r,s),QE(n,e,r))}}function KE(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function GE(t,e){el=fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eg(t,n)}}var pd={readContext:Nn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},ZN={readContext:Nn,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:nw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bu(4194308,4,BE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return bu(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XN.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:tw,useDebugValue:Wg,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=tw(!1),e=t[0];return t=YN.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=rr();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),vt===null)throw Error(W(349));Ii&30||DE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,nw(OE.bind(null,r,i,t),[t]),r.flags|=2048,Il(9,ME.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=rr(),e=vt.identifierPrefix;if(qe){var n=Nr,r=Rr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eP={readContext:Nn,useCallback:$E,useContext:Nn,useEffect:Hg,useImperativeHandle:zE,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:HE,useReducer:Uf,useRef:VE,useState:function(){return Uf(bl)},useDebugValue:Wg,useDeferredValue:function(t){var e=Pn();return WE(e,dt.memoizedState,t)},useTransition:function(){var t=Uf(bl)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:PE,useId:qE,unstable_isNewReconciler:!1},tP={readContext:Nn,useCallback:$E,useContext:Nn,useEffect:Hg,useImperativeHandle:zE,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:HE,useReducer:Bf,useRef:VE,useState:function(){return Bf(bl)},useDebugValue:Wg,useDeferredValue:function(t){var e=Pn();return dt===null?e.memoizedState=t:WE(e,dt.memoizedState,t)},useTransition:function(){var t=Bf(bl)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:PE,useId:qE,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ih={isMounted:function(t){return(t=t._reactInternals)?Li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=bs(t),i=Mr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,s),e!==null&&(Kn(e,t,s,r),Tu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=bs(t),i=Mr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,s),e!==null&&(Kn(e,t,s,r),Tu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=bs(t),s=Mr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ts(t,s,r),e!==null&&(Kn(e,t,r,n),Tu(e,t,r))}};function rw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(s,i):!0}function YE(t,e,n){var r=!1,s=Os,i=e.contextType;return typeof i=="object"&&i!==null?i=Nn(i):(s=on(e)?Si:$t.current,r=e.contextTypes,i=(r=r!=null)?Uo(t,s):Os),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function sw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ih.enqueueReplaceState(e,e.state,null)}function Jp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Lg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nn(i):(i=on(e)?Si:$t.current,s.context=Uo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ih.enqueueReplaceState(s,s.state,null),dd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ho(t,e){try{var n="",r=e;do n+=kR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nP=typeof WeakMap=="function"?WeakMap:Map;function XE(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gd||(gd=!0,cm=r),Zp(t,e)},n}function JE(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zp(t,e),typeof r!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=gP.bind(null,t,e,n),e.then(t,t))}function ow(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ts(n,e,1))),n.lanes|=1),t)}var rP=Wr.ReactCurrentOwner,rn=!1;function Kt(t,e,n,r){e.child=t===null?CE(e,null,n,r):zo(e,t.child,n,r)}function lw(t,e,n,r,s){n=n.render;var i=e.ref;return _o(e,s),r=zg(t,e,n,r,i,s),n=$g(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(qe&&n&&Rg(e),e.flags|=1,Kt(t,e,r,s),e.child)}function cw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ZE(t,e,i,r,s)):(t=ku(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=Is(i,r),t.ref=e.ref,t.return=e,e.child=t}function ZE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(vl(i,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return em(t,e,n,r,s)}function eT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(go,hn),hn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(go,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(go,hn),hn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(go,hn),hn|=r;return Kt(t,e,s,n),e.child}function tT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function em(t,e,n,r,s){var i=on(n)?Si:$t.current;return i=Uo(e,i),_o(e,s),n=zg(t,e,n,r,i,s),r=$g(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(qe&&r&&Rg(e),e.flags|=1,Kt(t,e,n,s),e.child)}function uw(t,e,n,r,s){if(on(n)){var i=!0;od(e)}else i=!1;if(_o(e,s),e.stateNode===null)Iu(t,e),YE(e,n,r),Jp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=on(n)?Si:$t.current,u=Uo(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&sw(e,o,r,u),rs=!1;var m=e.memoizedState;o.state=m,dd(e,r,o,s),c=e.memoizedState,a!==r||m!==c||sn.current||rs?(typeof f=="function"&&(Xp(e,n,f,r),c=e.memoizedState),(a=rs||rw(e,n,a,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),o.props=u,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=on(n)?Si:$t.current,c=Uo(e,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==c)&&sw(e,o,r,c),rs=!1,m=e.memoizedState,o.state=m,dd(e,r,o,s);var S=e.memoizedState;a!==h||m!==S||sn.current||rs?(typeof w=="function"&&(Xp(e,n,w,r),S=e.memoizedState),(u=rs||rw(e,n,u,r,m,S,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return tm(t,e,n,r,i,s)}function tm(t,e,n,r,s,i){tT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Q0(e,n,!1),Vr(t,e,i);r=e.stateNode,rP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,i),e.child=zo(e,null,a,i)):Kt(t,e,a,i),e.memoizedState=r.state,s&&Q0(e,n,!0),e.child}function nT(t){var e=t.stateNode;e.pendingContext?G0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G0(t,e.context,!1),Vg(t,e.containerInfo)}function dw(t,e,n,r,s){return Bo(),Pg(s),e.flags|=256,Kt(t,e,n,r),e.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function rT(t,e,n){var r=e.pendingProps,s=Ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Ke,s&1),t===null)return Qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=lh(o,r,0,null),t=xi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rm(n),e.memoizedState=nm,t):qg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sP(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Is(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Is(a,i):(i=xi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?rm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=nm,r}return i=t.child,t=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qg(t,e){return e=lh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jc(t,e,n,r){return r!==null&&Pg(r),zo(e,t.child,null,n),t=qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zf(Error(W(422))),Jc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=lh({mode:"visible",children:r.children},s,0,null),i=xi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=rm(o),e.memoizedState=nm,i);if(!(e.mode&1))return Jc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=zf(i,r,void 0),Jc(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(t,s),Kn(r,t,s,-1))}return Jg(),r=zf(Error(W(421))),Jc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=Es(s.nextSibling),gn=e,qe=!0,$n=null,t!==null&&(bn[In++]=Rr,bn[In++]=Nr,bn[In++]=bi,Rr=t.id,Nr=t.overflow,bi=e),e=qg(e,r.children),e.flags|=4096,e)}function hw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yp(t.return,e,n)}function $f(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Kt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hw(t,n,e);else if(t.tag===19)hw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),$f(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}$f(e,!0,n,null,i);break;case"together":$f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iP(t,e,n){switch(e.tag){case 3:nT(e),Bo();break;case 5:RE(e);break;case 1:on(e.type)&&od(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(cd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?rT(t,e,n):(Le(Ke,Ke.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Le(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,eT(t,e,n)}return Vr(t,e,n)}var iT,sm,oT,aT;iT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sm=function(){};oT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hi(dr.current);var i=null;switch(n){case"input":s=Ip(t,s),r=Ip(t,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=kp(t,s),r=kp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sd)}Np(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ue("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};aT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ja(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oP(t,e,n){var r=e.pendingProps;switch(Ng(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return on(e.type)&&id(),jt(e),null;case 3:return r=e.stateNode,$o(),$e(sn),$e($t),Ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(hm($n),$n=null))),sm(t,e),jt(e),null;case 5:Fg(e);var s=hi(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)oT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return jt(e),null}if(t=hi(dr.current),Yc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lr]=e,r[_l]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<$a.length;s++)Ue($a[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":_0(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":T0(r,i),Ue("invalid",r)}Np(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qc(r.textContent,a,t),s=["children",""+a]):dl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Bc(r),E0(r,i,!0);break;case"textarea":Bc(r),S0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[_l]=r,iT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pp(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<$a.length;s++)Ue($a[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":_0(t,r),s=Ip(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":T0(t,r),s=kp(t,r),Ue("invalid",t);break;default:s=r}Np(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?V1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&j1(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hl(t,c):typeof c=="number"&&hl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ue("scroll",t):c!=null&&gg(t,i,c,o))}switch(n){case"input":Bc(t),E0(t,r,!1);break;case"textarea":Bc(t),S0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ms(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yo(t,!!r.multiple,i,!1):r.defaultValue!=null&&yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)aT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=hi(Tl.current),hi(dr.current),Yc(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(i=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:Qc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return jt(e),null;case 13:if($e(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&pn!==null&&e.mode&1&&!(e.flags&128))bE(),Bo(),e.flags|=98560,i=!1;else if(i=Yc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[lr]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else $n!==null&&(hm($n),$n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?ht===0&&(ht=3):Jg())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return $o(),sm(t,e),t===null&&wl(e.stateNode.containerInfo),jt(e),null;case 10:return Og(e.type._context),jt(e),null;case 17:return on(e.type)&&id(),jt(e),null;case 19:if($e(Ke),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ja(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hd(t),o!==null){for(e.flags|=128,ja(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&st()>Wo&&(e.flags|=128,r=!0,ja(i,!1),e.lanes=4194304)}else{if(!r)if(t=hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ja(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qe)return jt(e),null}else 2*st()-i.renderingStartTime>Wo&&n!==1073741824&&(e.flags|=128,r=!0,ja(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=st(),e.sibling=null,n=Ke.current,Le(Ke,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Xg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function aP(t,e){switch(Ng(e),e.tag){case 1:return on(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $o(),$e(sn),$e($t),Ug(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fg(e),null;case 13:if($e(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ke),null;case 4:return $o(),null;case 10:return Og(e.type._context),null;case 22:case 23:return Xg(),null;case 24:return null;default:return null}}var Zc=!1,Ut=!1,lP=typeof WeakSet=="function"?WeakSet:Set,ee=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function im(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var fw=!1;function cP(t,e){if(zp=td,t=hE(),kg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,h=t,m=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++f===r&&(c=o),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($p={focusedElem:t,selectionRange:n},td=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,T=S.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Fn(e.type,x),T);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(R){Ze(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return S=fw,fw=!1,S}function tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&im(e,n,i)}s=s.next}while(s!==r)}}function oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function om(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lT(t){var e=t.alternate;e!==null&&(t.alternate=null,lT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[_l],delete e[qp],delete e[WN],delete e[qN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cT(t){return t.tag===5||t.tag===3||t.tag===4}function pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sd));else if(r!==4&&(t=t.child,t!==null))for(am(t,e,n),t=t.sibling;t!==null;)am(t,e,n),t=t.sibling}function lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lm(t,e,n),t=t.sibling;t!==null;)lm(t,e,n),t=t.sibling}var bt=null,zn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)uT(t,e,n),n=n.sibling}function uT(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Jd,n)}catch{}switch(n.tag){case 5:Ut||mo(n,e);case 6:var r=bt,s=zn;bt=null,Yr(t,e,n),bt=r,zn=s,bt!==null&&(zn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(zn?(t=bt,n=n.stateNode,t.nodeType===8?jf(t.parentNode,n):t.nodeType===1&&jf(t,n),gl(t)):jf(bt,n.stateNode));break;case 4:r=bt,s=zn,bt=n.stateNode.containerInfo,zn=!0,Yr(t,e,n),bt=r,zn=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&im(n,e,o),s=s.next}while(s!==r)}Yr(t,e,n);break;case 1:if(!Ut&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Yr(t,e,n),Ut=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function mw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lP),e.forEach(function(r){var s=vP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,zn=!1;break e;case 3:bt=a.stateNode.containerInfo,zn=!0;break e;case 4:bt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(bt===null)throw Error(W(160));uT(i,o,s),bt=null,zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ze(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dT(e,t),e=e.sibling}function dT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),tr(t),r&4){try{tl(3,t,t.return),oh(3,t)}catch(x){Ze(t,t.return,x)}try{tl(5,t,t.return)}catch(x){Ze(t,t.return,x)}}break;case 1:Ln(e,t),tr(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(Ln(e,t),tr(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var s=t.stateNode;try{hl(s,"")}catch(x){Ze(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&D1(s,i),Pp(a,o);var u=Pp(a,i);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?V1(s,h):f==="dangerouslySetInnerHTML"?j1(s,h):f==="children"?hl(s,h):gg(s,f,h,u)}switch(a){case"input":Cp(s,i);break;case"textarea":M1(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?yo(s,!!i.multiple,w,!1):m!==!!i.multiple&&(i.defaultValue!=null?yo(s,!!i.multiple,i.defaultValue,!0):yo(s,!!i.multiple,i.multiple?[]:"",!1))}s[_l]=i}catch(x){Ze(t,t.return,x)}}break;case 6:if(Ln(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Ze(t,t.return,x)}}break;case 3:if(Ln(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(e.containerInfo)}catch(x){Ze(t,t.return,x)}break;case 4:Ln(e,t),tr(t);break;case 13:Ln(e,t),tr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qg=st())),r&4&&mw(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||f,Ln(e,t),Ut=u):Ln(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ee=t,f=t.child;f!==null;){for(h=ee=f;ee!==null;){switch(m=ee,w=m.child,m.tag){case 0:case 11:case 14:case 15:tl(4,m,m.return);break;case 1:mo(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(x){Ze(r,n,x)}}break;case 5:mo(m,m.return);break;case 22:if(m.memoizedState!==null){yw(h);continue}}w!==null?(w.return=m,ee=w):yw(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=L1("display",o))}catch(x){Ze(t,t.return,x)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ze(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ln(e,t),tr(t),r&4&&mw(t);break;case 21:break;default:Ln(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cT(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hl(s,""),r.flags&=-33);var i=pw(t);lm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pw(t);am(t,a,o);break;default:throw Error(W(161))}}catch(c){Ze(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uP(t,e,n){ee=t,hT(t)}function hT(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ut;a=Zc;var u=Ut;if(Zc=o,(Ut=c)&&!u)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?vw(s):c!==null?(c.return=o,ee=c):vw(s);for(;i!==null;)ee=i,hT(i),i=i.sibling;ee=s,Zc=a,Ut=u}gw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):gw(t)}}function gw(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ew(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ew(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&gl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ut||e.flags&512&&om(e)}catch(m){Ze(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function yw(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function vw(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oh(4,e)}catch(c){Ze(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ze(e,s,c)}}var i=e.return;try{om(e)}catch(c){Ze(e,i,c)}break;case 5:var o=e.return;try{om(e)}catch(c){Ze(e,o,c)}}}catch(c){Ze(e,e.return,c)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var dP=Math.ceil,md=Wr.ReactCurrentDispatcher,Kg=Wr.ReactCurrentOwner,An=Wr.ReactCurrentBatchConfig,Ce=0,vt=null,at=null,At=0,hn=0,go=Ks(0),ht=0,Cl=null,Ci=0,ah=0,Gg=0,nl=null,tn=null,Qg=0,Wo=1/0,Cr=null,gd=!1,cm=null,Ss=null,eu=!1,gs=null,yd=0,rl=0,um=null,Cu=-1,Au=0;function Qt(){return Ce&6?st():Cu!==-1?Cu:Cu=st()}function bs(t){return t.mode&1?Ce&2&&At!==0?At&-At:GN.transition!==null?(Au===0&&(Au=Y1()),Au):(t=De,t!==0||(t=window.event,t=t===void 0?16:rE(t.type)),t):1}function Kn(t,e,n,r){if(50<rl)throw rl=0,um=null,Error(W(185));Gl(t,n,r),(!(Ce&2)||t!==vt)&&(t===vt&&(!(Ce&2)&&(ah|=n),ht===4&&os(t,At)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Wo=st()+500,rh&&Gs()))}function an(t,e){var n=t.callbackNode;GR(t,e);var r=ed(t,t===vt?At:0);if(r===0)n!==null&&C0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C0(n),e===1)t.tag===0?KN(ww.bind(null,t)):EE(ww.bind(null,t)),$N(function(){!(Ce&6)&&Gs()}),n=null;else{switch(X1(r)){case 1:n=_g;break;case 4:n=G1;break;case 16:n=Zu;break;case 536870912:n=Q1;break;default:n=Zu}n=xT(n,fT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fT(t,e){if(Cu=-1,Au=0,Ce&6)throw Error(W(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=ed(t,t===vt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vd(t,r);else{e=r;var s=Ce;Ce|=2;var i=mT();(vt!==t||At!==e)&&(Cr=null,Wo=st()+500,wi(t,e));do try{pP();break}catch(a){pT(t,a)}while(!0);Mg(),md.current=i,Ce=s,at!==null?e=0:(vt=null,At=0,e=ht)}if(e!==0){if(e===2&&(s=Lp(t),s!==0&&(r=s,e=dm(t,s))),e===1)throw n=Cl,wi(t,0),os(t,r),an(t,st()),n;if(e===6)os(t,r);else{if(s=t.current.alternate,!(r&30)&&!hP(s)&&(e=vd(t,r),e===2&&(i=Lp(t),i!==0&&(r=i,e=dm(t,i))),e===1))throw n=Cl,wi(t,0),os(t,r),an(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:li(t,tn,Cr);break;case 3:if(os(t,r),(r&130023424)===r&&(e=Qg+500-st(),10<e)){if(ed(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wp(li.bind(null,t,tn,Cr),e);break}li(t,tn,Cr);break;case 4:if(os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dP(r/1960))-r,10<r){t.timeoutHandle=Wp(li.bind(null,t,tn,Cr),r);break}li(t,tn,Cr);break;case 5:li(t,tn,Cr);break;default:throw Error(W(329))}}}return an(t,st()),t.callbackNode===n?fT.bind(null,t):null}function dm(t,e){var n=nl;return t.current.memoizedState.isDehydrated&&(wi(t,e).flags|=256),t=vd(t,e),t!==2&&(e=tn,tn=n,e!==null&&hm(e)),t}function hm(t){tn===null?tn=t:tn.push.apply(tn,t)}function hP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(t,e){for(e&=~Gg,e&=~ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function ww(t){if(Ce&6)throw Error(W(327));Eo();var e=ed(t,0);if(!(e&1))return an(t,st()),null;var n=vd(t,e);if(t.tag!==0&&n===2){var r=Lp(t);r!==0&&(e=r,n=dm(t,r))}if(n===1)throw n=Cl,wi(t,0),os(t,e),an(t,st()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,tn,Cr),an(t,st()),null}function Yg(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Wo=st()+500,rh&&Gs())}}function Ai(t){gs!==null&&gs.tag===0&&!(Ce&6)&&Eo();var e=Ce;Ce|=1;var n=An.transition,r=De;try{if(An.transition=null,De=1,t)return t()}finally{De=r,An.transition=n,Ce=e,!(Ce&6)&&Gs()}}function Xg(){hn=go.current,$e(go)}function wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zN(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Ng(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:$o(),$e(sn),$e($t),Ug();break;case 5:Fg(r);break;case 4:$o();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:Og(r.type._context);break;case 22:case 23:Xg()}n=n.return}if(vt=t,at=t=Is(t.current,null),At=hn=e,ht=0,Cl=null,Gg=ah=Ci=0,tn=nl=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}di=null}return t}function pT(t,e){do{var n=at;try{if(Mg(),Su.current=pd,fd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fd=!1}if(Ii=0,yt=dt=Ge=null,el=!1,Sl=0,Kg.current=null,n===null||n.return===null){ht=1,Cl=e,at=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=At,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=ow(o);if(w!==null){w.flags&=-257,aw(w,o,a,i,e),w.mode&1&&iw(i,u,e),e=w,c=u;var S=e.updateQueue;if(S===null){var x=new Set;x.add(c),e.updateQueue=x}else S.add(c);break e}else{if(!(e&1)){iw(i,u,e),Jg();break e}c=Error(W(426))}}else if(qe&&a.mode&1){var T=ow(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),aw(T,o,a,i,e),Pg(Ho(c,a));break e}}i=c=Ho(c,a),ht!==4&&(ht=2),nl===null?nl=[i]:nl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=XE(i,c,e);Z0(i,y);break e;case 1:a=c;var g=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ss===null||!Ss.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=JE(i,a,e);Z0(i,R);break e}}i=i.return}while(i!==null)}yT(n)}catch(N){e=N,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function mT(){var t=md.current;return md.current=pd,t===null?pd:t}function Jg(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(Ci&268435455)&&!(ah&268435455)||os(vt,At)}function vd(t,e){var n=Ce;Ce|=2;var r=mT();(vt!==t||At!==e)&&(Cr=null,wi(t,e));do try{fP();break}catch(s){pT(t,s)}while(!0);if(Mg(),Ce=n,md.current=r,at!==null)throw Error(W(261));return vt=null,At=0,ht}function fP(){for(;at!==null;)gT(at)}function pP(){for(;at!==null&&!FR();)gT(at)}function gT(t){var e=wT(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?yT(t):at=e,Kg.current=null}function yT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aP(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,at=null;return}}else if(n=oP(n,e,hn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ht===0&&(ht=5)}function li(t,e,n){var r=De,s=An.transition;try{An.transition=null,De=1,mP(t,e,n,r)}finally{An.transition=s,De=r}return null}function mP(t,e,n,r){do Eo();while(gs!==null);if(Ce&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QR(t,i),t===vt&&(at=vt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eu||(eu=!0,xT(Zu,function(){return Eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=An.transition,An.transition=null;var o=De;De=1;var a=Ce;Ce|=4,Kg.current=null,cP(t,n),dT(n,t),ON($p),td=!!zp,$p=zp=null,t.current=n,uP(n),UR(),Ce=a,De=o,An.transition=i}else t.current=n;if(eu&&(eu=!1,gs=t,yd=s),i=t.pendingLanes,i===0&&(Ss=null),$R(n.stateNode),an(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gd)throw gd=!1,t=cm,cm=null,t;return yd&1&&t.tag!==0&&Eo(),i=t.pendingLanes,i&1?t===um?rl++:(rl=0,um=t):rl=0,Gs(),null}function Eo(){if(gs!==null){var t=X1(yd),e=An.transition,n=De;try{if(An.transition=null,De=16>t?16:t,gs===null)var r=!1;else{if(t=gs,gs=null,yd=0,Ce&6)throw Error(W(331));var s=Ce;for(Ce|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ee=u;ee!==null;){var f=ee;switch(f.tag){case 0:case 11:case 15:tl(8,f,i)}var h=f.child;if(h!==null)h.return=f,ee=h;else for(;ee!==null;){f=ee;var m=f.sibling,w=f.return;if(lT(f),f===u){ee=null;break}if(m!==null){m.return=w,ee=m;break}ee=w}}}var S=i.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ee=y;break e}ee=i.return}}var g=t.current;for(ee=g;ee!==null;){o=ee;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ee=_;else e:for(o=g;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oh(9,a)}}catch(N){Ze(a,a.return,N)}if(a===o){ee=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ee=R;break e}ee=a.return}}if(Ce=s,Gs(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Jd,t)}catch{}r=!0}return r}finally{De=n,An.transition=e}}return!1}function xw(t,e,n){e=Ho(n,e),e=XE(t,e,1),t=Ts(t,e,1),e=Qt(),t!==null&&(Gl(t,1,e),an(t,e))}function Ze(t,e,n){if(t.tag===3)xw(t,t,n);else for(;e!==null;){if(e.tag===3){xw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ss===null||!Ss.has(r))){t=Ho(n,t),t=JE(e,t,1),e=Ts(e,t,1),t=Qt(),e!==null&&(Gl(e,1,t),an(e,t));break}}e=e.return}}function gP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(At&n)===n&&(ht===4||ht===3&&(At&130023424)===At&&500>st()-Qg?wi(t,0):Gg|=n),an(t,e)}function vT(t,e){e===0&&(t.mode&1?(e=Hc,Hc<<=1,!(Hc&130023424)&&(Hc=4194304)):e=1);var n=Qt();t=Lr(t,e),t!==null&&(Gl(t,e,n),an(t,n))}function yP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vT(t,n)}function vP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),vT(t,n)}var wT;wT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,iP(t,e,n);rn=!!(t.flags&131072)}else rn=!1,qe&&e.flags&1048576&&TE(e,ld,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Iu(t,e),t=e.pendingProps;var s=Uo(e,$t.current);_o(e,n),s=zg(null,e,r,t,s,n);var i=$g();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(i=!0,od(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lg(e),s.updater=ih,e.stateNode=s,s._reactInternals=e,Jp(e,r,t,n),e=tm(null,e,r,!0,i,n)):(e.tag=0,qe&&i&&Rg(e),Kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Iu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xP(r),t=Fn(r,t),s){case 0:e=em(null,e,r,t,n);break e;case 1:e=uw(null,e,r,t,n);break e;case 11:e=lw(null,e,r,t,n);break e;case 14:e=cw(null,e,r,Fn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),em(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),uw(t,e,r,s,n);case 3:e:{if(nT(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,kE(t,e),dd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ho(Error(W(423)),e),e=dw(t,e,r,n,s);break e}else if(r!==s){s=Ho(Error(W(424)),e),e=dw(t,e,r,n,s);break e}else for(pn=Es(e.stateNode.containerInfo.firstChild),gn=e,qe=!0,$n=null,n=CE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===s){e=Vr(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return RE(e),t===null&&Qp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Hp(r,s)?o=null:i!==null&&Hp(r,i)&&(e.flags|=32),tT(t,e),Kt(t,e,o,n),e.child;case 6:return t===null&&Qp(e),null;case 13:return rT(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),lw(t,e,r,s,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(cd,r._currentValue),r._currentValue=o,i!==null)if(Qn(i.value,o)){if(i.children===s.children&&!sn.current){e=Vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_o(e,n),s=Nn(s),r=r(s),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,s=Fn(r,e.pendingProps),s=Fn(r.type,s),cw(t,e,r,s,n);case 15:return ZE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),Iu(t,e),e.tag=1,on(r)?(t=!0,od(e)):t=!1,_o(e,n),YE(e,r,s),Jp(e,r,s,n),tm(null,e,r,!0,t,n);case 19:return sT(t,e,n);case 22:return eT(t,e,n)}throw Error(W(156,e.tag))};function xT(t,e){return K1(t,e)}function wP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new wP(t,e,n,r)}function Zg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xP(t){if(typeof t=="function")return Zg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vg)return 11;if(t===wg)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case io:return xi(n.children,s,i,e);case yg:o=8,s|=8;break;case Ep:return t=Cn(12,n,e,s|2),t.elementType=Ep,t.lanes=i,t;case Tp:return t=Cn(13,n,e,s),t.elementType=Tp,t.lanes=i,t;case Sp:return t=Cn(19,n,e,s),t.elementType=Sp,t.lanes=i,t;case R1:return lh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A1:o=10;break e;case k1:o=9;break e;case vg:o=11;break e;case wg:o=14;break e;case ns:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function xi(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function lh(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=R1,t.lanes=n,t.stateNode={isHidden:!1},t}function Hf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function Wf(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _P(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ey(t,e,n,r,s,i,o,a,c){return t=new _P(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(i),t}function EP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _T(t){if(!t)return Os;t=t._reactInternals;e:{if(Li(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(on(n))return _E(t,n,e)}return e}function ET(t,e,n,r,s,i,o,a,c){return t=ey(n,r,!0,t,s,i,o,a,c),t.context=_T(null),n=t.current,r=Qt(),s=bs(n),i=Mr(r,s),i.callback=e??null,Ts(n,i,s),t.current.lanes=s,Gl(t,s,r),an(t,r),t}function ch(t,e,n,r){var s=e.current,i=Qt(),o=bs(s);return n=_T(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ts(s,e,o),t!==null&&(Kn(t,s,o,i),Tu(t,s,o)),o}function wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ty(t,e){_w(t,e),(t=t.alternate)&&_w(t,e)}function TP(){return null}var TT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ny(t){this._internalRoot=t}uh.prototype.render=ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));ch(t,e,null,null)};uh.prototype.unmount=ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){ch(null,t,null,null)}),e[jr]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var e=eE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<is.length&&e!==0&&e<is[n].priority;n++);is.splice(n,0,t),n===0&&nE(t)}};function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ew(){}function SP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=wd(o);i.call(u)}}var o=ET(e,r,t,0,null,!1,!1,"",Ew);return t._reactRootContainer=o,t[jr]=o.current,wl(t.nodeType===8?t.parentNode:t),Ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=wd(c);a.call(u)}}var c=ey(t,0,!1,null,null,!1,!1,"",Ew);return t._reactRootContainer=c,t[jr]=c.current,wl(t.nodeType===8?t.parentNode:t),Ai(function(){ch(e,c,n,r)}),c}function hh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=wd(o);a.call(c)}}ch(e,o,t,s)}else o=SP(n,e,t,s,r);return wd(o)}J1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Eg(e,n|1),an(e,st()),!(Ce&6)&&(Wo=st()+500,Gs()))}break;case 13:Ai(function(){var r=Lr(t,1);if(r!==null){var s=Qt();Kn(r,t,1,s)}}),ty(t,1)}};Tg=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Qt();Kn(e,t,134217728,n)}ty(t,134217728)}};Z1=function(t){if(t.tag===13){var e=bs(t),n=Lr(t,e);if(n!==null){var r=Qt();Kn(n,t,e,r)}ty(t,e)}};eE=function(){return De};tE=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Mp=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=nh(r);if(!s)throw Error(W(90));P1(r),Cp(r,s)}}}break;case"textarea":M1(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};B1=Yg;z1=Ai;var bP={usingClientEntryPoint:!1,Events:[Yl,co,nh,F1,U1,Yg]},La={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IP={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W1(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||TP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Jd=tu.inject(IP),ur=tu}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bP;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(e))throw Error(W(200));return EP(t,e,null,n)};_n.createRoot=function(t,e){if(!ry(t))throw Error(W(299));var n=!1,r="",s=TT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ey(t,1,!1,null,null,n,!1,r,s),t[jr]=e.current,wl(t.nodeType===8?t.parentNode:t),new ny(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=W1(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return Ai(t)};_n.hydrate=function(t,e,n){if(!dh(e))throw Error(W(200));return hh(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!ry(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=TT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ET(e,null,t,1,n??null,s,!1,i,o),t[jr]=e.current,wl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new uh(e)};_n.render=function(t,e,n){if(!dh(e))throw Error(W(200));return hh(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!dh(t))throw Error(W(40));return t._reactRootContainer?(Ai(function(){hh(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};_n.unstable_batchedUpdates=Yg;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return hh(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function ST(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ST)}catch(t){console.error(t)}}ST(),S1.exports=_n;var Vi=S1.exports;const bT=d1(Vi);var IT,Tw=Vi;IT=Tw.createRoot,Tw.hydrateRoot;const CP=1,AP=1e6;let qf=0;function kP(){return qf=(qf+1)%Number.MAX_SAFE_INTEGER,qf.toString()}const Kf=new Map,Sw=t=>{if(Kf.has(t))return;const e=setTimeout(()=>{Kf.delete(t),sl({type:"REMOVE_TOAST",toastId:t})},AP);Kf.set(t,e)},RP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,CP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Sw(n):t.toasts.forEach(r=>{Sw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ru=[];let Nu={toasts:[]};function sl(t){Nu=RP(Nu,t),Ru.forEach(e=>{e(Nu)})}function NP({...t}){const e=kP(),n=s=>sl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>sl({type:"DISMISS_TOAST",toastId:e});return sl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function sy(){const[t,e]=E.useState(Nu);return E.useEffect(()=>(Ru.push(e),()=>{const n=Ru.indexOf(e);n>-1&&Ru.splice(n,1)}),[t]),{...t,toast:NP,dismiss:n=>sl({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function bw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=bw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():bw(t[s],null)}}}}function Oe(...t){return E.useCallback(CT(...t),t)}function wr(t,e=[]){let n=[];function r(i,o){const a=E.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:m,children:w,...S}=h,x=((y=m==null?void 0:m[t])==null?void 0:y[c])||a,T=E.useMemo(()=>S,Object.values(S));return d.jsx(x.Provider,{value:T,children:w})};u.displayName=i+"Provider";function f(h,m){var x;const w=((x=m==null?void 0:m[t])==null?void 0:x[c])||a,S=E.useContext(w);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,PP(s,...e)]}function PP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Al(t){const e=MP(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,a=E.Children.toArray(i),c=a.find(jP);if(c){const u=c.props.children,f=a.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return d.jsx(e,{...o,ref:s,children:E.isValidElement(u)?E.cloneElement(u,void 0,f):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var DP=Al("Slot");function MP(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=VP(s),a=LP(i,s.props);return s.type!==E.Fragment&&(a.ref=r?CT(r,o):o),E.cloneElement(s,a)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AT=Symbol("radix.slottable");function OP(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=AT,e}function jP(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AT}function LP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fh(t){const e=t+"CollectionProvider",[n,r]=wr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:T,children:y}=x,g=q.useRef(null),_=q.useRef(new Map).current;return d.jsx(s,{scope:T,itemMap:_,collectionRef:g,children:y})};o.displayName=e;const a=t+"CollectionSlot",c=Al(a),u=q.forwardRef((x,T)=>{const{scope:y,children:g}=x,_=i(a,y),R=Oe(T,_.collectionRef);return d.jsx(c,{ref:R,children:g})});u.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=Al(f),w=q.forwardRef((x,T)=>{const{scope:y,children:g,..._}=x,R=q.useRef(null),N=Oe(T,R),O=i(f,y);return q.useEffect(()=>(O.itemMap.set(R,{ref:R,..._}),()=>void O.itemMap.delete(R))),d.jsx(m,{[h]:"",ref:N,children:g})});w.displayName=f;function S(x){const T=i(t+"CollectionConsumer",x);return q.useCallback(()=>{const g=T.collectionRef.current;if(!g)return[];const _=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((O,I)=>_.indexOf(O.ref.current)-_.indexOf(I.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:u,ItemSlot:w},S,r]}var FP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],de=FP.reduce((t,e)=>{const n=Al(`Primitive.${e}`),r=E.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function kT(t,e){t&&Vi.flushSync(()=>t.dispatchEvent(e))}function Yt(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function UP(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var BP="DismissableLayer",fm="dismissableLayer.update",zP="dismissableLayer.pointerDownOutside",$P="dismissableLayer.focusOutside",Iw,RT=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ph=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=E.useContext(RT),[f,h]=E.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=E.useState({}),S=Oe(e,I=>h(I)),x=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(T),g=f?x.indexOf(f):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,R=g>=y,N=WP(I=>{const b=I.target,C=[...u.branches].some(k=>k.contains(b));!R||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},m),O=qP(I=>{const b=I.target;[...u.branches].some(k=>k.contains(b))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},m);return UP(I=>{g===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},m),E.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Iw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Cw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Iw)}},[f,m,n,u]),E.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Cw())},[f,u]),E.useEffect(()=>{const I=()=>w({});return document.addEventListener(fm,I),()=>document.removeEventListener(fm,I)},[]),d.jsx(de.div,{...c,ref:S,style:{pointerEvents:_?R?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,N.onPointerDownCapture)})});ph.displayName=BP;var HP="DismissableLayerBranch",NT=E.forwardRef((t,e)=>{const n=E.useContext(RT),r=E.useRef(null),s=Oe(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(de.div,{...t,ref:s})});NT.displayName=HP;function WP(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){PT(zP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qP(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&PT($P,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cw(){const t=new CustomEvent(fm);document.dispatchEvent(t)}function PT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kT(s,i):s.dispatchEvent(i)}var KP=ph,GP=NT,pt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},QP="Portal",iy=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=E.useState(!1);pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?bT.createPortal(d.jsx(de.div,{...r,ref:e}),o):null});iy.displayName=QP;function YP(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var mh=t=>{const{present:e,children:n}=t,r=XP(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=Oe(r.ref,JP(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};mh.displayName="Presence";function XP(t){const[e,n]=E.useState(),r=E.useRef({}),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[a,c]=YP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=nu(r.current);i.current=a==="mounted"?u:"none"},[a]),pt(()=>{const u=r.current,f=s.current;if(f!==t){const m=i.current,w=nu(u);t?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),pt(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=w=>{const x=nu(r.current).includes(w.animationName);if(w.target===e&&x&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},m=w=>{w.target===e&&(i.current=nu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function nu(t){return(t==null?void 0:t.animationName)||"none"}function JP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=ZP({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Yt(n),c=E.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else s(u)},[i,t,s,a]);return[o,c]}function ZP({defaultProp:t,onChange:e}){const n=E.useState(t),[r]=n,s=E.useRef(r),i=Yt(e);return E.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var e2="VisuallyHidden",Jl=E.forwardRef((t,e)=>d.jsx(de.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Jl.displayName=e2;var t2=Jl,oy="ToastProvider",[ay,n2,r2]=fh("Toast"),[DT,dB]=wr("Toast",[r2]),[s2,gh]=DT(oy),MT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=E.useState(null),[u,f]=E.useState(0),h=E.useRef(!1),m=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${oy}\`. Expected non-empty \`string\`.`),d.jsx(ay.Provider,{scope:e,children:d.jsx(s2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:E.useCallback(()=>f(w=>w+1),[]),onToastRemove:E.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};MT.displayName=oy;var OT="ToastViewport",i2=["F8"],pm="toast.viewportPause",mm="toast.viewportResume",jT=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=i2,label:s="Notifications ({hotkey})",...i}=t,o=gh(OT,n),a=n2(n),c=E.useRef(null),u=E.useRef(null),f=E.useRef(null),h=E.useRef(null),m=Oe(e,h,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;E.useEffect(()=>{const T=y=>{var _;r.length!==0&&r.every(R=>y[R]||y.code===R)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),E.useEffect(()=>{const T=c.current,y=h.current;if(S&&T&&y){const g=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(pm);y.dispatchEvent(O),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(mm);y.dispatchEvent(O),o.isClosePausedRef.current=!1}},R=O=>{!T.contains(O.relatedTarget)&&_()},N=()=>{T.contains(document.activeElement)||_()};return T.addEventListener("focusin",g),T.addEventListener("focusout",R),T.addEventListener("pointermove",g),T.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",_),()=>{T.removeEventListener("focusin",g),T.removeEventListener("focusout",R),T.removeEventListener("pointermove",g),T.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",_)}}},[S,o.isClosePausedRef]);const x=E.useCallback(({tabbingDirection:T})=>{const g=a().map(_=>{const R=_.ref.current,N=[R,...v2(R)];return T==="forwards"?N:N.reverse()});return(T==="forwards"?g.reverse():g).flat()},[a]);return E.useEffect(()=>{const T=h.current;if(T){const y=g=>{var N,O,I;const _=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!_){const b=document.activeElement,C=g.shiftKey;if(g.target===T&&C){(N=u.current)==null||N.focus();return}const M=x({tabbingDirection:C?"backwards":"forwards"}),P=M.findIndex(H=>H===b);Gf(M.slice(P+1))?g.preventDefault():C?(O=u.current)==null||O.focus():(I=f.current)==null||I.focus()}};return T.addEventListener("keydown",y),()=>T.removeEventListener("keydown",y)}},[a,x]),d.jsxs(GP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&d.jsx(gm,{ref:u,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"forwards"});Gf(T)}}),d.jsx(ay.Slot,{scope:n,children:d.jsx(de.ol,{tabIndex:-1,...i,ref:m})}),S&&d.jsx(gm,{ref:f,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"backwards"});Gf(T)}})]})});jT.displayName=OT;var LT="ToastFocusProxy",gm=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=gh(LT,n);return d.jsx(Jl,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});gm.displayName=LT;var yh="Toast",o2="toast.swipeStart",a2="toast.swipeMove",l2="toast.swipeCancel",c2="toast.swipeEnd",VT=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=qo({prop:r,defaultProp:s,onChange:i});return d.jsx(mh,{present:n||a,children:d.jsx(h2,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Yt(t.onPause),onResume:Yt(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});VT.displayName=yh;var[u2,d2]=DT(yh,{onClose(){}}),h2=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:w,...S}=t,x=gh(yh,n),[T,y]=E.useState(null),g=Oe(e,H=>y(H)),_=E.useRef(null),R=E.useRef(null),N=s||x.duration,O=E.useRef(0),I=E.useRef(N),b=E.useRef(0),{onToastAdd:C,onToastRemove:k}=x,D=Yt(()=>{var Z;(T==null?void 0:T.contains(document.activeElement))&&((Z=x.viewport)==null||Z.focus()),o()}),M=E.useCallback(H=>{!H||H===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(D,H))},[D]);E.useEffect(()=>{const H=x.viewport;if(H){const Z=()=>{M(I.current),u==null||u()},$=()=>{const K=new Date().getTime()-O.current;I.current=I.current-K,window.clearTimeout(b.current),c==null||c()};return H.addEventListener(pm,$),H.addEventListener(mm,Z),()=>{H.removeEventListener(pm,$),H.removeEventListener(mm,Z)}}},[x.viewport,N,c,u,M]),E.useEffect(()=>{i&&!x.isClosePausedRef.current&&M(N)},[i,N,x.isClosePausedRef,M]),E.useEffect(()=>(C(),()=>k()),[C,k]);const P=E.useMemo(()=>T?WT(T):null,[T]);return x.viewport?d.jsxs(d.Fragment,{children:[P&&d.jsx(f2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),d.jsx(u2,{scope:n,onClose:D,children:Vi.createPortal(d.jsx(ay.ItemSlot,{scope:n,children:d.jsx(KP,{asChild:!0,onEscapeKeyDown:ie(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...S,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ie(t.onPointerDown,H=>{H.button===0&&(_.current={x:H.clientX,y:H.clientY})}),onPointerMove:ie(t.onPointerMove,H=>{if(!_.current)return;const Z=H.clientX-_.current.x,$=H.clientY-_.current.y,K=!!R.current,L=["left","right"].includes(x.swipeDirection),z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Q=L?z(0,Z):0,Y=L?0:z(0,$),te=H.pointerType==="touch"?10:2,re={x:Q,y:Y},Se={originalEvent:H,delta:re};K?(R.current=re,ru(a2,h,Se,{discrete:!1})):Aw(re,x.swipeDirection,te)?(R.current=re,ru(o2,f,Se,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(Z)>te||Math.abs($)>te)&&(_.current=null)}),onPointerUp:ie(t.onPointerUp,H=>{const Z=R.current,$=H.target;if($.hasPointerCapture(H.pointerId)&&$.releasePointerCapture(H.pointerId),R.current=null,_.current=null,Z){const K=H.currentTarget,L={originalEvent:H,delta:Z};Aw(Z,x.swipeDirection,x.swipeThreshold)?ru(c2,w,L,{discrete:!0}):ru(l2,m,L,{discrete:!0}),K.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),f2=t=>{const{__scopeToast:e,children:n,...r}=t,s=gh(yh,e),[i,o]=E.useState(!1),[a,c]=E.useState(!1);return g2(()=>o(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(iy,{asChild:!0,children:d.jsx(Jl,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},p2="ToastTitle",FT=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(de.div,{...r,ref:e})});FT.displayName=p2;var m2="ToastDescription",UT=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(de.div,{...r,ref:e})});UT.displayName=m2;var BT="ToastAction",zT=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(HT,{altText:n,asChild:!0,children:d.jsx(ly,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BT}\`. Expected non-empty \`string\`.`),null)});zT.displayName=BT;var $T="ToastClose",ly=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=d2($T,n);return d.jsx(HT,{asChild:!0,children:d.jsx(de.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,s.onClose)})})});ly.displayName=$T;var HT=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function WT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),y2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...WT(r))}}),e}function ru(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kT(s,i):s.dispatchEvent(i)}var Aw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function g2(t=()=>{}){const e=Yt(t);pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function y2(t){return t.nodeType===t.ELEMENT_NODE}function v2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var w2=MT,qT=jT,KT=VT,GT=FT,QT=UT,YT=zT,XT=ly;function JT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=JT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ZT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=JT(t))&&(r&&(r+=" "),r+=e);return r}const kw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Rw=ZT,Zl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Rw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=i==null?void 0:i[u];if(f===null)return null;const m=kw(f)||kw(h);return s[u][m]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:m,...w}=f;return Object.entries(w).every(S=>{let[x,T]=S;return Array.isArray(T)?T.includes({...i,...a}[x]):{...i,...a}[x]===T})?[...u,h,m]:u},[]);return Rw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eS=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>E.createElement("svg",{ref:c,..._2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eS("lucide",s),...a},[...o.map(([u,f])=>E.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(E2,{ref:i,iconNode:e,className:eS(`lucide-${x2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=_e("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=_e("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=_e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dy="-",F2=t=>{const e=B2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(dy);return a[0]===""&&a.length!==1&&a.shift(),sS(a,e)||U2(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},sS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?sS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(dy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Vw=/^\[(.+)\]$/,U2=t=>{if(Vw.test(t)){const e=Vw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},B2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $2(Object.entries(t.classGroups),n).forEach(([i,o])=>{vm(o,r,i,e)}),r},vm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Fw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(z2(s)){vm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{vm(o,Fw(e,i),n,r)})})},Fw=(t,e)=>{let n=t;return e.split(dy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},z2=t=>t.isThemeGetter,$2=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,H2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},iS="!",W2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,f=0,h;for(let T=0;T<a.length;T++){let y=a[T];if(u===0){if(y===s&&(r||a.slice(T,T+i)===e)){c.push(a.slice(f,T)),f=T+i;continue}if(y==="/"){h=T;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?a:a.substring(f),w=m.startsWith(iS),S=w?m.substring(1):m,x=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},q2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},K2=t=>({cache:H2(t.cacheSize),parseClassName:W2(t),...F2(t)}),G2=/\s+/,Q2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(G2);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:w}=n(u);let S=!!w,x=r(S?m.substring(0,w):m);if(!x){if(!S){a=u+(a.length>0?" "+a:a);continue}if(x=r(m),!x){a=u+(a.length>0?" "+a:a);continue}S=!1}const T=q2(f).join(":"),y=h?T+iS:T,g=y+x;if(i.includes(g))continue;i.push(g);const _=s(x,S);for(let R=0;R<_.length;++R){const N=_[R];i.push(y+N)}a=u+(a.length>0?" "+a:a)}return a};function Y2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oS(e))&&(r&&(r+=" "),r+=n);return r}const oS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oS(t[r]))&&(n&&(n+=" "),n+=e);return n};function X2(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((f,h)=>h(f),t());return n=K2(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const f=Q2(c,n);return s(c,f),f}return function(){return i(Y2.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aS=/^\[(?:([a-z-]+):)?(.+)\]$/i,J2=/^\d+\/\d+$/,Z2=new Set(["px","full","screen"]),eD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,br=t=>To(t)||Z2.has(t)||J2.test(t),Xr=t=>la(t,"length",hD),To=t=>!!t&&!Number.isNaN(Number(t)),Yf=t=>la(t,"number",To),Va=t=>!!t&&Number.isInteger(Number(t)),iD=t=>t.endsWith("%")&&To(t.slice(0,-1)),he=t=>aS.test(t),Jr=t=>eD.test(t),oD=new Set(["length","size","percentage"]),aD=t=>la(t,oD,lS),lD=t=>la(t,"position",lS),cD=new Set(["image","url"]),uD=t=>la(t,cD,pD),dD=t=>la(t,"",fD),Fa=()=>!0,la=(t,e,n)=>{const r=aS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},hD=t=>tD.test(t)&&!nD.test(t),lS=()=>!1,fD=t=>rD.test(t),pD=t=>sD.test(t),mD=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),c=Fe("contrast"),u=Fe("grayscale"),f=Fe("hueRotate"),h=Fe("invert"),m=Fe("gap"),w=Fe("gradientColorStops"),S=Fe("gradientColorStopPositions"),x=Fe("inset"),T=Fe("margin"),y=Fe("opacity"),g=Fe("padding"),_=Fe("saturate"),R=Fe("scale"),N=Fe("sepia"),O=Fe("skew"),I=Fe("space"),b=Fe("translate"),C=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",he,e],M=()=>[he,e],P=()=>["",br,Xr],H=()=>["auto",To,he],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",he],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[To,he];return{cacheSize:500,separator:":",theme:{colors:[Fa],spacing:[br,Xr],blur:["none","",Jr,he],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Jr,he],borderSpacing:M(),borderWidth:P(),contrast:Y(),grayscale:z(),hueRotate:Y(),invert:z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[iD,Xr],inset:D(),margin:D(),opacity:Y(),padding:M(),saturate:Y(),scale:Y(),sepia:z(),skew:Y(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Jr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),he]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Va,he]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Va,he]}],"grid-cols":[{"grid-cols":[Fa]}],"col-start-end":[{col:["auto",{span:["full",Va,he]},he]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Fa]}],"row-start-end":[{row:["auto",{span:[Va,he]},he]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[Jr]},Jr]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jr,Xr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yf]}],"font-family":[{font:[Fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",To,Yf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",br,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",br,Xr]}],"underline-offset":[{"underline-offset":["auto",br,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),lD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[br,he]}],"outline-w":[{outline:[br,Xr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[br,Xr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Jr,dD]}],"shadow-color":[{shadow:[Fa]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jr,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Va,he]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[br,Xr,Yf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gD=X2(mD);function xe(...t){return gD(ZT(t))}const yD=w2,cS=E.forwardRef(({className:t,...e},n)=>d.jsx(qT,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cS.displayName=qT.displayName;const vD=Zl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uS=E.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(KT,{ref:r,className:xe(vD({variant:e}),t),...n}));uS.displayName=KT.displayName;const wD=E.forwardRef(({className:t,...e},n)=>d.jsx(YT,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wD.displayName=YT.displayName;const dS=E.forwardRef(({className:t,...e},n)=>d.jsx(XT,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(V2,{className:"h-4 w-4"})}));dS.displayName=XT.displayName;const hS=E.forwardRef(({className:t,...e},n)=>d.jsx(GT,{ref:n,className:xe("text-sm font-semibold",t),...e}));hS.displayName=GT.displayName;const fS=E.forwardRef(({className:t,...e},n)=>d.jsx(QT,{ref:n,className:xe("text-sm opacity-90",t),...e}));fS.displayName=QT.displayName;function xD(){const{toasts:t}=sy();return d.jsxs(yD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(uS,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(hS,{children:n}),r&&d.jsx(fS,{children:r})]}),s,d.jsx(dS,{})]},e)}),d.jsx(cS,{})]})}var _D=(t,e,n,r,s,i,o,a)=>{let c=document.documentElement,u=["light","dark"];function f(w){(Array.isArray(t)?t:[t]).forEach(S=>{let x=S==="class",T=x&&i?s.map(y=>i[y]||y):s;x?(c.classList.remove(...T),c.classList.add(i&&i[w]?i[w]:w)):c.setAttribute(S,w)}),h(w)}function h(w){a&&u.includes(w)&&(c.style.colorScheme=w)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let w=localStorage.getItem(e)||n,S=o&&w==="system"?m():w;f(S)}catch{}},ED=E.createContext(void 0),TD={setTheme:t=>{},themes:[]},SD=()=>{var t;return(t=E.useContext(ED))!=null?t:TD};E.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:c,scriptProps:u})=>{let f=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return E.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${_D.toString()})(${f})`}})});function bD(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const ID=t=>{switch(t){case"success":return kD;case"info":return ND;case"warning":return RD;case"error":return PD;default:return null}},CD=Array(12).fill(0),AD=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},CD.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ND=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MD=()=>{const[t,e]=q.useState(document.hidden);return q.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let wm=1;class OD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:wm++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async u=>{if(o=["resolve",u],q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(LD(u)&&!u.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,S=typeof h=="object"&&!q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...S})}else if(u instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,S=typeof h=="object"&&!q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...S})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,S=typeof h=="object"&&!q.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,...S})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,w=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...w})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>a.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||wm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Zt=new OD,jD=(t,e)=>{const n=(e==null?void 0:e.id)||wm++;return Zt.addToast({title:t,...e,id:n}),n},LD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",VD=jD,FD=()=>Zt.toasts,UD=()=>Zt.getActiveToasts();Object.assign(VD,{success:Zt.success,info:Zt.info,warning:Zt.warning,error:Zt.error,custom:Zt.custom,message:Zt.message,promise:Zt.promise,dismiss:Zt.dismiss,loading:Zt.loading},{getHistory:FD,getToasts:UD});bD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function su(t){return t.label!==void 0}const BD=3,zD="24px",$D="16px",Uw=4e3,HD=356,WD=14,qD=45,KD=200;function nr(...t){return t.filter(Boolean).join(" ")}function GD(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const QD=t=>{var e,n,r,s,i,o,a,c,u;const{invert:f,toast:h,unstyled:m,interacting:w,setHeights:S,visibleToasts:x,heights:T,index:y,toasts:g,expanded:_,removeToast:R,defaultRichColors:N,closeButton:O,style:I,cancelButtonStyle:b,actionButtonStyle:C,className:k="",descriptionClassName:D="",duration:M,position:P,gap:H,expandByDefault:Z,classNames:$,icons:K,closeButtonAriaLabel:L="Close toast"}=t,[z,Q]=q.useState(null),[Y,te]=q.useState(null),[re,Se]=q.useState(!1),[He,fe]=q.useState(!1),[ne,be]=q.useState(!1),[We,ge]=q.useState(!1),[Ee,Te]=q.useState(!1),[ut,mt]=q.useState(0),[Dn,Mn]=q.useState(0),cn=q.useRef(h.duration||M||Uw),zi=q.useRef(null),xt=q.useRef(null),xa=y===0,gc=y+1<=x,Wt=h.type,Zn=h.dismissible!==!1,_a=h.className||"",yc=h.descriptionClassName||"",et=q.useMemo(()=>T.findIndex(ae=>ae.toastId===h.id)||0,[T,h.id]),_t=q.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:O},[h.closeButton,O]),Zs=q.useMemo(()=>h.duration||M||Uw,[h.duration,M]),$i=q.useRef(0),_r=q.useRef(0),vc=q.useRef(0),Tn=q.useRef(null),[wc,xc]=P.split("-"),Hi=q.useMemo(()=>T.reduce((ae,tt,nt)=>nt>=et?ae:ae+tt.height,0),[T,et]),_c=MD(),of=h.invert||f,ei=Wt==="loading";_r.current=q.useMemo(()=>et*H+Hi,[et,Hi]),q.useEffect(()=>{cn.current=Zs},[Zs]),q.useEffect(()=>{Se(!0)},[]),q.useEffect(()=>{const ae=xt.current;if(ae){const tt=ae.getBoundingClientRect().height;return Mn(tt),S(nt=>[{toastId:h.id,height:tt,position:h.position},...nt]),()=>S(nt=>nt.filter(Nt=>Nt.toastId!==h.id))}},[S,h.id]),q.useLayoutEffect(()=>{if(!re)return;const ae=xt.current,tt=ae.style.height;ae.style.height="auto";const nt=ae.getBoundingClientRect().height;ae.style.height=tt,Mn(nt),S(Nt=>Nt.find(it=>it.toastId===h.id)?Nt.map(it=>it.toastId===h.id?{...it,height:nt}:it):[{toastId:h.id,height:nt,position:h.position},...Nt])},[re,h.title,h.description,S,h.id,h.jsx,h.action,h.cancel]);const On=q.useCallback(()=>{fe(!0),mt(_r.current),S(ae=>ae.filter(tt=>tt.toastId!==h.id)),setTimeout(()=>{R(h)},KD)},[h,R,S,_r]);q.useEffect(()=>{if(h.promise&&Wt==="loading"||h.duration===1/0||h.type==="loading")return;let ae;return _||w||_c?(()=>{if(vc.current<$i.current){const Nt=new Date().getTime()-$i.current;cn.current=cn.current-Nt}vc.current=new Date().getTime()})():(()=>{cn.current!==1/0&&($i.current=new Date().getTime(),ae=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),On()},cn.current))})(),()=>clearTimeout(ae)},[_,w,h,Wt,_c,On]),q.useEffect(()=>{h.delete&&(On(),h.onDismiss==null||h.onDismiss.call(h,h))},[On,h.delete]);function Ec(){var ae;if(K!=null&&K.loading){var tt;return q.createElement("div",{className:nr($==null?void 0:$.loader,h==null||(tt=h.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":Wt==="loading"},K.loading)}return q.createElement(AD,{className:nr($==null?void 0:$.loader,h==null||(ae=h.classNames)==null?void 0:ae.loader),visible:Wt==="loading"})}const ti=h.icon||(K==null?void 0:K[Wt])||ID(Wt);var Wi,qi;return q.createElement("li",{tabIndex:0,ref:xt,className:nr(k,_a,$==null?void 0:$.toast,h==null||(e=h.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Wt],h==null||(n=h.classNames)==null?void 0:n[Wt]),"data-sonner-toast":"","data-rich-colors":(Wi=h.richColors)!=null?Wi:N,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":re,"data-promise":!!h.promise,"data-swiped":Ee,"data-removed":He,"data-visible":gc,"data-y-position":wc,"data-x-position":xc,"data-index":y,"data-front":xa,"data-swiping":ne,"data-dismissible":Zn,"data-type":Wt,"data-invert":of,"data-swipe-out":We,"data-swipe-direction":Y,"data-expanded":!!(_||Z&&re),style:{"--index":y,"--toasts-before":y,"--z-index":g.length-y,"--offset":`${He?ut:_r.current}px`,"--initial-height":Z?"auto":`${Dn}px`,...I,...h.style},onDragEnd:()=>{be(!1),Q(null),Tn.current=null},onPointerDown:ae=>{ei||!Zn||(zi.current=new Date,mt(_r.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(be(!0),Tn.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,tt,nt;if(We||!Zn)return;Tn.current=null;const Nt=Number(((ae=xt.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),er=Number(((tt=xt.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),it=new Date().getTime()-((nt=zi.current)==null?void 0:nt.getTime()),Me=z==="x"?Nt:er,ni=Math.abs(Me)/it;if(Math.abs(Me)>=qD||ni>.11){mt(_r.current),h.onDismiss==null||h.onDismiss.call(h,h),te(z==="x"?Nt>0?"right":"left":er>0?"down":"up"),On(),ge(!0);return}else{var Et,Tt;(Et=xt.current)==null||Et.style.setProperty("--swipe-amount-x","0px"),(Tt=xt.current)==null||Tt.style.setProperty("--swipe-amount-y","0px")}Te(!1),be(!1),Q(null)},onPointerMove:ae=>{var tt,nt,Nt;if(!Tn.current||!Zn||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;const it=ae.clientY-Tn.current.y,Me=ae.clientX-Tn.current.x;var ni;const Et=(ni=t.swipeDirections)!=null?ni:GD(P);!z&&(Math.abs(Me)>1||Math.abs(it)>1)&&Q(Math.abs(Me)>Math.abs(it)?"x":"y");let Tt={x:0,y:0};const Tc=Er=>1/(1.5+Math.abs(Er)/20);if(z==="y"){if(Et.includes("top")||Et.includes("bottom"))if(Et.includes("top")&&it<0||Et.includes("bottom")&&it>0)Tt.y=it;else{const Er=it*Tc(it);Tt.y=Math.abs(Er)<Math.abs(it)?Er:it}}else if(z==="x"&&(Et.includes("left")||Et.includes("right")))if(Et.includes("left")&&Me<0||Et.includes("right")&&Me>0)Tt.x=Me;else{const Er=Me*Tc(Me);Tt.x=Math.abs(Er)<Math.abs(Me)?Er:Me}(Math.abs(Tt.x)>0||Math.abs(Tt.y)>0)&&Te(!0),(nt=xt.current)==null||nt.style.setProperty("--swipe-amount-x",`${Tt.x}px`),(Nt=xt.current)==null||Nt.style.setProperty("--swipe-amount-y",`${Tt.y}px`)}},_t&&!h.jsx&&Wt!=="loading"?q.createElement("button",{"aria-label":L,"data-disabled":ei,"data-close-button":!0,onClick:ei||!Zn?()=>{}:()=>{On(),h.onDismiss==null||h.onDismiss.call(h,h)},className:nr($==null?void 0:$.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(qi=K==null?void 0:K.close)!=null?qi:DD):null,(Wt||h.icon||h.promise)&&h.icon!==null&&((K==null?void 0:K[Wt])!==null||h.icon)?q.createElement("div",{"data-icon":"",className:nr($==null?void 0:$.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ec():null,h.type!=="loading"?ti:null):null,q.createElement("div",{"data-content":"",className:nr($==null?void 0:$.content,h==null||(i=h.classNames)==null?void 0:i.content)},q.createElement("div",{"data-title":"",className:nr($==null?void 0:$.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?q.createElement("div",{"data-description":"",className:nr(D,yc,$==null?void 0:$.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&su(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||b,onClick:ae=>{su(h.cancel)&&Zn&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,ae),On())},className:nr($==null?void 0:$.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&su(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:ae=>{su(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,ae),!ae.defaultPrevented&&On())},className:nr($==null?void 0:$.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function Bw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function YD(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?$D:zD;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}const XD=q.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:c,offset:u,mobileOffset:f,theme:h="light",richColors:m,duration:w,style:S,visibleToasts:x=BD,toastOptions:T,dir:y=Bw(),gap:g=WD,icons:_,containerAriaLabel:R="Notifications"}=e,[N,O]=q.useState([]),I=q.useMemo(()=>Array.from(new Set([s].concat(N.filter(Y=>Y.position).map(Y=>Y.position)))),[N,s]),[b,C]=q.useState([]),[k,D]=q.useState(!1),[M,P]=q.useState(!1),[H,Z]=q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=q.useRef(null),K=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=q.useRef(null),z=q.useRef(!1),Q=q.useCallback(Y=>{O(te=>{var re;return(re=te.find(Se=>Se.id===Y.id))!=null&&re.delete||Zt.dismiss(Y.id),te.filter(({id:Se})=>Se!==Y.id)})},[]);return q.useEffect(()=>Zt.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{O(te=>te.map(re=>re.id===Y.id?{...re,delete:!0}:re))});return}setTimeout(()=>{bT.flushSync(()=>{O(te=>{const re=te.findIndex(Se=>Se.id===Y.id);return re!==-1?[...te.slice(0,re),{...te[re],...Y},...te.slice(re+1)]:[Y,...te]})})})}),[N]),q.useEffect(()=>{if(h!=="system"){Z(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:te})=>{Z(te?"dark":"light")})}catch{Y.addListener(({matches:re})=>{try{Z(re?"dark":"light")}catch(Se){console.error(Se)}})}},[h]),q.useEffect(()=>{N.length<=1&&D(!1)},[N]),q.useEffect(()=>{const Y=te=>{var re;if(i.every(fe=>te[fe]||te.code===fe)){var He;D(!0),(He=$.current)==null||He.focus()}te.code==="Escape"&&(document.activeElement===$.current||(re=$.current)!=null&&re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[i]),q.useEffect(()=>{if($.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,z.current=!1)}},[$.current]),q.createElement("section",{ref:n,"aria-label":`${R} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((Y,te)=>{var re;const[Se,He]=Y.split("-");return N.length?q.createElement("ol",{key:Y,dir:y==="auto"?Bw():y,tabIndex:-1,ref:$,className:c,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":Se,"data-x-position":He,style:{"--front-toast-height":`${((re=b[0])==null?void 0:re.height)||0}px`,"--width":`${HD}px`,"--gap":`${g}px`,...S,...YD(u,f)},onBlur:fe=>{z.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(z.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||z.current||(z.current=!0,L.current=fe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onDragEnd:()=>D(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},N.filter(fe=>!fe.position&&te===0||fe.position===Y).map((fe,ne)=>{var be,We;return q.createElement(QD,{key:fe.id,icons:_,index:ne,toast:fe,defaultRichColors:m,duration:(be=T==null?void 0:T.duration)!=null?be:w,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:r,visibleToasts:x,closeButton:(We=T==null?void 0:T.closeButton)!=null?We:a,interacting:M,position:Y,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,closeButtonAriaLabel:T==null?void 0:T.closeButtonAriaLabel,removeToast:Q,toasts:N.filter(ge=>ge.position==fe.position),heights:b.filter(ge=>ge.position==fe.position),setHeights:C,expandByDefault:o,gap:g,expanded:k,swipeDirections:e.swipeDirections})})):null}))}),JD=({...t})=>{const{theme:e="system"}=SD();return d.jsx(XD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var ZD=E1[" useId ".trim().toString()]||(()=>{}),eM=0;function ec(t){const[e,n]=E.useState(ZD());return pt(()=>{n(r=>r??String(eM++))},[t]),e?`radix-${e}`:""}const tM=["top","right","bottom","left"],js=Math.min,fn=Math.max,Sd=Math.round,iu=Math.floor,hr=t=>({x:t,y:t}),nM={left:"right",right:"left",bottom:"top",top:"bottom"},rM={start:"end",end:"start"};function xm(t,e,n){return fn(t,js(e,n))}function Fr(t,e){return typeof t=="function"?t(e):t}function Ur(t){return t.split("-")[0]}function ca(t){return t.split("-")[1]}function hy(t){return t==="x"?"y":"x"}function fy(t){return t==="y"?"height":"width"}function Ls(t){return["top","bottom"].includes(Ur(t))?"y":"x"}function py(t){return hy(Ls(t))}function sM(t,e,n){n===void 0&&(n=!1);const r=ca(t),s=py(t),i=fy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=bd(o)),[o,bd(o)]}function iM(t){const e=bd(t);return[_m(t),e,_m(e)]}function _m(t){return t.replace(/start|end/g,e=>rM[e])}function oM(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function aM(t,e,n,r){const s=ca(t);let i=oM(Ur(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(_m)))),i}function bd(t){return t.replace(/left|right|bottom|top/g,e=>nM[e])}function lM(t){return{top:0,right:0,bottom:0,left:0,...t}}function pS(t){return typeof t!="number"?lM(t):{top:t,right:t,bottom:t,left:t}}function Id(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function zw(t,e,n){let{reference:r,floating:s}=t;const i=Ls(e),o=py(e),a=fy(o),c=Ur(e),u=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let w;switch(c){case"top":w={x:f,y:r.y-s.height};break;case"bottom":w={x:f,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:h};break;case"left":w={x:r.x-s.width,y:h};break;default:w={x:r.x,y:r.y}}switch(ca(e)){case"start":w[o]-=m*(n&&u?-1:1);break;case"end":w[o]+=m*(n&&u?-1:1);break}return w}const cM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=zw(u,r,c),m=r,w={},S=0;for(let x=0;x<a.length;x++){const{name:T,fn:y}=a[x],{x:g,y:_,data:R,reset:N}=await y({x:f,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:w,rects:u,platform:o,elements:{reference:t,floating:e}});f=g??f,h=_??h,w={...w,[T]:{...w[T],...R}},N&&S<=50&&(S++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:f,y:h}=zw(u,m,c)),x=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:w}};async function Rl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:w=0}=Fr(e,t),S=pS(w),T=a[m?h==="floating"?"reference":"floating":h],y=Id(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),g=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},N=Id(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:_,strategy:c}):g);return{top:(y.top-N.top+S.top)/R.y,bottom:(N.bottom-y.bottom+S.bottom)/R.y,left:(y.left-N.left+S.left)/R.x,right:(N.right-y.right+S.right)/R.x}}const uM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=Fr(t,e)||{};if(u==null)return{};const h=pS(f),m={x:n,y:r},w=py(s),S=fy(w),x=await o.getDimensions(u),T=w==="y",y=T?"top":"left",g=T?"bottom":"right",_=T?"clientHeight":"clientWidth",R=i.reference[S]+i.reference[w]-m[w]-i.floating[S],N=m[w]-i.reference[w],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=O?O[_]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[_]||i.floating[S]);const b=R/2-N/2,C=I/2-x[S]/2-1,k=js(h[y],C),D=js(h[g],C),M=k,P=I-x[S]-D,H=I/2-x[S]/2+b,Z=xm(M,H,P),$=!c.arrow&&ca(s)!=null&&H!==Z&&i.reference[S]/2-(H<M?k:D)-x[S]/2<0,K=$?H<M?H-M:H-P:0;return{[w]:m[w]+K,data:{[w]:Z,centerOffset:H-Z-K,...$&&{alignmentOffset:K}},reset:$}}}),dM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...T}=Fr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ur(s),g=Ls(a),_=Ur(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(_||!x?[bd(a)]:iM(a)),O=S!=="none";!m&&O&&N.push(...aM(a,x,S,R));const I=[a,...N],b=await Rl(e,T),C=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&C.push(b[y]),h){const H=sM(s,o,R);C.push(b[H[0]],b[H[1]])}if(k=[...k,{placement:s,overflows:C}],!C.every(H=>H<=0)){var D,M;const H=(((D=i.flip)==null?void 0:D.index)||0)+1,Z=I[H];if(Z)return{data:{index:H,overflows:k},reset:{placement:Z}};let $=(M=k.filter(K=>K.overflows[0]<=0).sort((K,L)=>K.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!$)switch(w){case"bestFit":{var P;const K=(P=k.filter(L=>{if(O){const z=Ls(L.placement);return z===g||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Q)=>z+Q,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:P[0];K&&($=K);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function $w(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Hw(t){return tM.some(e=>t[e]>=0)}const hM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Fr(t,e);switch(r){case"referenceHidden":{const i=await Rl(e,{...s,elementContext:"reference"}),o=$w(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Hw(o)}}}case"escaped":{const i=await Rl(e,{...s,altBoundary:!0}),o=$w(i,n.floating);return{data:{escapedOffsets:o,escaped:Hw(o)}}}default:return{}}}}};async function fM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ur(n),a=ca(n),c=Ls(n)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,h=Fr(e,t);let{mainAxis:m,crossAxis:w,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(w=a==="end"?S*-1:S),c?{x:w*f,y:m*u}:{x:m*u,y:w*f}}const pM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await fM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},mM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:y,y:g}=T;return{x:y,y:g}}},...c}=Fr(t,e),u={x:n,y:r},f=await Rl(e,c),h=Ls(Ur(s)),m=hy(h);let w=u[m],S=u[h];if(i){const T=m==="y"?"top":"left",y=m==="y"?"bottom":"right",g=w+f[T],_=w-f[y];w=xm(g,w,_)}if(o){const T=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=S+f[T],_=S-f[y];S=xm(g,S,_)}const x=a.fn({...e,[m]:w,[h]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[h]:o}}}}}},gM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Fr(t,e),f={x:n,y:r},h=Ls(s),m=hy(h);let w=f[m],S=f[h];const x=Fr(a,e),T=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const _=m==="y"?"height":"width",R=i.reference[m]-i.floating[_]+T.mainAxis,N=i.reference[m]+i.reference[_]-T.mainAxis;w<R?w=R:w>N&&(w=N)}if(u){var y,g;const _=m==="y"?"width":"height",R=["top","left"].includes(Ur(s)),N=i.reference[h]-i.floating[_]+(R&&((y=o.offset)==null?void 0:y[h])||0)+(R?0:T.crossAxis),O=i.reference[h]+i.reference[_]+(R?0:((g=o.offset)==null?void 0:g[h])||0)-(R?T.crossAxis:0);S<N?S=N:S>O&&(S=O)}return{[m]:w,[h]:S}}}},yM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Fr(t,e),f=await Rl(e,u),h=Ur(s),m=ca(s),w=Ls(s)==="y",{width:S,height:x}=i.floating;let T,y;h==="top"||h==="bottom"?(T=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,T=m==="end"?"top":"bottom");const g=x-f.top-f.bottom,_=S-f.left-f.right,R=js(x-f[T],g),N=js(S-f[y],_),O=!e.middlewareData.shift;let I=R,b=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=g),O&&!m){const k=fn(f.left,0),D=fn(f.right,0),M=fn(f.top,0),P=fn(f.bottom,0);w?b=S-2*(k!==0||D!==0?k+D:fn(f.left,f.right)):I=x-2*(M!==0||P!==0?M+P:fn(f.top,f.bottom))}await c({...e,availableWidth:b,availableHeight:I});const C=await o.getDimensions(a.floating);return S!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function vh(){return typeof window<"u"}function ua(t){return mS(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xr(t){var e;return(e=(mS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mS(t){return vh()?t instanceof Node||t instanceof yn(t).Node:!1}function Yn(t){return vh()?t instanceof Element||t instanceof yn(t).Element:!1}function gr(t){return vh()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function Ww(t){return!vh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}function tc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Xn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function vM(t){return["table","td","th"].includes(ua(t))}function wh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function my(t){const e=gy(),n=Yn(t)?Xn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wM(t){let e=Vs(t);for(;gr(e)&&!Ko(e);){if(my(e))return e;if(wh(e))return null;e=Vs(e)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ko(t){return["html","body","#document"].includes(ua(t))}function Xn(t){return yn(t).getComputedStyle(t)}function xh(t){return Yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vs(t){if(ua(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ww(t)&&t.host||xr(t);return Ww(e)?e.host:e}function gS(t){const e=Vs(t);return Ko(e)?t.ownerDocument?t.ownerDocument.body:t.body:gr(e)&&tc(e)?e:gS(e)}function Nl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=gS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=yn(s);if(i){const a=Em(o);return e.concat(o,o.visualViewport||[],tc(s)?s:[],a&&n?Nl(a):[])}return e.concat(s,Nl(s,[],n))}function Em(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yS(t){const e=Xn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sd(n)!==i||Sd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function yy(t){return Yn(t)?t:t.contextElement}function So(t){const e=yy(t);if(!gr(e))return hr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=yS(e);let o=(i?Sd(n.width):n.width)/r,a=(i?Sd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xM=hr(0);function vS(t){const e=yn(t);return!gy()||!e.visualViewport?xM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _M(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=yy(t);let o=hr(1);e&&(r?Yn(r)&&(o=So(r)):o=So(t));const a=_M(i,n,r)?vS(i):hr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=yn(i),w=r&&Yn(r)?yn(r):r;let S=m,x=Em(S);for(;x&&r&&w!==S;){const T=So(x),y=x.getBoundingClientRect(),g=Xn(x),_=y.left+(x.clientLeft+parseFloat(g.paddingLeft))*T.x,R=y.top+(x.clientTop+parseFloat(g.paddingTop))*T.y;c*=T.x,u*=T.y,f*=T.x,h*=T.y,c+=_,u+=R,S=yn(x),x=Em(S)}}return Id({width:f,height:h,x:c,y:u})}function vy(t,e){const n=xh(t).scrollLeft;return e?e.left+n:ki(xr(t)).left+n}function wS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:vy(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function EM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=xr(r),a=e?wh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=hr(1);const f=hr(0),h=gr(r);if((h||!h&&!i)&&((ua(r)!=="body"||tc(o))&&(c=xh(r)),gr(r))){const w=ki(r);u=So(r),f.x=w.x+r.clientLeft,f.y=w.y+r.clientTop}const m=o&&!h&&!i?wS(o,c,!0):hr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function TM(t){return Array.from(t.getClientRects())}function SM(t){const e=xr(t),n=xh(t),r=t.ownerDocument.body,s=fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vy(t);const a=-n.scrollTop;return Xn(r).direction==="rtl"&&(o+=fn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function bM(t,e){const n=yn(t),r=xr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=gy();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function IM(t,e){const n=ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=gr(t)?So(t):hr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function qw(t,e,n){let r;if(e==="viewport")r=bM(t,n);else if(e==="document")r=SM(xr(t));else if(Yn(e))r=IM(e,n);else{const s=vS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Id(r)}function xS(t,e){const n=Vs(t);return n===e||!Yn(n)||Ko(n)?!1:Xn(n).position==="fixed"||xS(n,e)}function CM(t,e){const n=e.get(t);if(n)return n;let r=Nl(t,[],!1).filter(a=>Yn(a)&&ua(a)!=="body"),s=null;const i=Xn(t).position==="fixed";let o=i?Vs(t):t;for(;Yn(o)&&!Ko(o);){const a=Xn(o),c=my(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||tc(o)&&!c&&xS(t,o))?r=r.filter(f=>f!==o):s=a,o=Vs(o)}return e.set(t,r),r}function AM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?wh(e)?[]:CM(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,f)=>{const h=qw(e,f,s);return u.top=fn(h.top,u.top),u.right=js(h.right,u.right),u.bottom=js(h.bottom,u.bottom),u.left=fn(h.left,u.left),u},qw(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kM(t){const{width:e,height:n}=yS(t);return{width:e,height:n}}function RM(t,e,n){const r=gr(e),s=xr(e),i=n==="fixed",o=ki(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=hr(0);if(r||!r&&!i)if((ua(e)!=="body"||tc(s))&&(a=xh(e)),r){const m=ki(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=vy(s));const u=s&&!r&&!i?wS(s,a):hr(0),f=o.left+a.scrollLeft-c.x-u.x,h=o.top+a.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function Xf(t){return Xn(t).position==="static"}function Kw(t,e){if(!gr(t)||Xn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return xr(t)===n&&(n=n.ownerDocument.body),n}function _S(t,e){const n=yn(t);if(wh(t))return n;if(!gr(t)){let s=Vs(t);for(;s&&!Ko(s);){if(Yn(s)&&!Xf(s))return s;s=Vs(s)}return n}let r=Kw(t,e);for(;r&&vM(r)&&Xf(r);)r=Kw(r,e);return r&&Ko(r)&&Xf(r)&&!my(r)?n:r||wM(t)||n}const NM=async function(t){const e=this.getOffsetParent||_S,n=this.getDimensions,r=await n(t.floating);return{reference:RM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PM(t){return Xn(t).direction==="rtl"}const DM={convertOffsetParentRelativeRectToViewportRelativeRect:EM,getDocumentElement:xr,getClippingRect:AM,getOffsetParent:_S,getElementRects:NM,getClientRects:TM,getDimensions:kM,getScale:So,isElement:Yn,isRTL:PM};function ES(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MM(t,e){let n=null,r;const s=xr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:f,top:h,width:m,height:w}=u;if(a||e(),!m||!w)return;const S=iu(h),x=iu(s.clientWidth-(f+m)),T=iu(s.clientHeight-(h+w)),y=iu(f),_={rootMargin:-S+"px "+-x+"px "+-T+"px "+-y+"px",threshold:fn(0,js(1,c))||1};let R=!0;function N(O){const I=O[0].intersectionRatio;if(I!==c){if(!R)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!ES(u,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(N,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return o(!0),i}function OM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yy(t),f=s||i?[...u?Nl(u):[],...Nl(e)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&a?MM(u,n):null;let m=-1,w=null;o&&(w=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&w&&(w.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(e)})),n()}),u&&!c&&w.observe(u),w.observe(e));let S,x=c?ki(t):null;c&&T();function T(){const y=ki(t);x&&!ES(x,y)&&n(),x=y,S=requestAnimationFrame(T)}return n(),()=>{var y;f.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),h==null||h(),(y=w)==null||y.disconnect(),w=null,c&&cancelAnimationFrame(S)}}const jM=pM,LM=mM,VM=dM,FM=yM,UM=hM,Gw=uM,BM=gM,zM=(t,e,n)=>{const r=new Map,s={platform:DM,...n},i={...s.platform,_c:r};return cM(t,e,{...s,platform:i})};var Pu=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Cd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Cd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Cd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function TS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qw(t,e){const n=TS(t);return Math.round(e*n)/n}function Jf(t){const e=E.useRef(t);return Pu(()=>{e.current=t}),e}function $M(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,h]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,w]=E.useState(r);Cd(m,r)||w(r);const[S,x]=E.useState(null),[T,y]=E.useState(null),g=E.useCallback(L=>{L!==O.current&&(O.current=L,x(L))},[]),_=E.useCallback(L=>{L!==I.current&&(I.current=L,y(L))},[]),R=i||S,N=o||T,O=E.useRef(null),I=E.useRef(null),b=E.useRef(f),C=c!=null,k=Jf(c),D=Jf(s),M=Jf(u),P=E.useCallback(()=>{if(!O.current||!I.current)return;const L={placement:e,strategy:n,middleware:m};D.current&&(L.platform=D.current),zM(O.current,I.current,L).then(z=>{const Q={...z,isPositioned:M.current!==!1};H.current&&!Cd(b.current,Q)&&(b.current=Q,Vi.flushSync(()=>{h(Q)}))})},[m,e,n,D,M]);Pu(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const H=E.useRef(!1);Pu(()=>(H.current=!0,()=>{H.current=!1}),[]),Pu(()=>{if(R&&(O.current=R),N&&(I.current=N),R&&N){if(k.current)return k.current(R,N,P);P()}},[R,N,P,k,C]);const Z=E.useMemo(()=>({reference:O,floating:I,setReference:g,setFloating:_}),[g,_]),$=E.useMemo(()=>({reference:R,floating:N}),[R,N]),K=E.useMemo(()=>{const L={position:n,left:0,top:0};if(!$.floating)return L;const z=Qw($.floating,f.x),Q=Qw($.floating,f.y);return a?{...L,transform:"translate("+z+"px, "+Q+"px)",...TS($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Q}},[n,a,$.floating,f.x,f.y]);return E.useMemo(()=>({...f,update:P,refs:Z,elements:$,floatingStyles:K}),[f,P,Z,$,K])}const HM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Gw({element:r.current,padding:s}).fn(n):{}:r?Gw({element:r,padding:s}).fn(n):{}}}},WM=(t,e)=>({...jM(t),options:[t,e]}),qM=(t,e)=>({...LM(t),options:[t,e]}),KM=(t,e)=>({...BM(t),options:[t,e]}),GM=(t,e)=>({...VM(t),options:[t,e]}),QM=(t,e)=>({...FM(t),options:[t,e]}),YM=(t,e)=>({...UM(t),options:[t,e]}),XM=(t,e)=>({...HM(t),options:[t,e]});var JM="Arrow",SS=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(de.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});SS.displayName=JM;var ZM=SS;function bS(t){const[e,n]=E.useState(void 0);return pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wy="Popper",[IS,_h]=wr(wy),[eO,CS]=IS(wy),AS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return d.jsx(eO,{scope:e,anchor:r,onAnchorChange:s,children:n})};AS.displayName=wy;var kS="PopperAnchor",RS=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=CS(kS,n),o=E.useRef(null),a=Oe(e,o);return E.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(de.div,{...s,ref:a})});RS.displayName=kS;var xy="PopperContent",[tO,nO]=IS(xy),NS=E.forwardRef((t,e)=>{var ne,be,We,ge,Ee,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:w="optimized",onPlaced:S,...x}=t,T=CS(xy,n),[y,g]=E.useState(null),_=Oe(e,ut=>g(ut)),[R,N]=E.useState(null),O=bS(R),I=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,C=r+(i!=="center"?"-"+i:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(u)?u:[u],M=D.length>0,P={padding:k,boundary:D.filter(sO),altBoundary:M},{refs:H,floatingStyles:Z,placement:$,isPositioned:K,middlewareData:L}=$M({strategy:"fixed",placement:C,whileElementsMounted:(...ut)=>OM(...ut,{animationFrame:w==="always"}),elements:{reference:T.anchor},middleware:[WM({mainAxis:s+b,alignmentAxis:o}),c&&qM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?KM():void 0,...P}),c&&GM({...P}),QM({...P,apply:({elements:ut,rects:mt,availableWidth:Dn,availableHeight:Mn})=>{const{width:cn,height:zi}=mt.reference,xt=ut.floating.style;xt.setProperty("--radix-popper-available-width",`${Dn}px`),xt.setProperty("--radix-popper-available-height",`${Mn}px`),xt.setProperty("--radix-popper-anchor-width",`${cn}px`),xt.setProperty("--radix-popper-anchor-height",`${zi}px`)}}),R&&XM({element:R,padding:a}),iO({arrowWidth:I,arrowHeight:b}),m&&YM({strategy:"referenceHidden",...P})]}),[z,Q]=MS($),Y=Yt(S);pt(()=>{K&&(Y==null||Y())},[K,Y]);const te=(ne=L.arrow)==null?void 0:ne.x,re=(be=L.arrow)==null?void 0:be.y,Se=((We=L.arrow)==null?void 0:We.centerOffset)!==0,[He,fe]=E.useState();return pt(()=>{y&&fe(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:K?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(ge=L.transformOrigin)==null?void 0:ge.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((Te=L.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(tO,{scope:n,placedSide:z,onArrowChange:N,arrowX:te,arrowY:re,shouldHideArrow:Se,children:d.jsx(de.div,{"data-side":z,"data-align":Q,...x,ref:_,style:{...x.style,animation:K?void 0:"none"}})})})});NS.displayName=xy;var PS="PopperArrow",rO={top:"bottom",right:"left",bottom:"top",left:"right"},DS=E.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=nO(PS,r),o=rO[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(ZM,{...s,ref:n,style:{...s.style,display:"block"}})})});DS.displayName=PS;function sO(t){return t!==null}var iO=t=>({name:"transformOrigin",options:t,fn(e){var T,y,g;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,f]=MS(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,w=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let S="",x="";return u==="bottom"?(S=o?h:`${m}px`,x=`${-c}px`):u==="top"?(S=o?h:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,x=o?h:`${w}px`):u==="left"&&(S=`${r.floating.width+c}px`,x=o?h:`${w}px`),{data:{x:S,y:x}}}});function MS(t){const[e,n="center"]=t.split("-");return[e,n]}var oO=AS,OS=RS,jS=NS,LS=DS,[Eh,hB]=wr("Tooltip",[_h]),_y=_h(),VS="TooltipProvider",aO=700,Yw="tooltip.open",[lO,FS]=Eh(VS),US=t=>{const{__scopeTooltip:e,delayDuration:n=aO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=E.useRef(!0),a=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(lO,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:E.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};US.displayName=VS;var BS="Tooltip",[fB,Th]=Eh(BS),Tm="TooltipTrigger",cO=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Th(Tm,n),i=FS(Tm,n),o=_y(n),a=E.useRef(null),c=Oe(e,a,s.onTriggerChange),u=E.useRef(!1),f=E.useRef(!1),h=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(OS,{asChild:!0,...o,children:d.jsx(de.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ie(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});cO.displayName=Tm;var uO="TooltipPortal",[pB,dO]=Eh(uO,{forceMount:void 0}),Go="TooltipContent",zS=E.forwardRef((t,e)=>{const n=dO(Go,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Th(Go,t.__scopeTooltip);return d.jsx(mh,{present:r||o.open,children:o.disableHoverableContent?d.jsx($S,{side:s,...i,ref:e}):d.jsx(hO,{side:s,...i,ref:e})})}),hO=E.forwardRef((t,e)=>{const n=Th(Go,t.__scopeTooltip),r=FS(Go,t.__scopeTooltip),s=E.useRef(null),i=Oe(e,s),[o,a]=E.useState(null),{trigger:c,onClose:u}=n,f=s.current,{onPointerInTransitChange:h}=r,m=E.useCallback(()=>{a(null),h(!1)},[h]),w=E.useCallback((S,x)=>{const T=S.currentTarget,y={x:S.clientX,y:S.clientY},g=yO(y,T.getBoundingClientRect()),_=vO(y,g),R=wO(x.getBoundingClientRect()),N=_O([..._,...R]);a(N),h(!0)},[h]);return E.useEffect(()=>()=>m(),[m]),E.useEffect(()=>{if(c&&f){const S=T=>w(T,f),x=T=>w(T,c);return c.addEventListener("pointerleave",S),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",S),f.removeEventListener("pointerleave",x)}}},[c,f,w,m]),E.useEffect(()=>{if(o){const S=x=>{const T=x.target,y={x:x.clientX,y:x.clientY},g=(c==null?void 0:c.contains(T))||(f==null?void 0:f.contains(T)),_=!xO(y,o);g?m():_&&(m(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,f,o,u,m]),d.jsx($S,{...t,ref:i})}),[fO,pO]=Eh(BS,{isInside:!1}),mO=OP("TooltipContent"),$S=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Th(Go,n),u=_y(n),{onClose:f}=c;return E.useEffect(()=>(document.addEventListener(Yw,f),()=>document.removeEventListener(Yw,f)),[f]),E.useEffect(()=>{if(c.trigger){const h=m=>{const w=m.target;w!=null&&w.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),d.jsx(ph,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:d.jsxs(jS,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(mO,{children:r}),d.jsx(fO,{scope:n,isInside:!0,children:d.jsx(t2,{id:c.contentId,role:"tooltip",children:s||r})})]})})});zS.displayName=Go;var HS="TooltipArrow",gO=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_y(n);return pO(HS,n).isInside?null:d.jsx(LS,{...s,...r,ref:e})});gO.displayName=HS;function yO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function vO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function wO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function xO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,f=e[o].y;c>r!=f>r&&n<(u-a)*(r-c)/(f-c)+a&&(s=!s)}return s}function _O(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EO(e)}function EO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var TO=US,WS=zS;const SO=TO,bO=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(WS,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));bO.displayName=WS.displayName;var Sh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bh=typeof window>"u"||"Deno"in globalThis;function Un(){}function IO(t,e){return typeof t=="function"?t(e):t}function CO(t){return typeof t=="number"&&t>=0&&t!==1/0}function AO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xw(t,e){return typeof t=="function"?t(e):t}function kO(t,e){return typeof t=="function"?t(e):t}function Jw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ey(o,e.options))return!1}else if(!Dl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Zw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Pl(e.options.mutationKey)!==Pl(i))return!1}else if(!Dl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ey(t,e){return((e==null?void 0:e.queryKeyHashFn)||Pl)(t)}function Pl(t){return JSON.stringify(t,(e,n)=>Sm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Dl(t[n],e[n])):!1}function qS(t,e){if(t===e)return t;const n=ex(t)&&ex(e);if(n||Sm(t)&&Sm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=qS(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function ex(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sm(t){if(!tx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!tx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tx(t){return Object.prototype.toString.call(t)==="[object Object]"}function RO(t){return new Promise(e=>{setTimeout(e,t)})}function NO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qS(t,e):e}function PO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function DO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ty=Symbol();function KS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ty?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var mi,us,Ro,r1,MO=(r1=class extends Sh{constructor(){super();ke(this,mi);ke(this,us);ke(this,Ro);pe(this,Ro,e=>{if(!bh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,us)||this.setEventListener(B(this,Ro))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,us))==null||e.call(this),pe(this,us,void 0))}setEventListener(e){var n;pe(this,Ro,e),(n=B(this,us))==null||n.call(this),pe(this,us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,mi)!==e&&(pe(this,mi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,mi)=="boolean"?B(this,mi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},mi=new WeakMap,us=new WeakMap,Ro=new WeakMap,r1),GS=new MO,No,ds,Po,s1,OO=(s1=class extends Sh{constructor(){super();ke(this,No,!0);ke(this,ds);ke(this,Po);pe(this,Po,e=>{if(!bh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,ds)||this.setEventListener(B(this,Po))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ds))==null||e.call(this),pe(this,ds,void 0))}setEventListener(e){var n;pe(this,Po,e),(n=B(this,ds))==null||n.call(this),pe(this,ds,e(this.setOnline.bind(this)))}setOnline(e){B(this,No)!==e&&(pe(this,No,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,No)}},No=new WeakMap,ds=new WeakMap,Po=new WeakMap,s1),Ad=new OO;function jO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function LO(t){return Math.min(1e3*2**t,3e4)}function QS(t){return(t??"online")==="online"?Ad.isOnline():!0}var YS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zf(t){return t instanceof YS}function XS(t){let e=!1,n=0,r=!1,s;const i=jO(),o=x=>{var T;r||(m(new YS(x)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>GS.isFocused()&&(t.networkMode==="always"||Ad.isOnline())&&t.canRun(),f=()=>QS(t.networkMode)&&t.canRun(),h=x=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,x),s==null||s(),i.resolve(x))},m=x=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,x),s==null||s(),i.reject(x))},w=()=>new Promise(x=>{var T;s=y=>{(r||u())&&x(y)},(T=t.onPause)==null||T.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),S=()=>{if(r)return;let x;const T=n===0?t.initialPromise:void 0;try{x=T??t.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(h).catch(y=>{var O;if(r)return;const g=t.retry??(bh?0:3),_=t.retryDelay??LO,R=typeof _=="function"?_(n,y):_,N=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(e||!N){m(y);return}n++,(O=t.onFail)==null||O.call(t,n,y),RO(R).then(()=>u()?void 0:w()).then(()=>{e?m(y):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?S():w().then(S),i)}}function VO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Gt=VO(),gi,i1,JS=(i1=class{constructor(){ke(this,gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CO(this.gcTime)&&pe(this,gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bh?1/0:5*60*1e3))}clearGcTimeout(){B(this,gi)&&(clearTimeout(B(this,gi)),pe(this,gi,void 0))}},gi=new WeakMap,i1),Do,Mo,Sn,Vt,Wl,yi,Bn,Ir,o1,FO=(o1=class extends JS{constructor(n){super();ke(this,Bn);ke(this,Do);ke(this,Mo);ke(this,Sn);ke(this,Vt);ke(this,Wl);ke(this,yi);pe(this,yi,!1),pe(this,Wl,n.defaultOptions),this.setOptions(n.options),this.observers=[],pe(this,Sn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,pe(this,Do,BO(this.options)),this.state=n.state??B(this,Do),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,Vt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,Wl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Sn).remove(this)}setData(n,r){const s=NO(this.state.data,n,this.options);return Mt(this,Bn,Ir).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Mt(this,Bn,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,Vt))==null?void 0:s.promise;return(i=B(this,Vt))==null||i.cancel(n),r?r.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Do))}isActive(){return this.observers.some(n=>kO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ty||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!AO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Vt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Vt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,Sn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,Vt)&&(B(this,yi)?B(this,Vt).cancel({revert:!0}):B(this,Vt).cancelRetry()),this.scheduleGc()),B(this,Sn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mt(this,Bn,Ir).call(this,{type:"invalidate"})}fetch(n,r){var u,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Vt))return B(this,Vt).continueRetry(),B(this,Vt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(w=>w.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(pe(this,yi,!0),s.signal)})},o=()=>{const m=KS(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return i(w),pe(this,yi,!1),this.options.persister?this.options.persister(m,w,this):m(w)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),pe(this,Mo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Mt(this,Bn,Ir).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=m=>{var w,S,x,T;Zf(m)&&m.silent||Mt(this,Bn,Ir).call(this,{type:"error",error:m}),Zf(m)||((S=(w=B(this,Sn).config).onError)==null||S.call(w,m,this),(T=(x=B(this,Sn).config).onSettled)==null||T.call(x,this.state.data,m,this)),this.scheduleGc()};return pe(this,Vt,XS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var w,S,x,T;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(S=(w=B(this,Sn).config).onSuccess)==null||S.call(w,m,this),(T=(x=B(this,Sn).config).onSettled)==null||T.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,w)=>{Mt(this,Bn,Ir).call(this,{type:"failed",failureCount:m,error:w})},onPause:()=>{Mt(this,Bn,Ir).call(this,{type:"pause"})},onContinue:()=>{Mt(this,Bn,Ir).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,Vt).start()}},Do=new WeakMap,Mo=new WeakMap,Sn=new WeakMap,Vt=new WeakMap,Wl=new WeakMap,yi=new WeakMap,Bn=new WeakSet,Ir=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...UO(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Zf(i)&&i.revert&&B(this,Mo)?{...B(this,Mo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Gt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,Sn).notify({query:this,type:"updated",action:n})})},o1);function UO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ir,a1,zO=(a1=class extends Sh{constructor(e={}){super();ke(this,ir);this.config=e,pe(this,ir,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ey(s,n);let o=this.get(i);return o||(o=new FO({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,ir).has(e.queryHash)||(B(this,ir).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,ir).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,ir).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,ir).get(e)}getAll(){return[...B(this,ir).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Jw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Jw(e,r)):n}notify(e){Gt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ir=new WeakMap,a1),or,qt,vi,ar,es,l1,$O=(l1=class extends JS{constructor(n){super();ke(this,ar);ke(this,or);ke(this,qt);ke(this,vi);this.mutationId=n.mutationId,pe(this,qt,n.mutationCache),pe(this,or,[]),this.state=n.state||HO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,or).includes(n)||(B(this,or).push(n),this.clearGcTimeout(),B(this,qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){pe(this,or,B(this,or).filter(r=>r!==n)),this.scheduleGc(),B(this,qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,or).length||(this.state.status==="pending"?this.scheduleGc():B(this,qt).remove(this))}continue(){var n;return((n=B(this,vi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,u,f,h,m,w,S,x,T,y,g,_,R,N,O,I,b;pe(this,vi,XS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{Mt(this,ar,es).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{Mt(this,ar,es).call(this,{type:"pause"})},onContinue:()=>{Mt(this,ar,es).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,qt).canRun(this)}));const r=this.state.status==="pending",s=!B(this,vi).canStart();try{if(!r){Mt(this,ar,es).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=B(this,qt).config).onMutate)==null?void 0:o.call(i,n,this));const k=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));k!==this.state.context&&Mt(this,ar,es).call(this,{type:"pending",context:k,variables:n,isPaused:s})}const C=await B(this,vi).start();return await((f=(u=B(this,qt).config).onSuccess)==null?void 0:f.call(u,C,n,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,C,n,this.state.context)),await((S=(w=B(this,qt).config).onSettled)==null?void 0:S.call(w,C,null,this.state.variables,this.state.context,this)),await((T=(x=this.options).onSettled)==null?void 0:T.call(x,C,null,n,this.state.context)),Mt(this,ar,es).call(this,{type:"success",data:C}),C}catch(C){try{throw await((g=(y=B(this,qt).config).onError)==null?void 0:g.call(y,C,n,this.state.context,this)),await((R=(_=this.options).onError)==null?void 0:R.call(_,C,n,this.state.context)),await((O=(N=B(this,qt).config).onSettled)==null?void 0:O.call(N,void 0,C,this.state.variables,this.state.context,this)),await((b=(I=this.options).onSettled)==null?void 0:b.call(I,void 0,C,n,this.state.context)),C}finally{Mt(this,ar,es).call(this,{type:"error",error:C})}}finally{B(this,qt).runNext(this)}}},or=new WeakMap,qt=new WeakMap,vi=new WeakMap,ar=new WeakSet,es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gt.batch(()=>{B(this,or).forEach(s=>{s.onMutationUpdate(n)}),B(this,qt).notify({mutation:this,type:"updated",action:n})})},l1);function HO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dn,ql,c1,WO=(c1=class extends Sh{constructor(e={}){super();ke(this,dn);ke(this,ql);this.config=e,pe(this,dn,new Map),pe(this,ql,Date.now())}build(e,n,r){const s=new $O({mutationCache:this,mutationId:++Vc(this,ql)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=ou(e),r=B(this,dn).get(n)??[];r.push(e),B(this,dn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ou(e);if(B(this,dn).has(n)){const s=(r=B(this,dn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?B(this,dn).delete(n):B(this,dn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,dn).get(ou(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,dn).get(ou(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,dn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Zw(n,r))}findAll(e={}){return this.getAll().filter(n=>Zw(e,n))}notify(e){Gt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Gt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Un))))}},dn=new WeakMap,ql=new WeakMap,c1);function ou(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function nx(t){return{onFetch:(e,n)=>{var f,h,m,w,S;const r=e.options,s=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((w=e.state.data)==null?void 0:w.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const T=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},y=KS(e.options,e.fetchOptions),g=async(_,R,N)=>{if(x)return Promise.reject();if(R==null&&_.pages.length)return Promise.resolve(_);const O={queryKey:e.queryKey,pageParam:R,direction:N?"backward":"forward",meta:e.options.meta};T(O);const I=await y(O),{maxPages:b}=e.options,C=N?DO:PO;return{pages:C(_.pages,I,b),pageParams:C(_.pageParams,R,b)}};if(s&&i.length){const _=s==="backward",R=_?qO:rx,N={pages:i,pageParams:o},O=R(r,N);a=await g(N,O,_)}else{const _=t??i.length;do{const R=c===0?o[0]??r.initialPageParam:rx(r,a);if(c>0&&R==null)break;a=await g(a,R),c++}while(c<_)}return a};e.options.persister?e.fetchFn=()=>{var x,T;return(T=(x=e.options).persister)==null?void 0:T.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function rx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function qO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Je,hs,fs,Oo,jo,ps,Lo,Vo,u1,KO=(u1=class{constructor(t={}){ke(this,Je);ke(this,hs);ke(this,fs);ke(this,Oo);ke(this,jo);ke(this,ps);ke(this,Lo);ke(this,Vo);pe(this,Je,t.queryCache||new zO),pe(this,hs,t.mutationCache||new WO),pe(this,fs,t.defaultOptions||{}),pe(this,Oo,new Map),pe(this,jo,new Map),pe(this,ps,0)}mount(){Vc(this,ps)._++,B(this,ps)===1&&(pe(this,Lo,GS.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Je).onFocus())})),pe(this,Vo,Ad.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Je).onOnline())})))}unmount(){var t,e;Vc(this,ps)._--,B(this,ps)===0&&((t=B(this,Lo))==null||t.call(this),pe(this,Lo,void 0),(e=B(this,Vo))==null||e.call(this),pe(this,Vo,void 0))}isFetching(t){return B(this,Je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,hs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Je).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,Je).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Xw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,Je).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,Je).get(r.queryHash),i=s==null?void 0:s.state.data,o=IO(e,i);if(o!==void 0)return B(this,Je).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Gt.batch(()=>B(this,Je).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Je).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,Je);Gt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,Je),r={type:"active",...t};return Gt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Gt.batch(()=>B(this,Je).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Un).catch(Un)}invalidateQueries(t={},e={}){return Gt.batch(()=>{if(B(this,Je).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Gt.batch(()=>B(this,Je).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Un)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Un)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,Je).build(this,e);return n.isStaleByTime(Xw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Un).catch(Un)}fetchInfiniteQuery(t){return t.behavior=nx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Un).catch(Un)}ensureInfiniteQueryData(t){return t.behavior=nx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ad.isOnline()?B(this,hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Je)}getMutationCache(){return B(this,hs)}getDefaultOptions(){return B(this,fs)}setDefaultOptions(t){pe(this,fs,t)}setQueryDefaults(t,e){B(this,Oo).set(Pl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Oo).values()];let n={};return e.forEach(r=>{Dl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,jo).set(Pl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,jo).values()];let n={};return e.forEach(r=>{Dl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,fs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ey(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Ty&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,fs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,Je).clear(),B(this,hs).clear()}},Je=new WeakMap,hs=new WeakMap,fs=new WeakMap,Oo=new WeakMap,jo=new WeakMap,ps=new WeakMap,Lo=new WeakMap,Vo=new WeakMap,u1),GO=E.createContext(void 0),QO=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(GO.Provider,{value:t,children:e}));function YO(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var ZS={exports:{}},eb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=E;function XO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var JO=typeof Object.is=="function"?Object.is:XO,ZO=Qo.useState,ej=Qo.useEffect,tj=Qo.useLayoutEffect,nj=Qo.useDebugValue;function rj(t,e){var n=e(),r=ZO({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return tj(function(){s.value=n,s.getSnapshot=e,ep(s)&&i({inst:s})},[t,n,e]),ej(function(){return ep(s)&&i({inst:s}),t(function(){ep(s)&&i({inst:s})})},[t]),nj(n),n}function ep(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!JO(t,n)}catch{return!0}}function sj(t,e){return e()}var ij=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sj:rj;eb.useSyncExternalStore=Qo.useSyncExternalStore!==void 0?Qo.useSyncExternalStore:ij;ZS.exports=eb;var oj=ZS.exports;const aj=E1.useInsertionEffect,lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cj=lj?E.useLayoutEffect:E.useEffect,uj=aj||cj,tb=t=>{const e=E.useRef([t,(...n)=>e[0](...n)]).current;return uj(()=>{e[0]=t}),e[1]},dj="popstate",Sy="pushState",by="replaceState",hj="hashchange",sx=[dj,Sy,by,hj],fj=t=>{for(const e of sx)addEventListener(e,t);return()=>{for(const e of sx)removeEventListener(e,t)}},nb=(t,e)=>oj.useSyncExternalStore(fj,t,e),pj=()=>location.search,mj=({ssrSearch:t=""}={})=>nb(pj,()=>t),ix=()=>location.pathname,gj=({ssrPath:t}={})=>nb(ix,t?()=>t:ix),yj=(t,{replace:e=!1,state:n=null}={})=>history[e?by:Sy](n,"",t),vj=(t={})=>[gj(t),yj],ox=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ox]>"u"){for(const t of[Sy,by]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ox,{value:!0})}const wj=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",rb=(t="")=>t==="/"?"":t,xj=(t,e)=>t[0]==="~"?t.slice(1):rb(e)+t,_j=(t="",e)=>wj(ax(rb(t)),ax(e)),ax=t=>{try{return decodeURI(t)}catch{return t}},sb={hook:vj,searchHook:mj,parser:YO,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},ib=E.createContext(sb),nc=()=>E.useContext(ib),ob={},ab=E.createContext(ob),Ej=()=>E.useContext(ab),Ih=t=>{const[e,n]=t.hook(t);return[_j(t.base,e),tb((r,s)=>n(xj(r,t.base),s))]},Tj=()=>Ih(nc()),lb=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,m)=>[h,c[m]])):o.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[a]:[]]:[!1,null]},cb=({children:t,...e})=>{var f,h;const n=nc(),r=e.hook?sb:n;let s=r;const[i,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=E.useRef({}),c=a.current,u=c;for(let m in r){const w=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===u&&w!==u[m]&&(a.current=u={...u}),u[m]=w,w!==r[m]&&(s=u)}return E.createElement(ib.Provider,{value:s,children:t})},lx=({children:t,component:e},n)=>e?E.createElement(e,{params:n}):typeof t=="function"?t(n):t,Sj=t=>{let e=E.useRef(ob),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},cx=({path:t,nest:e,match:n,...r})=>{const s=nc(),[i]=Ih(s),[o,a,c]=n??lb(s.parser,t,i,e),u=Sj({...Ej(),...a});if(!o)return null;const f=c?E.createElement(cb,{base:c},lx(r,u)):lx(r,u);return E.createElement(ab.Provider,{value:u,children:f})};E.forwardRef((t,e)=>{const n=nc(),[r,s]=Ih(n),{to:i="",href:o=i,onClick:a,asChild:c,children:u,className:f,replace:h,state:m,...w}=t,S=tb(T=>{T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0||(a==null||a(T),T.defaultPrevented||(T.preventDefault(),s(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&E.isValidElement(u)?E.cloneElement(u,{onClick:S,href:x}):E.createElement("a",{...w,onClick:S,href:x,className:f!=null&&f.call?f(r===o):f,children:u,ref:e})});const ub=t=>Array.isArray(t)?t.flatMap(e=>ub(e&&e.type===E.Fragment?e.props.children:e)):[t],bj=({children:t,location:e})=>{const n=nc(),[r]=Ih(n);for(const s of ub(t)){let i=0;if(E.isValidElement(s)&&(i=lb(n.parser,s.props.path,e||r,s.props.nest))[0])return E.cloneElement(s,{match:i})}return null},Ij=new KO({defaultOptions:{queries:{staleTime:1e3*60*5,retry:3},mutations:{retry:1}}}),Cj=()=>{};var ux={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Aj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},hb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,f=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,w=u&63;c||(w=64,o||(m=64)),r.push(n[f],n[h],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(db(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Aj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new kj;const m=i<<2|a>>4;if(r.push(m),u!==64){const w=a<<4&240|u>>2;if(r.push(w),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rj=function(t){const e=db(t);return hb.encodeByteArray(e,!0)},kd=function(t){return Rj(t).replace(/\./g,"")},fb=function(t){try{return hb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=()=>Nj().__FIREBASE_DEFAULTS__,Dj=()=>{if(typeof process>"u"||typeof ux>"u")return;const t=ux.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fb(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return Cj()||Pj()||Dj()||Mj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pb=t=>{var e,n;return(n=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Oj=t=>{const e=pb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mb=()=>{var t;return(t=Ch())===null||t===void 0?void 0:t.config},gb=t=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){return t.endsWith(".cloudworkstations.dev")}async function yb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kd(JSON.stringify(n)),kd(JSON.stringify(o)),""].join(".")}const il={};function Vj(){const t={prod:[],emulator:[]};for(const e of Object.keys(il))il[e]?t.emulator.push(e):t.prod.push(e);return t}function Fj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dx=!1;function vb(t,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||il[t]===e||il[t]||dx)return;il[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Vj().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,w){m.setAttribute("width","24"),m.setAttribute("id",w),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{dx=!0,o()},m}function f(m,w){m.setAttribute("id",w),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=Fj(r),w=n("text"),S=document.getElementById(w)||document.createElement("span"),x=n("learnmore"),T=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),g=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;a(_),f(T,x);const R=u();c(g,y),_.append(g,S,T,R),document.body.appendChild(_)}i?(S.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function Bj(){var t;const e=(t=Ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $j(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wj(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qj(){return!Bj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kj(){try{return typeof indexedDB=="object"}catch{return!1}}function Gj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qj,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Yj(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qr(s,a,r)}}function Yj(t,e){return t.replace(Xj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Xj=/\{\$([^}]+)}/g;function Jj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hx(i)&&hx(o)){if(!Ri(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zj(t,e){const n=new e4(t,e);return n.subscribe.bind(n)}class e4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=tp),s.error===void 0&&(s.error=tp),s.complete===void 0&&(s.complete=tp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s4(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r4(t){return t===ci?void 0:t}function s4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const o4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},a4=ve.INFO,l4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},c4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=l4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=a4,this._logHandler=c4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const u4=(t,e)=>e.some(n=>t instanceof n);let fx,px;function d4(){return fx||(fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h4(){return px||(px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,bm=new WeakMap,xb=new WeakMap,np=new WeakMap,Cy=new WeakMap;function f4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Cs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wb.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function p4(t){if(bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bm.set(t,e)}let Im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m4(t){Im=t(Im)}function g4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rp(this),e,...n);return xb.set(r,e.sort?e.sort():[e]),Cs(r)}:h4().includes(t)?function(...e){return t.apply(rp(this),e),Cs(wb.get(this))}:function(...e){return Cs(t.apply(rp(this),e))}}function y4(t){return typeof t=="function"?g4(t):(t instanceof IDBTransaction&&p4(t),u4(t,d4())?new Proxy(t,Im):t)}function Cs(t){if(t instanceof IDBRequest)return f4(t);if(np.has(t))return np.get(t);const e=y4(t);return e!==t&&(np.set(t,e),Cy.set(e,t)),e}const rp=t=>Cy.get(t);function v4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Cs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Cs(o.result),c.oldVersion,c.newVersion,Cs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const w4=["get","getKey","getAll","getAllKeys","count"],x4=["put","add","delete","clear"],sp=new Map;function mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=x4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||w4.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return sp.set(e,i),i}m4(t=>({...t,get:(e,n,r)=>mx(e,n)||t.get(e,n,r),has:(e,n)=>!!mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",gx="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Iy("@firebase/app"),T4="@firebase/app-compat",S4="@firebase/analytics-compat",b4="@firebase/analytics",I4="@firebase/app-check-compat",C4="@firebase/app-check",A4="@firebase/auth",k4="@firebase/auth-compat",R4="@firebase/database",N4="@firebase/data-connect",P4="@firebase/database-compat",D4="@firebase/functions",M4="@firebase/functions-compat",O4="@firebase/installations",j4="@firebase/installations-compat",L4="@firebase/messaging",V4="@firebase/messaging-compat",F4="@firebase/performance",U4="@firebase/performance-compat",B4="@firebase/remote-config",z4="@firebase/remote-config-compat",$4="@firebase/storage",H4="@firebase/storage-compat",W4="@firebase/firestore",q4="@firebase/ai",K4="@firebase/firestore-compat",G4="firebase",Q4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",Y4={[Cm]:"fire-core",[T4]:"fire-core-compat",[b4]:"fire-analytics",[S4]:"fire-analytics-compat",[C4]:"fire-app-check",[I4]:"fire-app-check-compat",[A4]:"fire-auth",[k4]:"fire-auth-compat",[R4]:"fire-rtdb",[N4]:"fire-data-connect",[P4]:"fire-rtdb-compat",[D4]:"fire-fn",[M4]:"fire-fn-compat",[O4]:"fire-iid",[j4]:"fire-iid-compat",[L4]:"fire-fcm",[V4]:"fire-fcm-compat",[F4]:"fire-perf",[U4]:"fire-perf-compat",[B4]:"fire-rc",[z4]:"fire-rc-compat",[$4]:"fire-gcs",[H4]:"fire-gcs-compat",[W4]:"fire-fst",[K4]:"fire-fst-compat",[q4]:"fire-vertex","fire-js":"fire-js",[G4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Map,X4=new Map,km=new Map;function yx(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(km.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,t);for(const n of Rd.values())yx(n,t);for(const n of X4.values())yx(n,t);return!0}function Ay(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new sc("app","Firebase",J4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=Q4;function _b(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Am,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw As.create("bad-app-name",{appName:String(s)});if(n||(n=mb()),!n)throw As.create("no-options");const i=Rd.get(s);if(i){if(Ri(n,i.options)&&Ri(r,i.config))return i;throw As.create("duplicate-app",{appName:s})}const o=new i4(s);for(const c of km.values())o.addComponent(c);const a=new Z4(n,r,o);return Rd.set(s,a),a}function Eb(t=Am){const e=Rd.get(t);if(!e&&t===Am&&mb())return _b();if(!e)throw As.create("no-app",{appName:t});return e}function ks(t,e,n){var r;let s=(r=Y4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Yo(new Ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="firebase-heartbeat-database",tL=1,Ml="firebase-heartbeat-store";let ip=null;function Tb(){return ip||(ip=v4(eL,tL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),ip}async function nL(t){try{const n=(await Tb()).transaction(Ml),r=await n.objectStore(Ml).get(Sb(t));return await n.done,r}catch(e){if(e instanceof qr)Br.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function vx(t,e){try{const r=(await Tb()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,Sb(t)),await r.done}catch(n){if(n instanceof qr)Br.warn(n.message);else{const r=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function Sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1024,sL=30;class iL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=wx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>sL){const o=lL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wx(),{heartbeatsToSend:r,unsentEntries:s}=oL(this._heartbeatsCache.heartbeats),i=kd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Br.warn(n),""}}}function wx(){return new Date().toISOString().substring(0,10)}function oL(t,e=rL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),xx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kj()?Gj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xx(t){return kd(JSON.stringify({version:2,heartbeats:t})).length}function lL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){Yo(new Ni("platform-logger",e=>new _4(e),"PRIVATE")),Yo(new Ni("heartbeat",e=>new iL(e),"PRIVATE")),ks(Cm,gx,t),ks(Cm,gx,"esm2017"),ks("fire-js","")}cL("");var cr=function(){return cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cr.apply(this,arguments)};function oc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function uL(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dL=bb,Ib=new sc("auth","Firebase",bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Iy("@firebase/auth");function hL(t,...e){Nd.logLevel<=ve.WARN&&Nd.warn(`Auth (${da}): ${t}`,...e)}function Du(t,...e){Nd.logLevel<=ve.ERROR&&Nd.error(`Auth (${da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw Ry(t,...e)}function Gn(t,...e){return Ry(t,...e)}function ky(t,e,n){const r=Object.assign(Object.assign({},dL()),{[e]:n});return new sc("auth","Firebase",r).create(e,{appName:t.name})}function _i(t){return ky(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yr(t,"argument-error"),ky(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ry(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ib.create(t,...e)}function le(t,e,...n){if(!t)throw Ry(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Du(e),new Error(e)}function zr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pL(){return _x()==="http:"||_x()==="https:"}function _x(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pL()||$j()||"connection"in navigator)?navigator.onLine:!0}function gL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=Uj()||Hj()}get(){return mL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wL=new ac(3e4,6e4);function Py(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ha(t,e,n,r,s={}){return Ab(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ic(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return zj()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&rc(t.emulatorConfig.host)&&(u.credentials="include"),Cb.fetch()(await kb(t,t.config.apiHost,n,a),u)})}async function Ab(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yL),e);try{const s=new _L(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw au(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw au(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw au(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ky(t,f,u);yr(t,f)}}catch(s){if(s instanceof qr)throw s;yr(t,"network-request-failed",{message:String(s)})}}async function xL(t,e,n,r,s={}){const i=await ha(t,e,n,r,s);return"mfaPendingCredential"in i&&yr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function kb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ny(t.config,s):`${t.config.apiScheme}://${s}`;return vL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class _L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),wL.get())})}}function au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function Pd(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TL(t,e=!1){const n=wt(t),r=await n.getIdToken(e),s=Dy(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ol(op(s.auth_time)),issuedAtTime:ol(op(s.iat)),expirationTime:ol(op(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function op(t){return Number(t)*1e3}function Dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const s=fb(n);return s?JSON.parse(s):(Du("Failed to decode base64 JWT payload"),null)}catch(s){return Du("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ex(t){const e=Dy(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&SL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ol(t,Pd(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Rb(i.providerUserInfo):[],a=CL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Nm(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function IL(t){const e=wt(t);await Dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Rb(t){return t.map(e=>{var{providerId:n}=e,r=oc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){const n=await Ab(t,{},async()=>{const r=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await kb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kL(t,e){return ha(t,"POST","/v2/accounts:revokeToken",Py(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ex(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=Ex(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await AL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new bo;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=oc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TL(this,e)}reload(){return IL(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await Ol(this,EL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:R,isAnonymous:N,providerData:O,stsTokenManager:I}=n;le(_&&I,e,"internal-error");const b=bo.fromJSON(this.name,I);le(typeof _=="string",e,"internal-error"),Zr(h,e.name),Zr(m,e.name),le(typeof R=="boolean",e,"internal-error"),le(typeof N=="boolean",e,"internal-error"),Zr(w,e.name),Zr(S,e.name),Zr(x,e.name),Zr(T,e.name),Zr(y,e.name),Zr(g,e.name);const C=new Wn({uid:_,auth:e,email:m,emailVerified:R,displayName:h,isAnonymous:N,photoURL:S,phoneNumber:w,tenantId:x,stsTokenManager:b,createdAt:y,lastLoginAt:g});return O&&Array.isArray(O)&&(C.providerData=O.map(k=>Object.assign({},k))),T&&(C._redirectEventId=T),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new bo;s.updateFromServerResponse(n);const i=new Wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Dd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Rb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new bo;a.updateFromIdToken(r);const c=new Wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Nm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Map;function Dr(t){zr(t instanceof Function,"Expected a class definition");let e=Tx.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nb.type="NONE";const Sx=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Mu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pd(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Dr(Sx),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Dr(Sx);const o=Mu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){let h;if(typeof f=="string"){const m=await Pd(e,{idToken:f}).catch(()=>{});if(!m)break;h=await Wn._fromGetAccountInfoResponse(e,m,f)}else h=Wn._fromJSON(e,f);u!==i&&(a=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Io(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Io(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lb(e))return"Blackberry";if(Vb(e))return"Webos";if(Db(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(jb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pb(t=Ht()){return/firefox\//i.test(t)}function Db(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(t=Ht()){return/crios\//i.test(t)}function Ob(t=Ht()){return/iemobile/i.test(t)}function jb(t=Ht()){return/android/i.test(t)}function Lb(t=Ht()){return/blackberry/i.test(t)}function Vb(t=Ht()){return/webos/i.test(t)}function My(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RL(t=Ht()){var e;return My(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NL(){return Wj()&&document.documentMode===10}function Fb(t=Ht()){return My(t)||jb(t)||Vb(t)||Lb(t)||/windows phone/i.test(t)||Ob(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e=[]){let n;switch(t){case"Browser":n=bx(Ht());break;case"Worker":n=`${bx(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e={}){return ha(t,"GET","/v2/passwordPolicy",Py(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=6;class OL{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ML,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ix(this),this.idTokenSubscription=new Ix(this),this.beforeStateQueue=new PL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pd(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(_i(this));const n=e?wt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DL(this),n=new OL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ah(t){return wt(t)}class Ix{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zj(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(t){Oy=t}function VL(t){return Oy.loadJS(t)}function FL(){return Oy.gapiScript}function UL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e){const n=Ay(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ri(i,e??{}))return s;yr(s,"already-initialized")}return n.initialize({options:e})}function zL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $L(t,e,n){const r=Ah(t);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Bb(e),{host:o,port:a}=HL(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Ri(u,r.config.emulator)&&Ri(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,rc(o)?(yb(`${i}//${o}${c}`),vb("Auth",!0)):WL()}function Bb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HL(t){const e=Bb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Cx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Cx(o)}}}function Cx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e){return xL(t,"POST","/v1/accounts:signInWithIdp",Py(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="http://localhost";class Pi extends zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=oc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Pi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:qL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends jy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends lc{constructor(){super("facebook.com")}static credential(e){return Pi._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pi._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends lc{constructor(){super("github.com")}static credential(e){return Pi._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends lc{constructor(){super("twitter.com")}static credential(e,n){return Pi._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wn._fromIdTokenResponse(e,r,s),o=Ax(r);return new Xo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ax(r);return new Xo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ax(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends qr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Md(e,n,r,s)}}function $b(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Md._fromErrorAndOperation(t,i,e,r):i})}async function KL(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(_i(r));const s="reauthenticate";try{const i=await Ol(t,$b(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=Dy(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e,n=!1){if(Hn(t.app))return Promise.reject(_i(t));const r="signIn",s=await $b(t,r,e),i=await Xo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function YL(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function XL(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function JL(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function ZL(t){return wt(t).signOut()}const Od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=1e3,tV=10;class Wb extends Hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);NL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wb.type="LOCAL";const nV=Wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qb.type="SESSION";const Kb=qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await rV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Ly("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function iV(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function oV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lV(){return Gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="firebaseLocalStorageDb",cV=1,jd="firebaseLocalStorage",Yb="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(t,e){return t.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function uV(){const t=indexedDB.deleteDatabase(Qb);return new cc(t).toPromise()}function Pm(){const t=indexedDB.open(Qb,cV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jd,{keyPath:Yb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),await uV(),e(await Pm()))})})}async function kx(t,e,n){const r=Rh(t,!0).put({[Yb]:e,value:n});return new cc(r).toPromise()}async function dV(t,e){const n=Rh(t,!1).get(e),r=await new cc(n).toPromise();return r===void 0?null:r.value}function Rx(t,e){const n=Rh(t,!0).delete(e);return new cc(n).toPromise()}const hV=800,fV=3;class Xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(lV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oV(),!this.activeServiceWorker)return;this.sender=new sV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await kx(e,Od,"1"),await Rx(e,Od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Rh(s,!1).getAll();return new cc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xb.type="LOCAL";const pV=Xb;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){return e?Dr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends zb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mV(t){return QL(t.auth,new Vy(t),t.bypassAuthState)}function gV(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),GL(n,new Vy(t),t.bypassAuthState)}async function yV(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),KL(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return yV;case"reauthViaPopup":case"reauthViaRedirect":return gV;default:yr(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new ac(2e3,1e4);async function wV(t,e,n){if(Hn(t.app))return Promise.reject(Gn(t,"operation-not-supported-in-this-environment"));const r=Ah(t);fL(t,e,jy);const s=Jb(r,n);return new fi(r,"signInViaPopup",e,s).executeNotNull()}class fi extends Zb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fi.currentPopupAction&&fi.currentPopupAction.cancel(),fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vV.get())};e()}}fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="pendingRedirect",Ou=new Map;class _V extends Zb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const r=await EV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EV(t,e){const n=bV(e),r=SV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function TV(t,e){Ou.set(t._key(),e)}function SV(t){return Dr(t._redirectPersistence)}function bV(t){return Mu(xV,t.config.apiKey,t.name)}async function IV(t,e,n=!1){if(Hn(t.app))return Promise.reject(_i(t));const r=Ah(t),s=Jb(r,e),o=await new _V(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=10*60*1e3;class AV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nx(e))}saveEventToCache(e){this.cachedEventUids.add(Nx(e)),this.lastProcessedEventTime=Date.now()}}function Nx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e={}){return ha(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PV=/^https?/;async function DV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RV(t);for(const n of e)try{if(MV(n))return}catch{}yr(t,"unauthorized-domain")}function MV(t){const e=Rm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PV.test(n))return!1;if(NV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new ac(3e4,6e4);function Px(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jV(t){return new Promise((e,n)=>{var r,s,i;function o(){Px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Px(),n(Gn(t,"network-request-failed"))},timeout:OV.get()})}if(!((s=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=fr().gapi)===null||i===void 0)&&i.load)o();else{const a=UL("iframefcb");return fr()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},VL(`${FL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ju=null,e})}let ju=null;function LV(t){return ju=ju||jV(t),ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new ac(5e3,15e3),FV="__/auth/iframe",UV="emulator/auth/iframe",BV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $V(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,UV):`https://${t.config.authDomain}/${FV}`,r={apiKey:e.apiKey,appName:t.name,v:da},s=zV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ic(r).slice(1)}`}async function HV(t){const e=await LV(t),n=fr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:$V(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=fr().setTimeout(()=>{i(o)},VV.get());function c(){fr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qV=500,KV=600,GV="_blank",QV="http://localhost";class Dx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YV(t,e,n,r=qV,s=KV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},WV),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Ht().toLowerCase();n&&(a=Mb(u)?GV:n),Pb(u)&&(e=e||QV,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[w,S])=>`${m}${w}=${S},`,"");if(RL(u)&&a!=="_self")return XV(e||"",a),new Dx(null);const h=window.open(e||"",a,f);le(h,t,"popup-blocked");try{h.focus()}catch{}return new Dx(h)}function XV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="__/auth/handler",ZV="emulator/auth/handler",e6=encodeURIComponent("fac");async function Mx(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:da,eventId:s};if(e instanceof jy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof lc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${e6}=${encodeURIComponent(c)}`:"";return`${t6(t)}?${ic(a).slice(1)}${u}`}function t6({config:t}){return t.emulator?Ny(t,ZV):`https://${t.authDomain}/${JV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class n6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kb,this._completeRedirectFn=IV,this._overrideRedirectResult=TV}async _openPopup(e,n,r,s){var i;zr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Mx(e,n,r,Rm(),s);return YV(e,o,Ly())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Mx(e,n,r,Rm(),s);return iV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HV(e),r=new AV(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ap,{type:ap},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ap];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fb()||Db()||My()}}const r6=n6;var Ox="@firebase/auth",jx="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o6(t){Yo(new Ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ub(t)},u=new jL(r,s,i,c);return zL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Ni("auth-internal",e=>{const n=Ah(e.getProvider("auth").getImmediate());return(r=>new s6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(Ox,jx,i6(t)),ks(Ox,jx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=5*60,l6=gb("authIdTokenMaxAge")||a6;let Lx=null;const c6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l6)return;const s=n==null?void 0:n.token;Lx!==s&&(Lx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function u6(t=Eb()){const e=Ay(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BL(t,{popupRedirectResolver:r6,persistence:[pV,nV,Kb]}),r=gb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=c6(i.toString());XL(n,o,()=>o(n.currentUser)),YL(n,a=>o(a))}}const s=pb("auth");return s&&$L(n,`http://${s}`),n}function d6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",d6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o6("Browser");var h6="firebase",f6="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(h6,f6,"app");var Vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,tI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function C(){}C.prototype=b.prototype,I.D=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(k,D,M){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return b.prototype[D].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,C){C||(C=0);var k=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)k[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;16>D;++D)k[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];var M=I.g[3],P=b+(M^C&(D^M))+k[0]+3614090360&4294967295;b=C+(P<<7&4294967295|P>>>25),P=M+(D^b&(C^D))+k[1]+3905402710&4294967295,M=b+(P<<12&4294967295|P>>>20),P=D+(C^M&(b^C))+k[2]+606105819&4294967295,D=M+(P<<17&4294967295|P>>>15),P=C+(b^D&(M^b))+k[3]+3250441966&4294967295,C=D+(P<<22&4294967295|P>>>10),P=b+(M^C&(D^M))+k[4]+4118548399&4294967295,b=C+(P<<7&4294967295|P>>>25),P=M+(D^b&(C^D))+k[5]+1200080426&4294967295,M=b+(P<<12&4294967295|P>>>20),P=D+(C^M&(b^C))+k[6]+2821735955&4294967295,D=M+(P<<17&4294967295|P>>>15),P=C+(b^D&(M^b))+k[7]+4249261313&4294967295,C=D+(P<<22&4294967295|P>>>10),P=b+(M^C&(D^M))+k[8]+1770035416&4294967295,b=C+(P<<7&4294967295|P>>>25),P=M+(D^b&(C^D))+k[9]+2336552879&4294967295,M=b+(P<<12&4294967295|P>>>20),P=D+(C^M&(b^C))+k[10]+4294925233&4294967295,D=M+(P<<17&4294967295|P>>>15),P=C+(b^D&(M^b))+k[11]+2304563134&4294967295,C=D+(P<<22&4294967295|P>>>10),P=b+(M^C&(D^M))+k[12]+1804603682&4294967295,b=C+(P<<7&4294967295|P>>>25),P=M+(D^b&(C^D))+k[13]+4254626195&4294967295,M=b+(P<<12&4294967295|P>>>20),P=D+(C^M&(b^C))+k[14]+2792965006&4294967295,D=M+(P<<17&4294967295|P>>>15),P=C+(b^D&(M^b))+k[15]+1236535329&4294967295,C=D+(P<<22&4294967295|P>>>10),P=b+(D^M&(C^D))+k[1]+4129170786&4294967295,b=C+(P<<5&4294967295|P>>>27),P=M+(C^D&(b^C))+k[6]+3225465664&4294967295,M=b+(P<<9&4294967295|P>>>23),P=D+(b^C&(M^b))+k[11]+643717713&4294967295,D=M+(P<<14&4294967295|P>>>18),P=C+(M^b&(D^M))+k[0]+3921069994&4294967295,C=D+(P<<20&4294967295|P>>>12),P=b+(D^M&(C^D))+k[5]+3593408605&4294967295,b=C+(P<<5&4294967295|P>>>27),P=M+(C^D&(b^C))+k[10]+38016083&4294967295,M=b+(P<<9&4294967295|P>>>23),P=D+(b^C&(M^b))+k[15]+3634488961&4294967295,D=M+(P<<14&4294967295|P>>>18),P=C+(M^b&(D^M))+k[4]+3889429448&4294967295,C=D+(P<<20&4294967295|P>>>12),P=b+(D^M&(C^D))+k[9]+568446438&4294967295,b=C+(P<<5&4294967295|P>>>27),P=M+(C^D&(b^C))+k[14]+3275163606&4294967295,M=b+(P<<9&4294967295|P>>>23),P=D+(b^C&(M^b))+k[3]+4107603335&4294967295,D=M+(P<<14&4294967295|P>>>18),P=C+(M^b&(D^M))+k[8]+1163531501&4294967295,C=D+(P<<20&4294967295|P>>>12),P=b+(D^M&(C^D))+k[13]+2850285829&4294967295,b=C+(P<<5&4294967295|P>>>27),P=M+(C^D&(b^C))+k[2]+4243563512&4294967295,M=b+(P<<9&4294967295|P>>>23),P=D+(b^C&(M^b))+k[7]+1735328473&4294967295,D=M+(P<<14&4294967295|P>>>18),P=C+(M^b&(D^M))+k[12]+2368359562&4294967295,C=D+(P<<20&4294967295|P>>>12),P=b+(C^D^M)+k[5]+4294588738&4294967295,b=C+(P<<4&4294967295|P>>>28),P=M+(b^C^D)+k[8]+2272392833&4294967295,M=b+(P<<11&4294967295|P>>>21),P=D+(M^b^C)+k[11]+1839030562&4294967295,D=M+(P<<16&4294967295|P>>>16),P=C+(D^M^b)+k[14]+4259657740&4294967295,C=D+(P<<23&4294967295|P>>>9),P=b+(C^D^M)+k[1]+2763975236&4294967295,b=C+(P<<4&4294967295|P>>>28),P=M+(b^C^D)+k[4]+1272893353&4294967295,M=b+(P<<11&4294967295|P>>>21),P=D+(M^b^C)+k[7]+4139469664&4294967295,D=M+(P<<16&4294967295|P>>>16),P=C+(D^M^b)+k[10]+3200236656&4294967295,C=D+(P<<23&4294967295|P>>>9),P=b+(C^D^M)+k[13]+681279174&4294967295,b=C+(P<<4&4294967295|P>>>28),P=M+(b^C^D)+k[0]+3936430074&4294967295,M=b+(P<<11&4294967295|P>>>21),P=D+(M^b^C)+k[3]+3572445317&4294967295,D=M+(P<<16&4294967295|P>>>16),P=C+(D^M^b)+k[6]+76029189&4294967295,C=D+(P<<23&4294967295|P>>>9),P=b+(C^D^M)+k[9]+3654602809&4294967295,b=C+(P<<4&4294967295|P>>>28),P=M+(b^C^D)+k[12]+3873151461&4294967295,M=b+(P<<11&4294967295|P>>>21),P=D+(M^b^C)+k[15]+530742520&4294967295,D=M+(P<<16&4294967295|P>>>16),P=C+(D^M^b)+k[2]+3299628645&4294967295,C=D+(P<<23&4294967295|P>>>9),P=b+(D^(C|~M))+k[0]+4096336452&4294967295,b=C+(P<<6&4294967295|P>>>26),P=M+(C^(b|~D))+k[7]+1126891415&4294967295,M=b+(P<<10&4294967295|P>>>22),P=D+(b^(M|~C))+k[14]+2878612391&4294967295,D=M+(P<<15&4294967295|P>>>17),P=C+(M^(D|~b))+k[5]+4237533241&4294967295,C=D+(P<<21&4294967295|P>>>11),P=b+(D^(C|~M))+k[12]+1700485571&4294967295,b=C+(P<<6&4294967295|P>>>26),P=M+(C^(b|~D))+k[3]+2399980690&4294967295,M=b+(P<<10&4294967295|P>>>22),P=D+(b^(M|~C))+k[10]+4293915773&4294967295,D=M+(P<<15&4294967295|P>>>17),P=C+(M^(D|~b))+k[1]+2240044497&4294967295,C=D+(P<<21&4294967295|P>>>11),P=b+(D^(C|~M))+k[8]+1873313359&4294967295,b=C+(P<<6&4294967295|P>>>26),P=M+(C^(b|~D))+k[15]+4264355552&4294967295,M=b+(P<<10&4294967295|P>>>22),P=D+(b^(M|~C))+k[6]+2734768916&4294967295,D=M+(P<<15&4294967295|P>>>17),P=C+(M^(D|~b))+k[13]+1309151649&4294967295,C=D+(P<<21&4294967295|P>>>11),P=b+(D^(C|~M))+k[4]+4149444226&4294967295,b=C+(P<<6&4294967295|P>>>26),P=M+(C^(b|~D))+k[11]+3174756917&4294967295,M=b+(P<<10&4294967295|P>>>22),P=D+(b^(M|~C))+k[2]+718787259&4294967295,D=M+(P<<15&4294967295|P>>>17),P=C+(M^(D|~b))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var C=b-this.blockSize,k=this.B,D=this.h,M=0;M<b;){if(D==0)for(;M<=C;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<b;)if(k[D++]=I.charCodeAt(M++),D==this.blockSize){s(this,k),D=0;break}}else for(;M<b;)if(k[D++]=I[M++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=b},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var C=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=C&255,C/=256;for(this.u(I),I=Array(16),b=C=0;4>b;++b)for(var k=0;32>k;k+=8)I[C++]=this.g[b]>>>k&255;return I};function i(I,b){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function o(I,b){this.h=b;for(var C=[],k=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;k&&M==b||(C[D]=M,k=!1)}this.g=C}var a={};function c(I){return-128<=I&&128>I?i(I,function(b){return new o([b|0],0>b?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return T(u(-I));for(var b=[],C=1,k=0;I>=C;k++)b[k]=I/C|0,C*=4294967296;return new o(b,0)}function f(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return T(f(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(b,8)),k=h,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),P=parseInt(I.substring(D,D+M),b);8>M?(M=u(Math.pow(b,M)),k=k.j(M).add(u(P))):(k=k.j(C),k=k.add(u(P)))}return k}var h=c(0),m=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-T(this).m();for(var I=0,b=1,C=0;C<this.g.length;C++){var k=this.i(C);I+=(0<=k?k:4294967296+k)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(x(this))return"-"+T(this).toString(I);for(var b=u(Math.pow(I,6)),C=this,k="";;){var D=R(C,b).g;C=y(C,D.j(b));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=D,S(C))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=y(this,I),x(I)?-1:S(I)?0:1};function T(I){for(var b=I.g.length,C=[],k=0;k<b;k++)C[k]=~I.g[k];return new o(C,~I.h).add(m)}t.abs=function(){return x(this)?T(this):this},t.add=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],k=0,D=0;D<=b;D++){var M=k+(this.i(D)&65535)+(I.i(D)&65535),P=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=P>>>16,M&=65535,P&=65535,C[D]=P<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function y(I,b){return I.add(T(b))}t.j=function(I){if(S(this)||S(I))return h;if(x(this))return x(I)?T(this).j(T(I)):T(T(this).j(I));if(x(I))return T(this.j(T(I)));if(0>this.l(w)&&0>I.l(w))return u(this.m()*I.m());for(var b=this.g.length+I.g.length,C=[],k=0;k<2*b;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<I.g.length;D++){var M=this.i(k)>>>16,P=this.i(k)&65535,H=I.i(D)>>>16,Z=I.i(D)&65535;C[2*k+2*D]+=P*Z,g(C,2*k+2*D),C[2*k+2*D+1]+=M*Z,g(C,2*k+2*D+1),C[2*k+2*D+1]+=P*H,g(C,2*k+2*D+1),C[2*k+2*D+2]+=M*H,g(C,2*k+2*D+2)}for(k=0;k<b;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=b;k<2*b;k++)C[k]=0;return new o(C,0)};function g(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function _(I,b){this.g=I,this.h=b}function R(I,b){if(S(b))throw Error("division by zero");if(S(I))return new _(h,h);if(x(I))return b=R(T(I),b),new _(T(b.g),T(b.h));if(x(b))return b=R(I,T(b)),new _(T(b.g),b.h);if(30<I.g.length){if(x(I)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var C=m,k=b;0>=k.l(I);)C=N(C),k=N(k);var D=O(C,1),M=O(k,1);for(k=O(k,2),C=O(C,2);!S(k);){var P=M.add(k);0>=P.l(I)&&(D=D.add(C),M=P),k=O(k,1),C=O(C,1)}return b=y(I,D.j(b)),new _(D,b)}for(D=h;0<=I.l(b);){for(C=Math.max(1,Math.floor(I.m()/b.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=u(C),P=M.j(b);x(P)||0<P.l(I);)C-=k,M=u(C),P=M.j(b);S(M)&&(M=m),D=D.add(M),I=y(I,P)}return new _(D,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],k=0;k<b;k++)C[k]=this.i(k)&I.i(k);return new o(C,this.h&I.h)},t.or=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],k=0;k<b;k++)C[k]=this.i(k)|I.i(k);return new o(C,this.h|I.h)},t.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],k=0;k<b;k++)C[k]=this.i(k)^I.i(k);return new o(C,this.h^I.h)};function N(I){for(var b=I.g.length+1,C=[],k=0;k<b;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(C,I.h)}function O(I,b){var C=b>>5;b%=32;for(var k=I.g.length-C,D=[],M=0;M<k;M++)D[M]=0<b?I.i(M+C)>>>b|I.i(M+C+1)<<32-b:I.i(M+C);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Rs=o}).apply(typeof Vx<"u"?Vx:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nI,Ha,rI,Lu,Dm,sI,iI,oI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var v=r;l=l.split(".");for(var A=0;A<l.length-1;A++){var j=l[A];if(!(j in v))break e;v=v[j]}l=l[l.length-1],A=v[l],p=p(A),p!=A&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function i(l,p){l instanceof String&&(l+="");var v=0,A=!1,j={next:function(){if(!A&&v<l.length){var V=v++;return{value:p(V,l[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(l){return l||function(){return i(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function u(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function f(l,p,v){return l.call.apply(l.bind,arguments)}function h(l,p,v){if(!l)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),l.apply(p,j)}}return function(){return l.apply(p,arguments)}}function m(l,p,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function w(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),l.apply(this,A)}}function S(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(A,j,V){for(var G=Array(arguments.length-2),je=2;je<arguments.length;je++)G[je-2]=arguments[je];return p.prototype[j].apply(A,G)}}function x(l){const p=l.length;if(0<p){const v=Array(p);for(let A=0;A<p;A++)v[A]=l[A];return v}return[]}function T(l,p){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(c(A)){const j=l.length||0,V=A.length||0;l.length=j+V;for(let G=0;G<V;G++)l[j+G]=A[G]}else l.push(A)}}class y{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function g(l){return/^[\s\xa0]*$/.test(l)}function _(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function R(l){return R[" "](l),l}R[" "]=function(){};var N=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(l,p,v){for(const A in l)p.call(v,l[A],A,l)}function I(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function b(l){const p={};for(const v in l)p[v]=l[v];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)l[v]=A[v];for(let V=0;V<C.length;V++)v=C[V],Object.prototype.hasOwnProperty.call(A,v)&&(l[v]=A[v])}}function D(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function M(l){a.setTimeout(()=>{throw l},0)}function P(){var l=z;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,v){const A=Z.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Z=new y(()=>new $,l=>l.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let K,L=!1,z=new H,Q=()=>{const l=a.Promise.resolve(void 0);K=()=>{l.then(Y)}};var Y=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(v){M(v)}var p=Z;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}L=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return l}();function He(l,p){if(re.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,A=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(N){e:{try{R(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:fe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&He.aa.h.call(this)}}S(He,re);var fe={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),be=0;function We(l,p,v,A,j){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=j,this.key=++be,this.da=this.fa=!1}function ge(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ee(l){this.src=l,this.g={},this.h=0}Ee.prototype.add=function(l,p,v,A,j){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var G=ut(l,p,A,j);return-1<G?(p=l[G],v||(p.fa=!1)):(p=new We(p,this.src,V,!!A,j),p.fa=v,l.push(p)),p};function Te(l,p){var v=p.type;if(v in l.g){var A=l.g[v],j=Array.prototype.indexOf.call(A,p,void 0),V;(V=0<=j)&&Array.prototype.splice.call(A,j,1),V&&(ge(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function ut(l,p,v,A){for(var j=0;j<l.length;++j){var V=l[j];if(!V.da&&V.listener==p&&V.capture==!!v&&V.ha==A)return j}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Dn={};function Mn(l,p,v,A,j){if(Array.isArray(p)){for(var V=0;V<p.length;V++)Mn(l,p[V],v,A,j);return null}return v=yc(v),l&&l[ne]?l.K(p,v,u(A)?!!A.capture:!!A,j):cn(l,p,v,!1,A,j)}function cn(l,p,v,A,j,V){if(!p)throw Error("Invalid event type");var G=u(j)?!!j.capture:!!j,je=Zn(l);if(je||(l[mt]=je=new Ee(l)),v=je.add(p,v,A,G,V),v.proxy)return v;if(A=zi(),v.proxy=A,A.src=l,A.listener=v,l.addEventListener)Se||(j=G),j===void 0&&(j=!1),l.addEventListener(p.toString(),A,j);else if(l.attachEvent)l.attachEvent(gc(p.toString()),A);else if(l.addListener&&l.removeListener)l.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zi(){function l(v){return p.call(l.src,l.listener,v)}const p=Wt;return l}function xt(l,p,v,A,j){if(Array.isArray(p))for(var V=0;V<p.length;V++)xt(l,p[V],v,A,j);else A=u(A)?!!A.capture:!!A,v=yc(v),l&&l[ne]?(l=l.i,p=String(p).toString(),p in l.g&&(V=l.g[p],v=ut(V,v,A,j),-1<v&&(ge(V[v]),Array.prototype.splice.call(V,v,1),V.length==0&&(delete l.g[p],l.h--)))):l&&(l=Zn(l))&&(p=l.g[p.toString()],l=-1,p&&(l=ut(p,v,A,j)),(v=-1<l?p[l]:null)&&xa(v))}function xa(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[ne])Te(p.i,l);else{var v=l.type,A=l.proxy;p.removeEventListener?p.removeEventListener(v,A,l.capture):p.detachEvent?p.detachEvent(gc(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Zn(p))?(Te(v,l),v.h==0&&(v.src=null,p[mt]=null)):ge(l)}}}function gc(l){return l in Dn?Dn[l]:Dn[l]="on"+l}function Wt(l,p){if(l.da)l=!0;else{p=new He(p,this);var v=l.listener,A=l.ha||l.src;l.fa&&xa(l),l=v.call(A,p)}return l}function Zn(l){return l=l[mt],l instanceof Ee?l:null}var _a="__closure_events_fn_"+(1e9*Math.random()>>>0);function yc(l){return typeof l=="function"?l:(l[_a]||(l[_a]=function(p){return l.handleEvent(p)}),l[_a])}function et(){te.call(this),this.i=new Ee(this),this.M=this,this.F=null}S(et,te),et.prototype[ne]=!0,et.prototype.removeEventListener=function(l,p,v,A){xt(this,l,p,v,A)};function _t(l,p){var v,A=l.F;if(A)for(v=[];A;A=A.F)v.push(A);if(l=l.M,A=p.type||p,typeof p=="string")p=new re(p,l);else if(p instanceof re)p.target=p.target||l;else{var j=p;p=new re(A,l),k(p,j)}if(j=!0,v)for(var V=v.length-1;0<=V;V--){var G=p.g=v[V];j=Zs(G,A,!0,p)&&j}if(G=p.g=l,j=Zs(G,A,!0,p)&&j,j=Zs(G,A,!1,p)&&j,v)for(V=0;V<v.length;V++)G=p.g=v[V],j=Zs(G,A,!1,p)&&j}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],A=0;A<v.length;A++)ge(v[A]);delete l.g[p],l.h--}}this.F=null},et.prototype.K=function(l,p,v,A){return this.i.add(String(l),p,!1,v,A)},et.prototype.L=function(l,p,v,A){return this.i.add(String(l),p,!0,v,A)};function Zs(l,p,v,A){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,V=0;V<p.length;++V){var G=p[V];if(G&&!G.da&&G.capture==v){var je=G.listener,St=G.ha||G.src;G.fa&&Te(l.i,G),j=je.call(St,A)!==!1&&j}}return j&&!A.defaultPrevented}function $i(l,p,v){if(typeof l=="function")v&&(l=m(l,v));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function _r(l){l.g=$i(()=>{l.g=null,l.i&&(l.i=!1,_r(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class vc extends te{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(l){te.call(this),this.h=l,this.g={}}S(Tn,te);var wc=[];function xc(l){O(l.g,function(p,v){this.g.hasOwnProperty(v)&&xa(p)},l),l.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),xc(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=a.JSON.stringify,_c=a.JSON.parse,of=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ei(){}ei.prototype.h=null;function On(l){return l.h||(l.h=l.i())}function Ec(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){re.call(this,"d")}S(Wi,re);function qi(){re.call(this,"c")}S(qi,re);var ae={},tt=null;function nt(){return tt=tt||new et}ae.La="serverreachability";function Nt(l){re.call(this,ae.La,l)}S(Nt,re);function er(l){const p=nt();_t(p,new Nt(p))}ae.STAT_EVENT="statevent";function it(l,p){re.call(this,ae.STAT_EVENT,l),this.stat=p}S(it,re);function Me(l){const p=nt();_t(p,new it(p,l))}ae.Ma="timingevent";function ni(l,p){re.call(this,ae.Ma,l),this.size=p}S(ni,re);function Et(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function Tt(){this.g=!0}Tt.prototype.xa=function(){this.g=!1};function Tc(l,p,v,A,j,V){l.info(function(){if(l.g)if(V)for(var G="",je=V.split("&"),St=0;St<je.length;St++){var Ae=je[St].split("=");if(1<Ae.length){var Pt=Ae[0];Ae=Ae[1];var Dt=Pt.split("_");G=2<=Dt.length&&Dt[1]=="type"?G+(Pt+"="+Ae+"&"):G+(Pt+"=redacted&")}}else G=null;else G=V;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+p+`
`+v+`
`+G})}function Er(l,p,v,A,j,V,G){l.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+p+`
`+v+`
`+V+" "+G})}function ri(l,p,v,A){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ok(l,v)+(A?" "+A:"")})}function Mk(l,p){l.info(function(){return"TIMEOUT: "+p})}Tt.prototype.info=function(){};function Ok(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var A=v[l];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var G=1;G<j.length;G++)j[G]=""}}}}return Hi(v)}catch{return p}}var Sc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},af;function bc(){}S(bc,ei),bc.prototype.g=function(){return new XMLHttpRequest},bc.prototype.i=function(){return{}},af=new bc;function Kr(l,p,v,A){this.j=l,this.i=p,this.l=v,this.R=A||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rv}function Rv(){this.i=null,this.g="",this.h=!1}var Nv={},lf={};function cf(l,p,v){l.L=1,l.v=kc(Tr(p)),l.m=v,l.P=!0,Pv(l,null)}function Pv(l,p){l.F=Date.now(),Ic(l),l.A=Tr(l.v);var v=l.A,A=l.R;Array.isArray(A)||(A=[String(A)]),qv(v.i,"t",A),l.C=0,v=l.j.J,l.h=new Rv,l.g=u0(l.j,v?p:null,!l.m),0<l.O&&(l.M=new vc(m(l.Y,l,l.g),l.O)),p=l.U,v=l.g,A=l.ca;var j="readystatechange";Array.isArray(j)||(j&&(wc[0]=j.toString()),j=wc);for(var V=0;V<j.length;V++){var G=Mn(v,j[V],A||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),er(),Tc(l.i,l.u,l.A,l.l,l.R,l.m)}Kr.prototype.ca=function(l){l=l.target;const p=this.M;p&&Sr(l)==3?p.j():this.Y(l)},Kr.prototype.Y=function(l){try{if(l==this.g)e:{const Dt=Sr(this.g);var p=this.g.Ba();const Qi=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Zv(this.g)))){this.J||Dt!=4||p==7||(p==8||0>=Qi?er(3):er(2)),uf(this);var v=this.g.Z();this.X=v;t:if(Dv(this)){var A=Zv(this.g);l="";var j=A.length,V=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Ea(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,l+=this.h.i.decode(A[p],{stream:!(V&&p==j-1)});A.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=v==200,Er(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,St=this.g;if((je=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(je)){var Ae=je;break t}}Ae=null}if(v=Ae)ri(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,df(this,v);else{this.o=!1,this.s=3,Me(12),si(this),Ea(this);break e}}if(this.P){v=!0;let jn;for(;!this.J&&this.C<G.length;)if(jn=jk(this,G),jn==lf){Dt==4&&(this.s=4,Me(14),v=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Nv){this.s=4,Me(15),ri(this.i,this.l,G,"[Invalid Chunk]"),v=!1;break}else ri(this.i,this.l,jn,null),df(this,jn);if(Dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||G.length!=0||this.h.h||(this.s=1,Me(16),v=!1),this.o=this.o&&v,!v)ri(this.i,this.l,G,"[Invalid Chunked Response]"),si(this),Ea(this);else if(0<G.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),yf(Pt),Pt.M=!0,Me(11))}}else ri(this.i,this.l,G,null),df(this,G);Dt==4&&si(this),this.o&&!this.J&&(Dt==4?o0(this.j,this):(this.o=!1,Ic(this)))}else Zk(this.g),v==400&&0<G.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),si(this),Ea(this)}}}catch{}finally{}};function Dv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function jk(l,p){var v=l.C,A=p.indexOf(`
`,v);return A==-1?lf:(v=Number(p.substring(v,A)),isNaN(v)?Nv:(A+=1,A+v>p.length?lf:(p=p.slice(A,A+v),l.C=A+v,p)))}Kr.prototype.cancel=function(){this.J=!0,si(this)};function Ic(l){l.S=Date.now()+l.I,Mv(l,l.I)}function Mv(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Et(m(l.ba,l),p)}function uf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Kr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Mk(this.i,this.A),this.L!=2&&(er(),Me(17)),si(this),this.s=2,Ea(this)):Mv(this,this.S-l)};function Ea(l){l.j.G==0||l.J||o0(l.j,l)}function si(l){uf(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,xc(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function df(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||hf(v.h,l))){if(!l.K&&hf(v.h,l)&&v.G==3){try{var A=v.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Oc(v),Dc(v);else break e;gf(v),Me(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(m(v.Za,v),6e3));if(1>=Lv(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else oi(v,11)}else if((l.K||v.g==l)&&Oc(v),!g(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let Ae=j[p];if(v.T=Ae[0],Ae=Ae[1],v.G==2)if(Ae[0]=="c"){v.K=Ae[1],v.ia=Ae[2];const Pt=Ae[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const Dt=Ae[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const Qi=Ae[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(A=1.5*Qi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const jn=l.g;if(jn){const Lc=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lc){var V=A.h;V.g||Lc.indexOf("spdy")==-1&&Lc.indexOf("quic")==-1&&Lc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(ff(V,V.h),V.h=null))}if(A.D){const vf=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(A.ya=vf,Ve(A.I,A.D,vf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var G=l;if(A.qa=c0(A,A.J?A.ia:null,A.W),G.K){Vv(A.h,G);var je=G,St=A.L;St&&(je.I=St),je.B&&(uf(je),Ic(je)),A.g=G}else s0(A);0<v.i.length&&Mc(v)}else Ae[0]!="stop"&&Ae[0]!="close"||oi(v,7);else v.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?oi(v,7):mf(v):Ae[0]!="noop"&&v.l&&v.l.ta(Ae),v.v=0)}}er(4)}catch{}}var Lk=class{constructor(l,p){this.g=l,this.map=p}};function Ov(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Lv(l){return l.h?1:l.g?l.g.size:0}function hf(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ff(l,p){l.g?l.g.add(p):l.h=p}function Vv(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ov.prototype.cancel=function(){if(this.i=Fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Fv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return x(l.i)}function Vk(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var p=[],v=l.length,A=0;A<v;A++)p.push(l[A]);return p}p=[],v=0;for(A in l)p[v++]=l[A];return p}function Fk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const A in l)p[v++]=A;return p}}}function Uv(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=Fk(l),A=Vk(l),j=A.length,V=0;V<j;V++)p.call(void 0,A[V],v&&v[V],l)}var Bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uk(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var A=l[v].indexOf("="),j=null;if(0<=A){var V=l[v].substring(0,A);j=l[v].substring(A+1)}else V=l[v];p(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ii(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ii){this.h=l.h,Cc(this,l.j),this.o=l.o,this.g=l.g,Ac(this,l.s),this.l=l.l;var p=l.i,v=new ba;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),zv(this,v),this.m=l.m}else l&&(p=String(l).match(Bv))?(this.h=!1,Cc(this,p[1]||"",!0),this.o=Ta(p[2]||""),this.g=Ta(p[3]||"",!0),Ac(this,p[4]),this.l=Ta(p[5]||"",!0),zv(this,p[6]||"",!0),this.m=Ta(p[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}ii.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Sa(p,$v,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Sa(p,$v,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Sa(v,v.charAt(0)=="/"?$k:zk,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Sa(v,Wk)),l.join("")};function Tr(l){return new ii(l)}function Cc(l,p,v){l.j=v?Ta(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Ac(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function zv(l,p,v){p instanceof ba?(l.i=p,qk(l.i,l.h)):(v||(p=Sa(p,Hk)),l.i=new ba(p,l.h))}function Ve(l,p,v){l.i.set(p,v)}function kc(l){return Ve(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ta(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sa(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,Bk),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Bk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var $v=/[#\/\?@]/g,zk=/[#\?:]/g,$k=/[#\?]/g,Hk=/[#\?@]/g,Wk=/#/g;function ba(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Gr(l){l.g||(l.g=new Map,l.h=0,l.i&&Uk(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=ba.prototype,t.add=function(l,p){Gr(this),this.i=null,l=Ki(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function Hv(l,p){Gr(l),p=Ki(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Wv(l,p){return Gr(l),p=Ki(l,p),l.g.has(p)}t.forEach=function(l,p){Gr(this),this.g.forEach(function(v,A){v.forEach(function(j){l.call(p,j,A,this)},this)},this)},t.na=function(){Gr(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let A=0;A<p.length;A++){const j=l[A];for(let V=0;V<j.length;V++)v.push(p[A])}return v},t.V=function(l){Gr(this);let p=[];if(typeof l=="string")Wv(this,l)&&(p=p.concat(this.g.get(Ki(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},t.set=function(l,p){return Gr(this),this.i=null,l=Ki(this,l),Wv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function qv(l,p,v){Hv(l,p),0<v.length&&(l.i=null,l.g.set(Ki(l,p),x(v)),l.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var A=p[v];const V=encodeURIComponent(String(A)),G=this.V(A);for(A=0;A<G.length;A++){var j=V;G[A]!==""&&(j+="="+encodeURIComponent(String(G[A]))),l.push(j)}}return this.i=l.join("&")};function Ki(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function qk(l,p){p&&!l.j&&(Gr(l),l.i=null,l.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(Hv(this,A),qv(this,j,v))},l)),l.j=p}function Kk(l,p){const v=new Tt;if(a.Image){const A=new Image;A.onload=w(Qr,v,"TestLoadImage: loaded",!0,p,A),A.onerror=w(Qr,v,"TestLoadImage: error",!1,p,A),A.onabort=w(Qr,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=w(Qr,v,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=l}else p(!1)}function Gk(l,p){const v=new Tt,A=new AbortController,j=setTimeout(()=>{A.abort(),Qr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:A.signal}).then(V=>{clearTimeout(j),V.ok?Qr(v,"TestPingServer: ok",!0,p):Qr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Qr(v,"TestPingServer: error",!1,p)})}function Qr(l,p,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Qk(){this.g=new of}function Yk(l,p,v){const A=v||"";try{Uv(l,function(j,V){let G=j;u(j)&&(G=Hi(j)),p.push(A+V+"="+encodeURIComponent(G))})}catch(j){throw p.push(A+"type="+encodeURIComponent("_badmap")),j}}function Rc(l){this.l=l.Ub||null,this.j=l.eb||!1}S(Rc,ei),Rc.prototype.g=function(){return new Nc(this.l,this.j)},Rc.prototype.i=function(l){return function(){return l}}({});function Nc(l,p){et.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Nc,et),t=Nc.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Ca(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Ia(this):Ca(this),this.readyState==3&&Kv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ia(this))},t.Qa=function(l){this.g&&(this.response=l,Ia(this))},t.ga=function(){this.g&&Ia(this)};function Ia(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ca(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Ca(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Gv(l){let p="";return O(l,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function pf(l,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Gv(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):Ve(l,p,v))}function Xe(l){et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,et);var Xk=/^https?$/i,Jk=["POST","PUT"];t=Xe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():af.g(),this.v=this.o?On(this.o):On(af),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(V){Qv(this,V);return}if(l=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())v.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(V=>V.toLowerCase()=="content-type"),j=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Jk,p,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of v)this.g.setRequestHeader(V,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jv(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){Qv(this,V)}};function Qv(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Yv(l),Pc(l)}function Yv(l){l.A||(l.A=!0,_t(l,"complete"),_t(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,_t(this,"complete"),_t(this,"abort"),Pc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pc(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xv(this):this.bb())},t.bb=function(){Xv(this)};function Xv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Sr(l)!=4||l.Z()!=2)){if(l.u&&Sr(l)==4)$i(l.Ea,0,l);else if(_t(l,"readystatechange"),Sr(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=G===0){var j=String(l.D).match(Bv)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),A=!Xk.test(j?j.toLowerCase():"")}v=A}if(v)_t(l,"complete"),_t(l,"success");else{l.m=6;try{var V=2<Sr(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Yv(l)}}finally{Pc(l)}}}}function Pc(l,p){if(l.g){Jv(l);const v=l.g,A=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||_t(l,"ready");try{v.onreadystatechange=A}catch{}}}function Jv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Sr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),_c(p)}};function Zv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Zk(l){const p={};l=(l.g&&2<=Sr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<l.length;A++){if(g(l[A]))continue;var v=D(l[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const V=p[j]||[];p[j]=V,V.push(v)}I(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function e0(l){this.Aa=0,this.i=[],this.j=new Tt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,l),this.cb=Aa("retryDelaySeedMs",1e4,l),this.Wa=Aa("forwardChannelMaxRetries",2,l),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ov(l&&l.concurrentRequestLimit),this.Da=new Qk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=e0.prototype,t.la=8,t.G=1,t.connect=function(l,p,v,A){Me(0),this.W=l,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=c0(this,null,this.W),Mc(this)};function mf(l){if(t0(l),l.G==3){var p=l.U++,v=Tr(l.I);if(Ve(v,"SID",l.K),Ve(v,"RID",p),Ve(v,"TYPE","terminate"),ka(l,v),p=new Kr(l,l.j,p),p.L=2,p.v=kc(Tr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=u0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ic(p)}l0(l)}function Dc(l){l.g&&(yf(l),l.g.cancel(),l.g=null)}function t0(l){Dc(l),l.u&&(a.clearTimeout(l.u),l.u=null),Oc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Mc(l){if(!jv(l.h)&&!l.s){l.s=!0;var p=l.Ga;K||Q(),L||(K(),L=!0),z.add(p,l),l.B=0}}function eR(l,p){return Lv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Et(m(l.Ga,l,p),a0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const j=new Kr(this,this.j,l);let V=this.o;if(this.S&&(V?(V=b(V),k(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=r0(this,j,p),v=Tr(this.I),Ve(v,"RID",l),Ve(v,"CVER",22),this.D&&Ve(v,"X-HTTP-Session-Id",this.D),ka(this,v),V&&(this.O?p="headers="+encodeURIComponent(String(Gv(V)))+"&"+p:this.m&&pf(v,this.m,V)),ff(this.h,j),this.Ua&&Ve(v,"TYPE","init"),this.P?(Ve(v,"$req",p),Ve(v,"SID","null"),j.T=!0,cf(j,v,null)):cf(j,v,p),this.G=2}}else this.G==3&&(l?n0(this,l):this.i.length==0||jv(this.h)||n0(this))};function n0(l,p){var v;p?v=p.l:v=l.U++;const A=Tr(l.I);Ve(A,"SID",l.K),Ve(A,"RID",v),Ve(A,"AID",l.T),ka(l,A),l.m&&l.o&&pf(A,l.m,l.o),v=new Kr(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=r0(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ff(l.h,v),cf(v,A,p)}function ka(l,p){l.H&&O(l.H,function(v,A){Ve(p,A,v)}),l.l&&Uv({},function(v,A){Ve(p,A,v)})}function r0(l,p,v){v=Math.min(l.i.length,v);var A=l.l?m(l.l.Na,l.l,l):null;e:{var j=l.i;let V=-1;for(;;){const G=["count="+v];V==-1?0<v?(V=j[0].g,G.push("ofs="+V)):V=0:G.push("ofs="+V);let je=!0;for(let St=0;St<v;St++){let Ae=j[St].g;const Pt=j[St].map;if(Ae-=V,0>Ae)V=Math.max(0,j[St].g-100),je=!1;else try{Yk(Pt,G,"req"+Ae+"_")}catch{A&&A(Pt)}}if(je){A=G.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,A}function s0(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;K||Q(),L||(K(),L=!0),z.add(p,l),l.v=0}}function gf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Et(m(l.Fa,l),a0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,i0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Et(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Dc(this),i0(this))};function yf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function i0(l){l.g=new Kr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Tr(l.qa);Ve(p,"RID","rpc"),Ve(p,"SID",l.K),Ve(p,"AID",l.T),Ve(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ve(p,"TO",l.ja),Ve(p,"TYPE","xmlhttp"),ka(l,p),l.m&&l.o&&pf(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=kc(Tr(p)),v.m=null,v.P=!0,Pv(v,l)}t.Za=function(){this.C!=null&&(this.C=null,Dc(this),gf(this),Me(19))};function Oc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function o0(l,p){var v=null;if(l.g==p){Oc(l),yf(l),l.g=null;var A=2}else if(hf(l.h,p))v=p.D,Vv(l.h,p),A=1;else return;if(l.G!=0){if(p.o)if(A==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=l.B;A=nt(),_t(A,new ni(A,v)),Mc(l)}else s0(l);else if(j=p.s,j==3||j==0&&0<p.X||!(A==1&&eR(l,p)||A==2&&gf(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),j){case 1:oi(l,5);break;case 4:oi(l,10);break;case 3:oi(l,6);break;default:oi(l,2)}}}function a0(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function oi(l,p){if(l.j.info("Error code "+p),p==2){var v=m(l.fb,l),A=l.Xa;const j=!A;A=new ii(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cc(A,"https"),kc(A),j?Kk(A.toString(),v):Gk(A.toString(),v)}else Me(2);l.G=0,l.l&&l.l.sa(p),l0(l),t0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function l0(l){if(l.G=0,l.ka=[],l.l){const p=Fv(l.h);(p.length!=0||l.i.length!=0)&&(T(l.ka,p),T(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function c0(l,p,v){var A=v instanceof ii?Tr(v):new ii(v);if(A.g!="")p&&(A.g=p+"."+A.g),Ac(A,A.s);else{var j=a.location;A=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var V=new ii(null);A&&Cc(V,A),p&&(V.g=p),j&&Ac(V,j),v&&(V.l=v),A=V}return v=l.D,p=l.ya,v&&p&&Ve(A,v,p),Ve(A,"VER",l.la),ka(l,A),A}function u0(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Xe(new Rc({eb:v})):new Xe(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function d0(){}t=d0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jc(){}jc.prototype.g=function(l,p){return new un(l,p)};function un(l,p){et.call(this),this.g=new e0(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!g(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!g(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Gi(this)}S(un,et),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){mf(this.g)},un.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=Hi(l),l=v);p.i.push(new Lk(p.Ya++,l)),p.G==3&&Mc(p)},un.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,un.aa.N.call(this)};function h0(l){Wi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}S(h0,Wi);function f0(){qi.call(this),this.status=1}S(f0,qi);function Gi(l){this.g=l}S(Gi,d0),Gi.prototype.ua=function(){_t(this.g,"a")},Gi.prototype.ta=function(l){_t(this.g,new h0(l))},Gi.prototype.sa=function(l){_t(this.g,new f0)},Gi.prototype.ra=function(){_t(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,oI=function(){return new jc},iI=function(){return nt()},sI=ae,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sc.NO_ERROR=0,Sc.TIMEOUT=8,Sc.HTTP_ERROR=6,Lu=Sc,kv.COMPLETE="complete",rI=kv,Ec.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",et.prototype.listen=et.prototype.K,Ha=Ec,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,nI=Xe}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const Fx="@firebase/firestore",Ux="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Iy("@firebase/firestore");function eo(){return Di.logLevel}function X(t,...e){if(Di.logLevel<=ve.DEBUG){const n=e.map(Fy);Di.debug(`Firestore (${fa}): ${t}`,...n)}}function $r(t,...e){if(Di.logLevel<=ve.ERROR){const n=e.map(Fy);Di.error(`Firestore (${fa}): ${t}`,...n)}}function Jo(t,...e){if(Di.logLevel<=ve.WARN){const n=e.map(Fy);Di.warn(`Firestore (${fa}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aI(t,r,n)}function aI(t,e,n){let r=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $r(r),new Error(r)}function Re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||aI(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class m6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g6{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ns,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new lI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class y6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=x6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Mm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return me(r,s);{const i=cI(),o=_6(i.encode(zx(t,n)),i.encode(zx(e,n)));return o!==0?o:me(r,s)}}n+=r>65535?2:1}return me(t.length,e.length)}function zx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function _6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function Zo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=-62135596800,Hx=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Hx);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$x)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hx}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$x;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ct(0,0))}static max(){return new ce(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__name__";class sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=sr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=sr.isNumericId(e),s=sr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?sr.extractNumericId(e).compare(sr.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class ze extends sr{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const E6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends sr{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return E6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wx}static keyField(){return new Ct([Wx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(ze.fromString(e))}static fromName(e){return new se(ze.fromString(e).popFirst(5))}static empty(){return new se(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function T6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Fs(s,se.empty(),e)}function S6(t){return new Fs(t.readTime,t.key,jl)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(ce.min(),se.empty(),jl)}static max(){return new Fs(ce.max(),se.empty(),jl)}}function b6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==I6)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function A6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Nh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function Ph(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function k6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="";function R6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qx(e)),e=N6(t.get(n),e);return qx(e)}function N6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case dI:n+="";break;default:n+=i}}return n}function qx(t){return t+dI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??It.EMPTY,this.right=i??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gx(this.data.getIterator())}getIteratorFrom(e){return new Gx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class Gx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new mn([])}unionWith(e){let n=new ft(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fI("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const P6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=P6.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="server_timestamp",mI="__type__",gI="__previous_value__",yI="__local_write_time__";function By(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mI])===null||n===void 0?void 0:n.stringValue)===pI}function Dh(t){const e=t.mapValue.fields[gI];return By(e)?Dh(e):e}function Ll(t){const e=Us(t.mapValue.fields[yI].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,s,i,o,a,c,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=f}}const Vd="(default)";class Vl{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="__type__",wI="__max__",uu={mapValue:{fields:{__type__:{stringValue:wI}}}},xI="__vector__",Fd="value";function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?By(t)?4:O6(t)?9007199254740991:M6(t)?10:11:oe(28295,{value:t})}function vr(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ll(t).isEqual(Ll(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Us(s.timestampValue),a=Us(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bs(s.bytesValue).isEqual(Bs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?Ld(o)===Ld(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Kx(o)!==Kx(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!vr(o[c],a[c])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function Fl(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function ea(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),c=rt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Qx(t.timestampValue,e.timestampValue);case 4:return Qx(Ll(t),Ll(e));case 5:return Mm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Bs(i),c=Bs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=me(a[u],c[u]);if(f!==0)return f}return me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(rt(i.latitude),rt(o.latitude));return a!==0?a:me(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,f;const h=i.fields||{},m=o.fields||{},w=(a=h[Fd])===null||a===void 0?void 0:a.arrayValue,S=(c=m[Fd])===null||c===void 0?void 0:c.arrayValue,x=me(((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0,((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:Yx(w,S)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===uu.mapValue&&o===uu.mapValue)return 0;if(i===uu.mapValue)return 1;if(o===uu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const m=Mm(c[h],f[h]);if(m!==0)return m;const w=ea(a[c[h]],u[f[h]]);if(w!==0)return w}return me(c.length,f.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{Pe:n})}}function Qx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Us(t),r=Us(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function Yx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ea(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function ta(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Om(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Om(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function Vu(t){switch(zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(t);return e?16+Vu(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Vu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Qs(r.fields,(i,o)=>{s+=i.length+Vu(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function Xx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jm(t){return!!t&&"integerValue"in t}function zy(t){return!!t&&"arrayValue"in t}function Jx(t){return!!t&&"nullValue"in t}function Zx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fu(t){return!!t&&"mapValue"in t}function M6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vI])===null||n===void 0?void 0:n.stringValue)===xI}function al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=al(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Fu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new nn(al(this.value))}}function _I(t){const e=[];return Qs(t.fields,(n,r)=>{const s=new Ct([n]);if(Fu(r)){const i=_I(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ce.min(),ce.min(),ce.min(),nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,ce.min(),ce.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ce.min(),ce.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.position=e,this.inclusive=n}}function e_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=ea(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n="asc"){this.field=e,this.dir=n}}function j6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{}class lt extends EI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V6(e,n,r):n==="array-contains"?new B6(e,r):n==="in"?new z6(e,r):n==="not-in"?new $6(e,r):n==="array-contains-any"?new H6(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F6(e,r):new U6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ea(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends EI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Jn(e,n)}matches(e){return TI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function TI(t){return t.op==="and"}function SI(t){return L6(t)&&TI(t)}function L6(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function Lm(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(SI(t))return t.filters.map(e=>Lm(e)).join(",");{const e=t.filters.map(n=>Lm(n)).join(",");return`${t.op}(${e})`}}function bI(t,e){return t instanceof lt?function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&vr(r.value,s.value)}(t,e):t instanceof Jn?function(r,s){return s instanceof Jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&bI(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function II(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${ta(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(II).join(" ,")+"}"}(t):"Filter"}class V6 extends lt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class F6 extends lt{constructor(e,n){super(e,"in",n),this.keys=CI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U6 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=CI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class B6 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zy(n)&&Fl(n.arrayValue,this.value)}}class z6 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class $6 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class H6 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function n_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new W6(t,e,n,r,s,i,o)}function $y(t){const e=ue(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ta(r)).join(",")),e.Ie=n}return e.Ie}function Hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t_(t.startAt,e.startAt)&&t_(t.endAt,e.endAt)}function Vm(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function q6(t,e,n,r,s,i,o,a){return new ga(t,e,n,r,s,i,o,a)}function Mh(t){return new ga(t)}function r_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AI(t){return t.collectionGroup!==null}function ll(t){const e=ue(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(Ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Ul(i,r))}),n.has(Ct.keyField().canonicalString())||e.Ee.push(new Ul(Ct.keyField(),r))}return e.Ee}function pr(t){const e=ue(t);return e.de||(e.de=K6(e,ll(t))),e.de}function K6(t,e){if(t.limitType==="F")return n_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ul(s.field,i)});const n=t.endAt?new Ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ud(t.startAt.position,t.startAt.inclusive):null;return n_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fm(t,e){const n=t.filters.concat([e]);return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Um(t,e,n){return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oh(t,e){return Hy(pr(t),pr(e))&&t.limitType===e.limitType}function kI(t){return`${$y(pr(t))}|lt:${t.limitType}`}function to(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>II(s)).join(", ")}]`),Ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ta(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ta(s)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=e_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,ll(r),s)||r.endAt&&!function(o,a,c){const u=e_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,ll(r),s))}(t,e)}function G6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RI(t){return(e,n)=>{let r=!1;for(const s of ll(t)){const i=Q6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Q6(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?ea(c,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return hI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new Ye(se.comparator);function Hr(){return Y6}const NI=new Ye(se.comparator);function Wa(...t){let e=NI;for(const n of t)e=e.insert(n.key,n);return e}function PI(t){let e=NI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pi(){return cl()}function DI(){return cl()}function cl(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const X6=new Ye(se.comparator),J6=new ft(se.comparator);function we(...t){let e=J6;for(const n of t)e=e.add(n);return e}const Z6=new ft(me);function eF(){return Z6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function MI(t){return{integerValue:""+t}}function tF(t,e){return k6(e)?MI(e):Wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function nF(t,e,n){return t instanceof Bl?function(s,i){const o={fields:{[mI]:{stringValue:pI},[yI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&By(i)&&(i=Dh(i)),i&&(o.fields[gI]=i),{mapValue:o}}(n,e):t instanceof zl?jI(t,e):t instanceof $l?LI(t,e):function(s,i){const o=OI(s,i),a=s_(o)+s_(s.Re);return jm(o)&&jm(s.Re)?MI(a):Wy(s.serializer,a)}(t,e)}function rF(t,e,n){return t instanceof zl?jI(t,e):t instanceof $l?LI(t,e):n}function OI(t,e){return t instanceof Bd?function(r){return jm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Bl extends Lh{}class zl extends Lh{constructor(e){super(),this.elements=e}}function jI(t,e){const n=VI(e);for(const r of t.elements)n.some(s=>vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class $l extends Lh{constructor(e){super(),this.elements=e}}function LI(t,e){let n=VI(e);for(const r of t.elements)n=n.filter(s=>!vr(s,r));return{arrayValue:{values:n}}}class Bd extends Lh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function s_(t){return rt(t.integerValue||t.doubleValue)}function VI(t){return zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.field=e,this.transform=n}}function iF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof zl&&s instanceof zl||r instanceof $l&&s instanceof $l?Zo(r.elements,s.elements,vr):r instanceof Bd&&s instanceof Bd?vr(r.Re,s.Re):r instanceof Bl&&s instanceof Bl}(t.transform,e.transform)}class oF{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vh{}function FI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qy(t.key,kn.none()):new uc(t.key,t.data,kn.none());{const n=t.data,r=nn.empty();let s=new ft(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ys(t.key,r,new mn(s.toArray()),kn.none())}}function aF(t,e,n){t instanceof uc?function(s,i,o){const a=s.value.clone(),c=o_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ys?function(s,i,o){if(!Uu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=o_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(UI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ul(t,e,n,r){return t instanceof uc?function(i,o,a,c){if(!Uu(i.precondition,o))return a;const u=i.value.clone(),f=a_(i.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ys?function(i,o,a,c){if(!Uu(i.precondition,o))return a;const u=a_(i.fieldTransforms,c,o),f=o.data;return f.setAll(UI(i)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Uu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=OI(r.transform,s||null);i!=null&&(n===null&&(n=nn.empty()),n.set(r.field,i))}return n||null}function i_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Zo(r,s,(i,o)=>iF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends Vh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ys extends Vh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function UI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function o_(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,rF(o,a,n[s]))}return r}function a_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,nF(i,o,e))}return r}class qy extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cF extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&aF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=FI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(n,r)=>i_(n,r))&&Zo(this.baseMutations,e.baseMutations,(n,r)=>i_(n,r))}}class Ky{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return X6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ky(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ie;function fF(t){switch(t){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function BI(t){if(t===void 0)return $r("GRPC error has no .code"),F.UNKNOWN;switch(t){case ot.OK:return F.OK;case ot.CANCELLED:return F.CANCELLED;case ot.UNKNOWN:return F.UNKNOWN;case ot.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ot.INTERNAL:return F.INTERNAL;case ot.UNAVAILABLE:return F.UNAVAILABLE;case ot.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ot.NOT_FOUND:return F.NOT_FOUND;case ot.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ot.ABORTED:return F.ABORTED;case ot.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ot.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:t})}}(Ie=ot||(ot={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new Rs([4294967295,4294967295],0);function l_(t){const e=cI().encode(t),n=new tI;return n.update(e),new Uint8Array(n.digest())}function c_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Rs([n,r],0),new Rs([s,i],0)]}class Gy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qa(`Invalid padding: ${n}`);if(r<0)throw new qa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Rs.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Rs.fromNumber(r)));return s.compare(pF)===1&&(s=new Rs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=l_(e),[r,s]=c_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=l_(e),[r,s]=c_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fh(ce.min(),s,new Ye(me),Hr(),we())}}class dc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class zI{constructor(e,n){this.targetId=e,this.Ce=n}}class $I{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class u_{constructor(){this.Fe=0,this.Me=d_(),this.xe=Rt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=we(),n=we(),r=we();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new dc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=d_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Re(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mF{constructor(e){this.ze=e,this.je=new Map,this.He=Hr(),this.Je=du(),this.Ye=du(),this.Ze=new Ye(me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Vm(i))if(r===0){const o=new se(i.path);this.tt(n,o,Bt.newNoDocument(o,ce.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Bs(r).toUint8Array()}catch(c){if(c instanceof fI)return Jo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Gy(o,s,i)}catch(c){return Jo(c instanceof qa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Vm(a.target)){const c=new se(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Bt.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=we();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Fh(e,n,this.Ze,this.He,r);return this.He=Hr(),this.Je=du(),this.Ye=du(),this.Ze=new Ye(me),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new u_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ft(me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ft(me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new u_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function du(){return new Ye(se.comparator)}function d_(){return new Ye(se.comparator)}const gF={asc:"ASCENDING",desc:"DESCENDING"},yF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vF={and:"AND",or:"OR"};class wF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(t,e){return t.useProto3Json||Ph(e)?e:{value:e}}function zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xF(t,e){return zd(t,e.toTimestamp())}function mr(t){return Re(!!t,49232),ce.fromTimestamp(function(n){const r=Us(n);return new ct(r.seconds,r.nanos)}(t))}function Qy(t,e){return zm(t,e).canonicalString()}function zm(t,e){const n=function(s){return new ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WI(t){const e=ze.fromString(t);return Re(YI(e),10190,{key:e.toString()}),e}function $m(t,e){return Qy(t.databaseId,e.path)}function lp(t,e){const n=WI(e);if(n.get(1)!==t.databaseId.projectId)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(KI(n))}function qI(t,e){return Qy(t.databaseId,e)}function _F(t){const e=WI(t);return e.length===4?ze.emptyPath():KI(e)}function Hm(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KI(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function h_(t,e,n){return{name:$m(t,e),fields:n.value.mapValue.fields}}function EF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,f){return u.useProto3Json?(Re(f===void 0||typeof f=="string",58123),Rt.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Rt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?F.UNKNOWN:BI(u.code);return new J(f,u.message||"")}(o);n=new $I(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=lp(t,r.document.name),i=mr(r.document.updateTime),o=r.document.createTime?mr(r.document.createTime):ce.min(),a=new nn({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(s,i,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Bu(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=lp(t,r.document),i=r.readTime?mr(r.readTime):ce.min(),o=Bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Bu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=lp(t,r.document),i=r.removedTargetIds||[];n=new Bu([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new hF(s,i),a=r.targetId;n=new zI(a,o)}}return n}function TF(t,e){let n;if(e instanceof uc)n={update:h_(t,e.key,e.value)};else if(e instanceof qy)n={delete:$m(t,e.key)};else if(e instanceof Ys)n={update:h_(t,e.key,e.data),updateMask:PF(e.fieldMask)};else{if(!(e instanceof cF))return oe(16599,{ft:e.type});n={verify:$m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:xF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function SF(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?mr(s.updateTime):mr(i);return o.isEqual(ce.min())&&(o=mr(i)),new oF(o,s.transformResults||[])}(n,e))):[]}function bF(t,e){return{documents:[qI(t,e.path)]}}function IF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qI(t,s);const i=function(u){if(u.length!==0)return QI(Jn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:no(m.field),direction:kF(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Bm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function CF(t){let e=_F(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(h){const m=GI(h);return m instanceof Jn&&SI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(S){return new Ul(ro(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Ph(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,w=h.values||[];return new Ud(w,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,w=h.values||[];return new Ud(w,m)}(n.endAt)),q6(e,s,o,i,a,"F",c,u)}function AF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ro(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ro(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ro(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return lt.create(ro(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>GI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function kF(t){return gF[t]}function RF(t){return yF[t]}function NF(t){return vF[t]}function no(t){return{fieldPath:t.canonicalString()}}function ro(t){return Ct.fromServerFormat(t.fieldPath)}function QI(t){return t instanceof lt?function(n){if(n.op==="=="){if(Zx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(Jx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(Jx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:RF(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(s=>QI(s));return r.length===1?r[0]:{compositeFilter:{op:NF(n.op),filters:r}}}(t):oe(54877,{filter:t})}function PF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=Rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.wt=e}}function MF(t){const e=CF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.Cn=new jF}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Fs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class jF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ft(ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ft(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XI=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(XI,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new na(0)}static lr(){return new na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",LF=1048576;function m_([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class VF{constructor(e){this.Er=e,this.buffer=new ft(m_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();m_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){X(p_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ma(n)?X(p_,"Ignoring IndexedDB error during garbage collection: ",n):await pa(n)}await this.mr(3e5)})}}class UF{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Nh.le);const r=new VF(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(f_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,c,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),eo()<=ve.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function BF(t,e){return new UF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ul(r.mutation,s,mn.empty(),ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wa();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Hr();const o=cl(),a=function(){return cl()}();return n.forEach((c,u)=>{const f=r.get(u.key);s.has(u.key)&&(f===void 0||f.mutation instanceof Ys)?i=i.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),ul(f.mutation,u,f.mutation.getFieldMask(),ct.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new $F(f,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cl();let s=new Ye((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||mn.empty();f=a.applyToLocalView(u,f),r.set(c,f);const h=(s.get(a.batchId)||we()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,f=c.value,h=DI();f.forEach(m=>{if(!i.has(m)){const w=FI(n.get(m),r.get(m));w!==null&&h.set(m,w),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(pi());let a=jl,c=i;return o.next(u=>U.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,we())).next(f=>({batchId:a,changes:PI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Wa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wa();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,c=>{const u=function(h,m){return new ga(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Bt.newInvalidDocument(f)))});let a=Wa();return o.forEach((c,u)=>{const f=i.get(c);f!==void 0&&ul(f.mutation,u,mn.empty(),ct.now()),jh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:mr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:MF(s.bundledQuery),readTime:mr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.overlays=new Ye(se.comparator),this.Qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=pi(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=i.get(u.largestBatchId);f===null&&(f=pi(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=pi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dF(n,r));let i=this.Qr.get(n);i===void 0&&(i=we(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.$r=new ft(gt.Ur),this.Kr=new ft(gt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new gt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new gt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new se(new ze([])),r=new gt(n,e),s=new gt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new se(new ze([])),r=new gt(n,e),s=new gt(n,e+1);let i=we();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new gt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return se.comparator(e.key,n.key)||me(e.Zr,n.Zr)}static Wr(e,n){return me(e.Zr,n.Zr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ft(gt.Ur)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new gt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Uy:this.nr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(me);return n.forEach(s=>{const i=new gt(s,0),o=new gt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),U.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new gt(new se(i),0);let a=new ft(me);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Zr)),!0)},o),U.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return U.forEach(n.mutations,s=>{const i=new gt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new gt(n,0),s=this.Xr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.ii=e,this.docs=function(){return new Ye(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hr();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||b6(S6(f),r)<=0||(s.has(f.key)||jh(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}si(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YF(this)}getSize(e){return U.resolve(this.size)}}class YF extends zF{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.persistence=e,this.oi=new Fi(n=>$y(n),Hy),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Yy,this.targetCount=0,this.ui=na.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),U.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new na(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Tr(n),U.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.ci={},this.overlays={},this.li=new Nh(0),this.hi=!1,this.hi=!0,this.Pi=new KF,this.referenceDelegate=e(this),this.Ti=new XF(this),this.indexManager=new OF,this.remoteDocumentCache=function(s){return new QF(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new DF(n),this.Ei=new WF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new GF(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new JF(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return U.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class JF extends C6{constructor(e){super(),this.currentSequenceNumber=e}}class Xy{constructor(e){this.persistence=e,this.Vi=new Yy,this.mi=null}static fi(e){return new Xy(e)}get gi(){if(this.mi)return this.mi;throw oe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,r=>{const s=se.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class $d{constructor(e,n){this.persistence=e,this.yi=new Fi(r=>R6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=BF(this,n)}static fi(e,n){return new $d(e,n)}di(){}Ai(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return U.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vu(e.data.value)),n}Dr(e,n,r){return U.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Jy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return qj()?8:A6(Ht())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new ZF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(eo()<=ve.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(eo()<=ve.DEBUG&&X("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(eo()<=ve.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):U.resolve())}ws(e,n){if(r_(n))return U.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Um(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,a);return this.Cs(n,u,o,c.readTime)?this.ws(e,Um(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return r_(n)||s.isEqual(ce.min())?U.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(eo()<=ve.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),to(n)),this.Fs(e,o,n,T6(s,jl)).next(a=>a))})}vs(e,n){let r=new ft(RI(e));return n.forEach((s,i)=>{jh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return eo()<=ve.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",to(n)),this.ys.getDocumentsMatchingQuery(e,n,Fs.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LocalStore",t3=3e8;class n3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ye(me),this.Os=new Fi(i=>$y(i),Hy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HF(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function r3(t,e,n,r){return new n3(t,e,n,r)}async function ZI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=we();for(const u of s){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of i){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function s3(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,f){const h=u.batch,m=h.keys();let w=U.resolve();return m.forEach(S=>{w=w.next(()=>f.getEntry(c,S)).next(x=>{const T=u.docVersions.get(S);Re(T!==null,48541),x.version.compareTo(T)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),f.addEntry(x)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function eC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function i3(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((f,h)=>{const m=s.get(h);if(!m)return;a.push(n.Ti.removeMatchingKeys(i,f.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(i,f.addedDocuments,h)));let w=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?w=w.withResumeToken(Rt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),s=s.insert(h,w),function(x,T,y){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=t3?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,w,f)&&a.push(n.Ti.updateTargetData(i,w))});let c=Hr(),u=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(o3(i,o,e.documentUpdates).next(f=>{c=f.qs,u=f.Qs})),!r.isEqual(ce.min())){const f=n.Ti.getLastRemoteSnapshotVersion(i).next(h=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function o3(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X(Zy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function a3(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l3(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Wm(t,e,n){const r=ue(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ma(o))throw o;X(Zy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function g_(t,e,n){const r=ue(t);let s=ce.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const h=ue(c),m=h.Os.get(f);return m!==void 0?U.resolve(h.xs.get(m)):h.Ti.getTargetData(u,f)}(r,o,pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:we())).next(a=>(c3(r,G6(e),a),{documents:a,$s:i})))}function c3(t,e,n){let r=t.Ns.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class y_{constructor(){this.activeTargetIds=eF()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u3{constructor(){this.xo=new y_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class w_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){X(v_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){X(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function qm(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",h3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Vd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=qm(),a=this.jo(e,n.toUriEncodedString());X(cp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(a),f=rc(u);return this.Jo(e,a,c,r,f).then(h=>(X(cp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Jo(cp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=h3[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class m3 extends f3{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=qm();return new Promise((a,c)=>{const u=new nI;u.setWithCredentials(!0),u.listenOnce(rI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lu.NO_ERROR:const h=u.getResponseJson();X(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Lu.TIMEOUT:X(Lt,`RPC '${e}' ${o} timed out`),c(new J(F.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const m=u.getStatus();if(X(Lt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const x=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(g)>=0?g:F.UNKNOWN}(S.status);c(new J(x,S.message))}else c(new J(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{X(Lt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);X(Lt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",f,r,15)})}I_(e,n,r){const s=qm(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oI(),a=iI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");X(Lt,`Creating RPC '${e}' stream ${s}: ${f}`,c);const h=o.createWebChannel(f,c);this.E_(h);let m=!1,w=!1;const S=new p3({Zo:T=>{w?X(Lt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(m||(X(Lt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),X(Lt,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},Xo:()=>h.close()}),x=(T,y,g)=>{T.listen(y,_=>{try{g(_)}catch(R){setTimeout(()=>{throw R},0)}})};return x(h,Ha.EventType.OPEN,()=>{w||(X(Lt,`RPC '${e}' stream ${s} transport opened.`),S.__())}),x(h,Ha.EventType.CLOSE,()=>{w||(w=!0,X(Lt,`RPC '${e}' stream ${s} transport closed`),S.u_(),this.d_(h))}),x(h,Ha.EventType.ERROR,T=>{w||(w=!0,Jo(Lt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),S.u_(new J(F.UNAVAILABLE,"The operation could not be completed")))}),x(h,Ha.EventType.MESSAGE,T=>{var y;if(!w){const g=T.data[0];Re(!!g,16349);const _=g,R=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(R){X(Lt,`RPC '${e}' stream ${s} received error:`,R);const N=R.status;let O=function(C){const k=ot[C];if(k!==void 0)return BI(k)}(N),I=R.message;O===void 0&&(O=F.INTERNAL,I="Unknown error status: "+N+" with message "+R.message),w=!0,S.u_(new J(O,I)),h.close()}else X(Lt,`RPC '${e}' stream ${s} received:`,g),S.c_(g)}}),x(a,sI.STAT_EVENT,T=>{T.stat===Dm.PROXY?X(Lt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Dm.NOPROXY&&X(Lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return new wF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class nC{constructor(e,n,r,s,i,o,a,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new tC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new J(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return X(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(X(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g3 extends nC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=EF(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?mr(o.readTime):ce.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Hm(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Vm(c)?{documents:bF(i,c)}:{query:IF(i,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=HI(i,o.resumeToken);const u=Bm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=zd(i,o.snapshotVersion.toTimestamp());const u=Bm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=AF(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.Q_(n)}}class y3 extends nC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=SF(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Hm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TF(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{}class w3 extends v3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,zm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(F.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,zm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(F.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class x3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?($r(n),this.ua=!1):X("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="RemoteStore";class _3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Ui(this)&&(X(Mi,"Restarting streams for network reachability change."),await async function(c){const u=ue(c);u.da.add(4),await hc(u),u.Va.set("Unknown"),u.da.delete(4),await Bh(u)}(this))})}),this.Va=new x3(r,s)}}async function Bh(t){if(Ui(t))for(const e of t.Aa)await e(!0)}async function hc(t){for(const e of t.Aa)await e(!1)}function rC(t,e){const n=ue(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),rv(n)?nv(n):ya(n).N_()&&tv(n,e))}function ev(t,e){const n=ue(t),r=ya(n);n.Ea.delete(e),r.N_()&&sC(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ui(n)&&n.Va.set("Unknown"))}function tv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ya(t).Z_(e)}function sC(t,e){t.ma.Ke(e),ya(t).X_(e)}function nv(t){t.ma=new mF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ya(t).start(),t.Va.ca()}function rv(t){return Ui(t)&&!ya(t).O_()&&t.Ea.size>0}function Ui(t){return ue(t).da.size===0}function iC(t){t.ma=void 0}async function E3(t){t.Va.set("Online")}async function T3(t){t.Ea.forEach((e,n)=>{tv(t,e)})}async function S3(t,e){iC(t),rv(t)?(t.Va.Pa(e),nv(t)):t.Va.set("Unknown")}async function b3(t,e,n){if(t.Va.set("Online"),e instanceof $I&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ea.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ea.delete(a),s.ma.removeTarget(a))}(t,e)}catch(r){X(Mi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hd(t,r)}else if(e instanceof Bu?t.ma.Xe(e):e instanceof zI?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ce.min()))try{const r=await eC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ma.It(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ea.get(u);f&&i.Ea.set(u,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const f=i.Ea.get(c);if(!f)return;i.Ea.set(c,f.withResumeToken(Rt.EMPTY_BYTE_STRING,f.snapshotVersion)),sC(i,c);const h=new vs(f.target,c,u,f.sequenceNumber);tv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(Mi,"Failed to raise snapshot:",r),await Hd(t,r)}}async function Hd(t,e,n){if(!ma(e))throw e;t.da.add(1),await hc(t),t.Va.set("Offline"),n||(n=()=>eC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Mi,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Bh(t)})}function oC(t,e){return e().catch(n=>Hd(t,n,e))}async function zh(t){const e=ue(t),n=$s(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Uy;for(;I3(e);)try{const s=await a3(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,C3(e,s)}catch(s){await Hd(e,s)}aC(e)&&lC(e)}function I3(t){return Ui(t)&&t.Ia.length<10}function C3(t,e){t.Ia.push(e);const n=$s(t);n.N_()&&n.ea&&n.ta(e.mutations)}function aC(t){return Ui(t)&&!$s(t).O_()&&t.Ia.length>0}function lC(t){$s(t).start()}async function A3(t){$s(t).ia()}async function k3(t){const e=$s(t);for(const n of t.Ia)e.ta(n.mutations)}async function R3(t,e,n){const r=t.Ia.shift(),s=Ky.from(r,e,n);await oC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zh(t)}async function N3(t,e){e&&$s(t).ea&&await async function(r,s){if(function(o){return fF(o)&&o!==F.ABORTED}(s.code)){const i=r.Ia.shift();$s(r).L_(),await oC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await zh(r)}}(t,e),aC(t)&&lC(t)}async function __(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),X(Mi,"RemoteStore received new credentials");const r=Ui(n);n.da.add(3),await hc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Bh(n)}async function P3(t,e){const n=ue(t);e?(n.da.delete(2),await Bh(n)):e||(n.da.add(2),await hc(n),n.Va.set("Unknown"))}function ya(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.oa(),new g3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:E3.bind(null,t),n_:T3.bind(null,t),i_:S3.bind(null,t),Y_:b3.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),rv(t)?nv(t):t.Va.set("Unknown")):(await t.fa.stop(),iC(t))})),t.fa}function $s(t){return t.ga||(t.ga=function(n,r,s){const i=ue(n);return i.oa(),new y3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:A3.bind(null,t),i_:N3.bind(null,t),na:k3.bind(null,t),ra:R3.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await zh(t)):(await t.ga.stop(),t.Ia.length>0&&(X(Mi,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new sv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(t,e){if($r("AsyncQueue",`${e}: ${t}`),ma(t))return new J(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.pa=new Ye(se.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):oe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ra{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ra(e,n,Ao.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class M3{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=T_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new J(F.ABORTED,"Firestore shutting down"))}}function T_(){return new Fi(t=>kI(t),Oh)}async function cC(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new D3,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=iv(o,`Initialization of query '${to(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&ov(n)}async function uC(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O3(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Ma(s)&&(r=!0);o.ba=s}}r&&ov(n)}function j3(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function ov(t){t.Ca.forEach(e=>{e.next()})}var Km,S_;(S_=Km||(Km={})).xa="default",S_.Cache="cache";class dC{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.key=e}}class fC{constructor(e){this.key=e}}class L3{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.Za=RI(e),this.Xa=new Ao(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new E_,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const m=s.get(f),w=jh(this.query,h)?h:null,S=!!m&&this.mutatedKeys.has(m.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;m&&w?m.data.isEqual(w.data)?S!==x&&(r.track({type:3,doc:w}),T=!0):this.ru(m,w)||(r.track({type:2,doc:w}),T=!0,(c&&this.Za(w,c)>0||u&&this.Za(w,u)<0)&&(a=!0)):!m&&w?(r.track({type:0,doc:w}),T=!0):m&&!w&&(r.track({type:1,doc:m}),T=!0,(c||u)&&(a=!0)),T&&(w?(o=o.add(w),i=x?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Xa:o,nu:r,Cs:a,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((f,h)=>function(w,S){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Vt:T})}};return x(w)-x(S)}(f.type,h.type)||this.Za(f.doc,h.doc)),this.iu(r),s=s!=null&&s;const a=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new ra(this.query,e.Xa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=we(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new fC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new hC(r))}),n}au(e){this.Ha=e.$s,this.Ya=we();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ra.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const av="SyncEngine";class V3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F3{constructor(e){this.key=e,this.cu=!1}}class U3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Fi(a=>kI(a),Oh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ye(se.comparator),this.Eu=new Map,this.du=new Yy,this.Au={},this.Ru=new Map,this.Vu=na.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function B3(t,e,n=!0){const r=wC(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await pC(r,e,n,!0),s}async function z3(t,e){const n=wC(t);await pC(n,e,!0,!1)}async function pC(t,e,n,r){const s=await l3(t.localStore,pr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await $3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&rC(t.remoteStore,s),a}async function $3(t,e,n,r,s){t.fu=(h,m,w)=>async function(x,T,y,g){let _=T.view.tu(y);_.Cs&&(_=await g_(x.localStore,T.query,!1).then(({documents:I})=>T.view.tu(I,_)));const R=g&&g.targetChanges.get(T.targetId),N=g&&g.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(_,x.isPrimaryClient,R,N);return I_(x,T.targetId,O.ou),O.snapshot}(t,h,m,w);const i=await g_(t.localStore,e,!0),o=new L3(e,i.$s),a=o.tu(i.documents),c=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);I_(t,n,u.ou);const f=new V3(e,n,o);return t.hu.set(e,f),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function H3(t,e,n){const r=ue(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!Oh(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Wm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ev(r.remoteStore,s.targetId),Gm(r,s.targetId)}).catch(pa)):(Gm(r,s.targetId),await Wm(r.localStore,s.targetId,!0))}async function W3(t,e){const n=ue(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ev(n.remoteStore,r.targetId))}async function q3(t,e,n){const r=Z3(t);try{const s=await function(o,a){const c=ue(o),u=ct.now(),f=a.reduce((w,S)=>w.add(S.key),we());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Hr(),x=we();return c.Bs.getEntries(w,f).next(T=>{S=T,S.forEach((y,g)=>{g.isValidDocument()||(x=x.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,S)).next(T=>{h=T;const y=[];for(const g of a){const _=lF(g,h.get(g.key).overlayedDocument);_!=null&&y.push(new Ys(g.key,_,_I(_.value.mapValue),kn.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,y,a)}).next(T=>{m=T;const y=T.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(w,T.batchId,y)})}).then(()=>({batchId:m.batchId,changes:PI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Au[o.currentUser.toKey()];u||(u=new Ye(me)),u=u.insert(a,c),o.Au[o.currentUser.toKey()]=u}(r,s.batchId,n),await fc(r,s.changes),await zh(r.remoteStore)}catch(s){const i=iv(s,"Failed to persist write");n.reject(i)}}async function mC(t,e){const n=ue(t);try{const r=await i3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?Re(o.cu,14607):s.removedDocuments.size>0&&(Re(o.cu,42227),o.cu=!1))}),await fc(n,r,e)}catch(r){await pa(r)}}function b_(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const a=o.view.Fa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ue(o);c.onlineState=a;let u=!1;c.queries.forEach((f,h)=>{for(const m of h.Sa)m.Fa(a)&&(u=!0)}),u&&ov(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K3(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Ye(se.comparator);o=o.insert(i,Bt.newNoDocument(i,ce.min()));const a=we().add(i),c=new Fh(ce.min(),new Map,new Ye(me),o,a);await mC(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),lv(r)}else await Wm(r.localStore,e,!1).then(()=>Gm(r,e,n)).catch(pa)}async function G3(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await s3(n.localStore,e);yC(n,r,null),gC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fc(n,s)}catch(s){await pa(s)}}async function Q3(t,e,n){const r=ue(t);try{const s=await function(o,a){const c=ue(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(Re(h!==null,37113),f=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);yC(r,e,n),gC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fc(r,s)}catch(s){await pa(s)}}function gC(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function yC(t,e,n){const r=ue(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||vC(t,r)})}function vC(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(ev(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),lv(t))}function I_(t,e,n){for(const r of n)r instanceof hC?(t.du.addReference(r.key,e),Y3(t,r)):r instanceof fC?(X(av,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||vC(t,r.key)):oe(19791,{pu:r})}function Y3(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(X(av,"New document in limbo: "+n),t.Tu.add(r),lv(t))}function lv(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new se(ze.fromString(e)),r=t.Vu.next();t.Eu.set(r,new F3(n)),t.Iu=t.Iu.insert(n,r),rC(t.remoteStore,new vs(pr(Mh(n.path)),r,"TargetPurposeLimboResolution",Nh.le))}}async function fc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{o.push(r.fu(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Jy.Rs(c.targetId,u);i.push(h)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(c,u){const f=ue(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,m=>U.forEach(m.ds,w=>f.persistence.referenceDelegate.addReference(h,m.targetId,w)).next(()=>U.forEach(m.As,w=>f.persistence.referenceDelegate.removeReference(h,m.targetId,w)))))}catch(h){if(!ma(h))throw h;X(Zy,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const w=f.xs.get(m),S=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(S);f.xs=f.xs.insert(m,x)}}}(r.localStore,i))}async function X3(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){X(av,"User change. New user:",e.toKey());const r=await ZI(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(a=>{a.forEach(c=>{c.reject(new J(F.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fc(n,r.ks)}}function J3(t,e){const n=ue(t),r=n.Eu.get(e);if(r&&r.cu)return we().add(r.key);{let s=we();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const a=n.hu.get(o);s=s.unionWith(a.view.eu)}return s}}function wC(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K3.bind(null,e),e.lu.Y_=O3.bind(null,e.eventManager),e.lu.gu=j3.bind(null,e.eventManager),e}function Z3(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q3.bind(null,e),e}class Wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return r3(this.persistence,new e3,e.initialUser,this.serializer)}Su(e){return new JI(Xy.fi,this.serializer)}bu(e){return new u3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wd.provider={build:()=>new Wd};class e5 extends Wd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Re(this.persistence.referenceDelegate instanceof $d,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FF(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new JI(r=>$d.fi(r,n),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X3.bind(null,this.syncEngine),await P3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M3}()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=function(i){return new m3(i)}(e.databaseInfo);return function(i,o,a,c){return new w3(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new _3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b_(this.syncEngine,n,0),function(){return w_.C()?new w_:new d3}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,f){const h=new U3(s,i,o,a,c,u);return f&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);X(Mi,"RemoteStore shutting down."),i.da.add(5),await hc(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class t5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ft.UNAUTHENTICATED,this.clientId=uI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X(Hs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(Hs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),X(Hs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ZI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function C_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n5(t);X(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>__(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>__(e.remoteStore,s)),t._onlineComponents=e}async function n5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Hs,"Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new Wd)}}else X(Hs,"Using default OfflineComponentProvider"),await dp(t,new e5(void 0));return t._offlineComponents}async function _C(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Hs,"Using user provided OnlineComponentProvider"),await C_(t,t._uninitializedComponentsProvider._online)):(X(Hs,"Using default OnlineComponentProvider"),await C_(t,new Qm))),t._onlineComponents}function r5(t){return _C(t).then(e=>e.syncEngine)}async function Ym(t){const e=await _C(t),n=e.eventManager;return n.onListen=B3.bind(null,e.syncEngine),n.onUnlisten=H3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W3.bind(null,e.syncEngine),n}function s5(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const f=new xC({next:m=>{f.xu(),o.enqueueAndForget(()=>uC(i,h));const w=m.docs.has(a);!w&&m.fromCache?u.reject(new J(F.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&c&&c.source==="server"?u.reject(new J(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new dC(Mh(a.path),f,{includeMetadataChanges:!0,Qa:!0});return cC(i,h)}(await Ym(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e,n){if(!n)throw new J(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i5(t,e,n,r){if(e===!0&&r===!0)throw new J(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k_(t){if(!se.isDocumentKey(t))throw new J(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R_(t){if(se.isDocumentKey(t))throw new J(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(t);throw new J(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firestore.googleapis.com",N_=!0;class P_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SC,this.ssl=N_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LF)throw new J(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p6;switch(r.type){case"firstParty":return new v6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A_.get(n);r&&(X("ComponentProvider","Removing Datastore"),A_.delete(n),r.terminate())}(this),Promise.resolve()}}function o5(t,e,n,r={}){var s;t=Rn(t,Hh);const i=rc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(yb(`https://${c}`),vb("Firestore",!0)),o.host!==SC&&o.host!==c&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!Ri(u,a)&&(t._setSettings(u),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Ft.MOCK_USER;else{f=Lj(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ft(m)}t._authCredentials=new m6(new lI(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class Ps extends Bi{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new se(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function D_(t,e,...n){if(t=wt(t),TC("collection","path",e),t instanceof Hh){const r=ze.fromString(e,...n);return R_(r),new Ps(t,null,r)}{if(!(t instanceof zt||t instanceof Ps))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return R_(r),new Ps(t.firestore,null,r)}}function Ds(t,e,...n){if(t=wt(t),arguments.length===1&&(e=uI.newId()),TC("doc","path",e),t instanceof Hh){const r=ze.fromString(e,...n);return k_(r),new zt(t,null,new se(r))}{if(!(t instanceof zt||t instanceof Ps))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return k_(r),new zt(t.firestore,t instanceof Ps?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new tC(this,"async_queue_retry"),this.rc=()=>{const r=up();r&&X(M_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ns;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ma(e))throw e;X(M_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,$r("INTERNAL UNHANDLED ERROR: ",j_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=sv.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&oe(47125,{cc:j_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function j_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ws extends Hh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new O_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function a5(t,e){const n=typeof t=="object"?t:Eb(),r=typeof t=="string"?t:Vd,s=Ay(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Oj("firestore");i&&o5(s,...i)}return s}function cv(t){if(t._terminated)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l5(t),t._firestoreClient}function l5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,f){return new D6(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,EC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new t5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(Rt.fromBase64String(e))}catch(n){throw new J(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sa(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=/^__.*__$/;class u5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}class bC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ic:t})}}class hv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return qd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(IC(this.Ic)&&c5.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class d5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}bc(e,n,r,s=!1){return new hv({Ic:e,methodName:n,wc:r,path:Ct.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(t){const e=t._freezeSettings(),n=Uh(t._databaseId);return new d5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CC(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);pv("Data must be an object, but it was:",o,r);const a=AC(r,o);let c,u;if(i.merge)c=new mn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const m=Xm(e,h,n);if(!o.contains(m))throw new J(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);RC(f,m)||f.push(m)}c=new mn(f),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new u5(new nn(a),c,u)}class Gh extends qh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}class fv extends qh{_toFieldTransform(e){return new sF(e.path,new Bl)}isEqual(e){return e instanceof fv}}function h5(t,e,n,r){const s=t.bc(1,e,n);pv("Data must be an object, but it was:",s,r);const i=[],o=nn.empty();Qs(r,(c,u)=>{const f=mv(e,c,n);u=wt(u);const h=s.mc(f);if(u instanceof Gh)i.push(f);else{const m=pc(u,h);m!=null&&(i.push(f),o.set(f,m))}});const a=new mn(i);return new bC(o,a,s.fieldTransforms)}function f5(t,e,n,r,s,i){const o=t.bc(1,e,n),a=[Xm(e,r,n)],c=[s];if(i.length%2!=0)throw new J(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Xm(e,i[m])),c.push(i[m+1]);const u=[],f=nn.empty();for(let m=a.length-1;m>=0;--m)if(!RC(u,a[m])){const w=a[m];let S=c[m];S=wt(S);const x=o.mc(w);if(S instanceof Gh)u.push(w);else{const T=pc(S,x);T!=null&&(u.push(w),f.set(w,T))}}const h=new mn(u);return new bC(f,h,o.fieldTransforms)}function p5(t,e,n,r=!1){return pc(n,t.bc(r?4:3,e))}function pc(t,e){if(kC(t=wt(t)))return pv("Unsupported field value:",e,t),AC(t,e);if(t instanceof qh)return function(r,s){if(!IC(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=pc(a,s.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ct.fromDate(r);return{timestampValue:zd(s.serializer,i)}}if(r instanceof ct){const i=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zd(s.serializer,i)}}if(r instanceof uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sa)return{bytesValue:HI(s.serializer,r._byteString)};if(r instanceof zt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dv)return function(o,a){return{mapValue:{fields:{[vI]:{stringValue:xI},[Fd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return Wy(a.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${$h(r)}`)}(t,e)}function AC(t,e){const n={};return hI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(r,s)=>{const i=pc(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function kC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof uv||t instanceof sa||t instanceof zt||t instanceof qh||t instanceof dv)}function pv(t,e,n){if(!kC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=$h(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Xm(t,e,n){if((e=wt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return mv(t,e);throw qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const m5=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(m5)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new J(F.INVALID_ARGUMENT,a+t+c)}function RC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g5 extends NC{data(){return super.data()}}function gv(t,e){return typeof e=="string"?mv(t,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class PC extends yv{}function v5(t,e,...n){let r=[];e instanceof yv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof wv).length,a=i.filter(c=>c instanceof vv).length;if(o>1||o>0&&a>0)throw new J(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vv extends PC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vv(e,n,r)}_apply(e){const n=this._parse(e);return DC(e._query,n),new Bi(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=Kh(e.firestore);return function(i,o,a,c,u,f,h){let m;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new J(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){F_(h,f);const S=[];for(const x of h)S.push(V_(c,i,x));m={arrayValue:{values:S}}}else m=V_(c,i,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||F_(h,f),m=p5(a,o,h,f==="in"||f==="not-in");return lt.create(u,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wv extends yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)DC(o,c),o=Fm(o,c)}(e._query,n),new Bi(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xv extends PC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(i,o)}(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ga(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function w5(t,e="asc"){const n=e,r=gv("orderBy",t);return xv._create(r,n)}function V_(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AI(e)&&n.indexOf("/")!==-1)throw new J(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!se.isDocumentKey(r))throw new J(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xx(t,new se(r))}if(n instanceof zt)return Xx(t,n._key);throw new J(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function F_(t,e){if(!Array.isArray(t)||t.length===0)throw new J(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x5{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Fd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>rt(o.doubleValue));return new dv(i)}convertGeoPoint(e){return new uv(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=Us(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Re(YI(r),9688,{name:e});const s=new Vl(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||$r(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OC extends NC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zu extends OC{data(e={}){return super.data(e)}}class _5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ka(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zu(this._firestore,this._userDataWriter,r.key,r,new Ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new zu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ka(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new zu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ka(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:E5(a.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function E5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){t=Rn(t,zt);const e=Rn(t.firestore,Ws);return s5(cv(e),t._key).then(n=>LC(e,t,n))}class jC extends x5{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function $u(t,e,n){t=Rn(t,zt);const r=Rn(t.firestore,Ws),s=MC(t.converter,e,n);return Qh(r,[CC(Kh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kn.none())])}function S5(t,e,n,...r){t=Rn(t,zt);const s=Rn(t.firestore,Ws),i=Kh(s);let o;return o=typeof(e=wt(e))=="string"||e instanceof Wh?f5(i,"updateDoc",t._key,e,n,r):h5(i,"updateDoc",t._key,e),Qh(s,[o.toMutation(t._key,kn.exists(!0))])}function U_(t){return Qh(Rn(t.firestore,Ws),[new qy(t._key,kn.none())])}function b5(t,e){const n=Rn(t.firestore,Ws),r=Ds(t),s=MC(t.converter,e);return Qh(n,[CC(Kh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function _v(t,...e){var n,r,s;t=wt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||L_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(L_(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,u,f;if(t instanceof zt)u=Rn(t.firestore,Ws),f=Mh(t._key.path),c={next:h=>{e[o]&&e[o](LC(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Rn(t,Bi);u=Rn(h.firestore,Ws),f=h._query;const m=new jC(u);c={next:w=>{e[o]&&e[o](new _5(u,m,h,w))},error:e[o+1],complete:e[o+2]},y5(t._query)}return function(m,w,S,x){const T=new xC(x),y=new dC(w,T,S);return m.asyncQueue.enqueueAndForget(async()=>cC(await Ym(m),y)),()=>{T.xu(),m.asyncQueue.enqueueAndForget(async()=>uC(await Ym(m),y))}}(cv(u),f,a,c)}function Qh(t,e){return function(r,s){const i=new Ns;return r.asyncQueue.enqueueAndForget(async()=>q3(await r5(r),s,i)),i.promise}(cv(t),e)}function LC(t,e,n){const r=n.docs.get(e._key),s=new jC(t);return new OC(t,s,e._key,r,new Ka(n.hasPendingWrites,n.fromCache),e.converter)}function Hu(){return new fv("serverTimestamp")}(function(e,n=!0){(function(s){fa=s})(da),Yo(new Ni("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ws(new g6(r.getProvider("auth-internal")),new w6(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(u.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ks(Fx,Ux,e),ks(Fx,Ux,"esm2017")})();let fu=null,Ne=null,ss=null;const hp={apiKey:"AIzaSyDx7uGAi9MsZ6LkHSdKogJ8nE2DmdC6h6c",authDomain:"fir-zen-25220.firebaseapp.com",projectId:"fir-zen-25220",storageBucket:"fir-zen-25220.firebasestorage.app",messagingSenderId:"1024387307221",appId:"1:1024387307221:web:82c408feb66c6b89d9f45c"},I5=()=>{try{return!hp.apiKey||!hp.projectId?(console.warn("Firebase configuration incomplete - demo mode only"),!1):(fu=_b(hp),Ne=a5(fu),ss=u6(fu),console.log("Firebase initialized successfully"),!0)}catch(t){return console.error("Firebase initialization failed:",t),console.warn("Falling back to demo mode"),fu=null,Ne=null,ss=null,!1}};I5();const Yh=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(!0),[s,i]=E.useState(null);return E.useEffect(()=>{if(!ss){r(!1);return}let u=null;try{u=JL(ss,f=>{e(f),r(!1),i(null)},f=>{console.error("Auth state change error:",f),i("Authentication connection failed"),r(!1)})}catch(f){console.error("Failed to setup auth listener:",f),r(!1)}return()=>{u&&u()}},[]),{user:t,loading:n,error:s,signInWithGoogle:async()=>{if(!ss){i("Google sign-in requires Firebase configuration. Please use demo mode or contact support.");return}try{r(!0),i(null);const u=new kr;u.addScope("email"),u.addScope("profile");const f=await wV(ss,u);e(f.user)}catch(u){const f=u;let h="Sign-in failed. Please try again.";switch(f.code){case"auth/api-key-not-valid":h="Firebase configuration issue. Please use demo mode or contact support.";break;case"auth/popup-closed-by-user":h="Sign-in was cancelled.";break;case"auth/operation-not-allowed":h="Google sign-in is not enabled. Please use demo mode.";break;case"auth/unauthorized-domain":h="This domain needs to be authorized in Firebase. Please use demo mode or add this domain to your Firebase project.";break;case"auth/popup-blocked":h="Sign-in popup was blocked. Please allow popups and try again.";break;case"auth/cancelled-popup-request":h="Sign-in was cancelled.";break;case"auth/network-request-failed":h="Network error. Please check your connection and try again.";break;default:h=`Sign-in failed: ${f.message}`}i(h),console.error("Google sign in failed:",f)}finally{r(!1)}},signInDemo:async()=>{try{r(!0),i(null);const u={uid:"demo-user-"+Date.now(),email:"demo@zenjourney.app",displayName:"Demo User"};e(u)}catch(u){const f=u;i(`Demo sign-in failed: ${f.message}`),console.error("Demo sign in failed:",f)}finally{r(!1)}},signOut:async()=>{try{if(i(null),!ss||t&&"uid"in t&&t.uid.startsWith("demo-user-")){e(null);return}await ZL(ss),e(null)}catch(u){const f=u;i(`Sign-out failed: ${f.message}`),console.error("Sign out failed:",f)}},isAuthenticated:!!t}},C5=Zl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ln=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?DP:"button";return d.jsx(o,{className:xe(C5({variant:e,size:n,className:t})),ref:i,...s})});ln.displayName="Button";const Pe=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Pe.displayName="Card";const vn=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));vn.displayName="CardHeader";const wn=E.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));wn.displayName="CardTitle";const A5=E.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));A5.displayName="CardDescription";const Be=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));Be.displayName="CardContent";const k5=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));k5.displayName="CardFooter";const R5=()=>{const{signInWithGoogle:t,signInDemo:e,loading:n,error:r}=Yh(),s=r&&(r.includes("auth/unauthorized-domain")||r.includes("unauthorized-domain")),i=r&&(r.includes("auth/operation-not-allowed")||r.includes("operation-not-allowed"));return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsxs(Pe,{className:"w-full max-w-md glass shadow-xl",children:[d.jsxs(vn,{className:"text-center space-y-4",children:[d.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:d.jsx(Ed,{className:"w-8 h-8 text-white"})}),d.jsxs("div",{children:[d.jsx(wn,{className:"text-2xl font-bold text-gradient",children:"ZenJourney"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Your intelligent task management companion"})]})]}),d.jsxs(Be,{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"w-12 h-12 mx-auto bg-blue-100 rounded-lg flex items-center justify-center",children:d.jsx(Ed,{className:"w-6 h-6 text-blue-600"})}),d.jsx("p",{className:"text-sm text-gray-600",children:"Smart Tasks"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"w-12 h-12 mx-auto bg-green-100 rounded-lg flex items-center justify-center",children:d.jsx(kl,{className:"w-6 h-6 text-green-600"})}),d.jsx("p",{className:"text-sm text-gray-600",children:"Time Blocking"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"w-12 h-12 mx-auto bg-purple-100 rounded-lg flex items-center justify-center",children:d.jsx(_d,{className:"w-6 h-6 text-purple-600"})}),d.jsx("p",{className:"text-sm text-gray-600",children:"Custom Settings"})]})]}),r&&d.jsx("div",{className:`p-3 border rounded-lg ${s||i?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:s?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ym,{className:"w-4 h-4 text-orange-600"}),d.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Domain Authorization Required"})]}),d.jsxs("div",{className:"text-sm text-orange-700 space-y-2",children:[d.jsx("p",{children:"Add this domain to your Firebase project:"}),d.jsx("div",{className:"p-2 bg-white rounded border font-mono text-xs break-all",children:window.location.hostname}),d.jsx("p",{children:"Steps:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[d.jsx("li",{children:"Go to Firebase Console  Authentication  Settings"}),d.jsx("li",{children:'Add the domain above to "Authorized domains"'}),d.jsx("li",{children:"Refresh this page"})]})]}),d.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 text-orange-600 hover:text-orange-700 text-xs",children:[d.jsx(Pw,{className:"w-3 h-3"}),d.jsx("span",{children:"Open Firebase Console"})]})]}):i?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ym,{className:"w-4 h-4 text-orange-600"}),d.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Google Sign-in Not Enabled"})]}),d.jsxs("div",{className:"text-sm text-orange-700 space-y-2",children:[d.jsx("p",{children:"Enable Google authentication in your Firebase project:"}),d.jsx("p",{children:"Steps:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[d.jsx("li",{children:"Go to Firebase Console  Authentication  Sign-in method"}),d.jsx("li",{children:'Click on "Google" provider'}),d.jsx("li",{children:'Toggle "Enable" and configure OAuth settings'}),d.jsx("li",{children:"Save the changes and refresh this page"})]})]}),d.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 text-orange-600 hover:text-orange-700 text-xs",children:[d.jsx(Pw,{className:"w-3 h-3"}),d.jsx("span",{children:"Open Firebase Console"})]})]}):d.jsx("p",{className:"text-sm text-red-700",children:r})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(ln,{onClick:t,disabled:n,className:"w-full interactive-primary h-12 text-base",children:n?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Signing in..."})]}):d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(N2,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-200"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),d.jsx(ln,{onClick:e,disabled:n,variant:"outline",className:"w-full h-12 text-base border-2 hover:bg-gray-50",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(uy,{className:"w-5 h-5"}),d.jsx("span",{children:"Try Demo Mode"})]})}),d.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By signing in, you agree to our Terms of Service and Privacy Policy. Your data is securely stored and synchronized across devices."})]})]})]})})};class VC extends q.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n),this.setState({error:e,errorInfo:n})}render(){if(this.state.hasError){if(this.props.fallback){const e=this.props.fallback;return d.jsx(e,{error:this.state.error,retry:this.handleRetry})}return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:d.jsxs(Pe,{className:"w-full max-w-md",children:[d.jsxs(vn,{className:"text-center",children:[d.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(Td,{className:"w-8 h-8 text-red-600"})}),d.jsx(wn,{className:"text-xl font-bold text-red-900",children:"Something went wrong"})]}),d.jsxs(Be,{className:"space-y-4",children:[d.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[d.jsx("p",{children:"The application encountered an unexpected error."}),d.jsx("p",{children:"Please try refreshing the page or contact support if the problem persists."})]}),!1,d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs(ln,{onClick:this.handleRetry,className:"flex-1",variant:"outline",children:[d.jsx(D2,{className:"w-4 h-4 mr-2"}),"Try Again"]}),d.jsx(ln,{onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]})]})]})})}return this.props.children}}const Hl=E.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hl.displayName="Input";var N5="Label",FC=E.forwardRef((t,e)=>d.jsx(de.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FC.displayName=N5;var UC=FC;const P5=Zl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ei=E.forwardRef(({className:t,...e},n)=>d.jsx(UC,{ref:n,className:xe(P5(),t),...e}));Ei.displayName=UC.displayName;function Kd(t,[e,n]){return Math.min(n,Math.max(e,t))}var D5=E.createContext(void 0);function Xh(t){const e=E.useContext(D5);return t||e||"ltr"}var fp=0;function M5(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??B_()),document.body.insertAdjacentElement("beforeend",t[1]??B_()),fp++,()=>{fp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fp--}},[])}function B_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var pp="focusScope.autoFocusOnMount",mp="focusScope.autoFocusOnUnmount",z_={bubbles:!1,cancelable:!0},O5="FocusScope",BC=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=E.useState(null),u=Yt(s),f=Yt(i),h=E.useRef(null),m=Oe(e,x=>c(x)),w=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let x=function(_){if(w.paused||!a)return;const R=_.target;a.contains(R)?h.current=R:ts(h.current,{select:!0})},T=function(_){if(w.paused||!a)return;const R=_.relatedTarget;R!==null&&(a.contains(R)||ts(h.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&ts(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",T);const g=new MutationObserver(y);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),g.disconnect()}}},[r,a,w.paused]),E.useEffect(()=>{if(a){H_.add(w);const x=document.activeElement;if(!a.contains(x)){const y=new CustomEvent(pp,z_);a.addEventListener(pp,u),a.dispatchEvent(y),y.defaultPrevented||(j5(B5(zC(a)),{select:!0}),document.activeElement===x&&ts(a))}return()=>{a.removeEventListener(pp,u),setTimeout(()=>{const y=new CustomEvent(mp,z_);a.addEventListener(mp,f),a.dispatchEvent(y),y.defaultPrevented||ts(x??document.body,{select:!0}),a.removeEventListener(mp,f),H_.remove(w)},0)}}},[a,u,f,w]);const S=E.useCallback(x=>{if(!n&&!r||w.paused)return;const T=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(T&&y){const g=x.currentTarget,[_,R]=L5(g);_&&R?!x.shiftKey&&y===R?(x.preventDefault(),n&&ts(_,{select:!0})):x.shiftKey&&y===_&&(x.preventDefault(),n&&ts(R,{select:!0})):y===g&&x.preventDefault()}},[n,r,w.paused]);return d.jsx(de.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});BC.displayName=O5;function j5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ts(r,{select:e}),document.activeElement!==n)return}function L5(t){const e=zC(t),n=$_(e,t),r=$_(e.reverse(),t);return[n,r]}function zC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $_(t,e){for(const n of t)if(!V5(n,{upTo:e}))return n}function V5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function F5(t){return t instanceof HTMLInputElement&&"select"in t}function ts(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&F5(t)&&e&&t.select()}}var H_=U5();function U5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=W_(t,e),t.unshift(e)},remove(e){var n;t=W_(t,e),(n=t[0])==null||n.resume()}}}function W_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function B5(t){return t.filter(e=>e.tagName!=="A")}function $C(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var z5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xi=new WeakMap,pu=new WeakMap,mu={},gp=0,HC=function(t){return t&&(t.host||HC(t.parentNode))},$5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},H5=function(t,e,n,r){var s=$5(e,Array.isArray(t)?t:[t]);mu[n]||(mu[n]=new WeakMap);var i=mu[n],o=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))f(m);else try{var w=m.getAttribute(r),S=w!==null&&w!=="false",x=(Xi.get(m)||0)+1,T=(i.get(m)||0)+1;Xi.set(m,x),i.set(m,T),o.push(m),x===1&&S&&pu.set(m,!0),T===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(e),a.clear(),gp++,function(){o.forEach(function(h){var m=Xi.get(h)-1,w=i.get(h)-1;Xi.set(h,m),i.set(h,w),m||(pu.has(h)||h.removeAttribute(r),pu.delete(h)),w||h.removeAttribute(n)}),gp--,gp||(Xi=new WeakMap,Xi=new WeakMap,pu=new WeakMap,mu={})}},W5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=z5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),H5(r,s,n,"aria-hidden")):function(){return null}},Wu="right-scroll-bar-position",qu="width-before-scroll-bar",q5="with-scroll-bars-hidden",K5="--removed-body-scroll-bar-size";function yp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function G5(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Q5=typeof window<"u"?E.useLayoutEffect:E.useEffect,q_=new WeakMap;function Y5(t,e){var n=G5(null,function(r){return t.forEach(function(s){return yp(s,r)})});return Q5(function(){var r=q_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||yp(a,null)}),i.forEach(function(a){s.has(a)||yp(a,o)})}q_.set(n,t)},[t]),n}function X5(t){return t}function J5(t,e){e===void 0&&(e=X5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return s}function Z5(t){t===void 0&&(t={});var e=J5(null);return e.options=cr({async:!0,ssr:!1},t),e}var WC=function(t){var e=t.sideCar,n=oc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,cr({},n))};WC.isSideCarExport=!0;function e9(t,e){return t.useMedium(e),WC}var qC=Z5(),vp=function(){},Jh=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:vp,onWheelCapture:vp,onTouchMoveCapture:vp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,w=t.noIsolation,S=t.inert,x=t.allowPinchZoom,T=t.as,y=T===void 0?"div":T,g=t.gapMode,_=oc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,N=Y5([n,e]),O=cr(cr({},_),s);return E.createElement(E.Fragment,null,f&&E.createElement(R,{sideCar:qC,removeScrollBar:u,shards:h,noIsolation:w,inert:S,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:g}),o?E.cloneElement(E.Children.only(a),cr(cr({},O),{ref:N})):E.createElement(y,cr({},O,{className:c,ref:N}),a))});Jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jh.classNames={fullWidth:qu,zeroRight:Wu};var t9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=t9();return e&&t.setAttribute("nonce",e),t}function r9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function s9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var i9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=n9())&&(r9(e,n),s9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},o9=function(){var t=i9();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},KC=function(){var t=o9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},a9={left:0,top:0,right:0,gap:0},wp=function(t){return parseInt(t||"",10)||0},l9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[wp(n),wp(r),wp(s)]},c9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return a9;var e=l9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},u9=KC(),ko="data-scroll-locked",d9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(q5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wu," .").concat(Wu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(K5,": ").concat(a,`px;
  }
`)},K_=function(){var t=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(t)?t:0},h9=function(){E.useEffect(function(){return document.body.setAttribute(ko,(K_()+1).toString()),function(){var t=K_()-1;t<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,t.toString())}},[])},f9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;h9();var i=E.useMemo(function(){return c9(s)},[s]);return E.createElement(u9,{styles:d9(i,!e,s,n?"":"!important")})},Jm=!1;if(typeof window<"u")try{var gu=Object.defineProperty({},"passive",{get:function(){return Jm=!0,!0}});window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{Jm=!1}var Ji=Jm?{passive:!1}:!1,p9=function(t){return t.tagName==="TEXTAREA"},GC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!p9(t)&&n[e]==="visible")},m9=function(t){return GC(t,"overflowY")},g9=function(t){return GC(t,"overflowX")},G_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=QC(t,r);if(s){var i=YC(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},y9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},v9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QC=function(t,e){return t==="v"?m9(e):g9(e)},YC=function(t,e){return t==="v"?y9(e):v9(e)},w9=function(t,e){return t==="h"&&e==="rtl"?-1:1},x9=function(t,e,n,r,s){var i=w9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,f=o>0,h=0,m=0;do{var w=YC(t,a),S=w[0],x=w[1],T=w[2],y=x-T-i*S;(S||y)&&QC(t,a)&&(h+=y,m+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(u=!0),u},yu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Q_=function(t){return[t.deltaX,t.deltaY]},Y_=function(t){return t&&"current"in t?t.current:t},_9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},E9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},T9=0,Zi=[];function S9(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(T9++)[0],i=E.useState(KC)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=uL([t.lockRef.current],(t.shards||[]).map(Y_),!0).filter(Boolean);return x.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(x,T){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=yu(x),g=n.current,_="deltaX"in x?x.deltaX:g[0]-y[0],R="deltaY"in x?x.deltaY:g[1]-y[1],N,O=x.target,I=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in x&&I==="h"&&O.type==="range")return!1;var b=G_(I,O);if(!b)return!0;if(b?N=I:(N=I==="v"?"h":"v",b=G_(I,O)),!b)return!1;if(!r.current&&"changedTouches"in x&&(_||R)&&(r.current=N),!N)return!0;var C=r.current||N;return x9(C,T,x,C==="h"?_:R,!0)},[]),c=E.useCallback(function(x){var T=x;if(!(!Zi.length||Zi[Zi.length-1]!==i)){var y="deltaY"in T?Q_(T):yu(T),g=e.current.filter(function(N){return N.name===T.type&&(N.target===T.target||T.target===N.shadowParent)&&_9(N.delta,y)})[0];if(g&&g.should){T.cancelable&&T.preventDefault();return}if(!g){var _=(o.current.shards||[]).map(Y_).filter(Boolean).filter(function(N){return N.contains(T.target)}),R=_.length>0?a(T,_[0]):!o.current.noIsolation;R&&T.cancelable&&T.preventDefault()}}},[]),u=E.useCallback(function(x,T,y,g){var _={name:x,delta:T,target:y,should:g,shadowParent:b9(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(R){return R!==_})},1)},[]),f=E.useCallback(function(x){n.current=yu(x),r.current=void 0},[]),h=E.useCallback(function(x){u(x.type,Q_(x),x.target,a(x,t.lockRef.current))},[]),m=E.useCallback(function(x){u(x.type,yu(x),x.target,a(x,t.lockRef.current))},[]);E.useEffect(function(){return Zi.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ji),document.addEventListener("touchmove",c,Ji),document.addEventListener("touchstart",f,Ji),function(){Zi=Zi.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,Ji),document.removeEventListener("touchmove",c,Ji),document.removeEventListener("touchstart",f,Ji)}},[]);var w=t.removeScrollBar,S=t.inert;return E.createElement(E.Fragment,null,S?E.createElement(i,{styles:E9(s)}):null,w?E.createElement(f9,{gapMode:t.gapMode}):null)}function b9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const I9=e9(qC,S9);var XC=E.forwardRef(function(t,e){return E.createElement(Jh,cr({},t,{ref:e,sideCar:I9}))});XC.classNames=Jh.classNames;var C9=[" ","Enter","ArrowUp","ArrowDown"],A9=[" ","Enter"],mc="Select",[Zh,ef,k9]=fh(mc),[va,vB]=wr(mc,[k9,_h]),tf=_h(),[R9,Xs]=va(mc),[N9,P9]=va(mc),JC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:m,required:w,form:S}=t,x=tf(e),[T,y]=E.useState(null),[g,_]=E.useState(null),[R,N]=E.useState(!1),O=Xh(u),[I=!1,b]=qo({prop:r,defaultProp:s,onChange:i}),[C,k]=qo({prop:o,defaultProp:a,onChange:c}),D=E.useRef(null),M=T?S||!!T.closest("form"):!0,[P,H]=E.useState(new Set),Z=Array.from(P).map($=>$.props.value).join(";");return d.jsx(oO,{...x,children:d.jsxs(R9,{required:w,scope:e,trigger:T,onTriggerChange:y,valueNode:g,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:N,contentId:ec(),value:C,onValueChange:k,open:I,onOpenChange:b,dir:O,triggerPointerDownPosRef:D,disabled:m,children:[d.jsx(Zh.Provider,{scope:e,children:d.jsx(N9,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback($=>{H(K=>new Set(K).add($))},[]),onNativeOptionRemove:E.useCallback($=>{H(K=>{const L=new Set(K);return L.delete($),L})},[]),children:n})}),M?d.jsxs(TA,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:h,value:C,onChange:$=>k($.target.value),disabled:m,form:S,children:[C===void 0?d.jsx("option",{value:""}):null,Array.from(P)]},Z):null]})})};JC.displayName=mc;var ZC="SelectTrigger",eA=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=tf(n),o=Xs(ZC,n),a=o.disabled||r,c=Oe(e,o.onTriggerChange),u=ef(n),f=E.useRef("touch"),[h,m,w]=SA(x=>{const T=u().filter(_=>!_.disabled),y=T.find(_=>_.value===o.value),g=bA(T,x,y);g!==void 0&&o.onValueChange(g.value)}),S=x=>{a||(o.onOpenChange(!0),w()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return d.jsx(OS,{asChild:!0,...i,children:d.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":EA(o.value)?"":void 0,...s,ref:c,onClick:ie(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&S(x)}),onPointerDown:ie(s.onPointerDown,x=>{f.current=x.pointerType;const T=x.target;T.hasPointerCapture(x.pointerId)&&T.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(S(x),x.preventDefault())}),onKeyDown:ie(s.onKeyDown,x=>{const T=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(T&&x.key===" ")&&C9.includes(x.key)&&(S(),x.preventDefault())})})})});eA.displayName=ZC;var tA="SelectValue",nA=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Xs(tA,n),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,h=Oe(e,c.onValueNodeChange);return pt(()=>{u(f)},[u,f]),d.jsx(de.span,{...a,ref:h,style:{pointerEvents:"none"},children:EA(c.value)?d.jsx(d.Fragment,{children:o}):i})});nA.displayName=tA;var D9="SelectIcon",rA=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(de.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});rA.displayName=D9;var M9="SelectPortal",sA=t=>d.jsx(iy,{asChild:!0,...t});sA.displayName=M9;var Oi="SelectContent",iA=E.forwardRef((t,e)=>{const n=Xs(Oi,t.__scopeSelect),[r,s]=E.useState();if(pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Vi.createPortal(d.jsx(oA,{scope:t.__scopeSelect,children:d.jsx(Zh.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(aA,{...t,ref:e})});iA.displayName=Oi;var Vn=10,[oA,Js]=va(Oi),O9="SelectContentImpl",j9=Al("SelectContent.RemoveScroll"),aA=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:w,sticky:S,hideWhenDetached:x,avoidCollisions:T,...y}=t,g=Xs(Oi,n),[_,R]=E.useState(null),[N,O]=E.useState(null),I=Oe(e,ne=>R(ne)),[b,C]=E.useState(null),[k,D]=E.useState(null),M=ef(n),[P,H]=E.useState(!1),Z=E.useRef(!1);E.useEffect(()=>{if(_)return W5(_)},[_]),M5();const $=E.useCallback(ne=>{const[be,...We]=M().map(Te=>Te.ref.current),[ge]=We.slice(-1),Ee=document.activeElement;for(const Te of ne)if(Te===Ee||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===be&&N&&(N.scrollTop=0),Te===ge&&N&&(N.scrollTop=N.scrollHeight),Te==null||Te.focus(),document.activeElement!==Ee))return},[M,N]),K=E.useCallback(()=>$([b,_]),[$,b,_]);E.useEffect(()=>{P&&K()},[P,K]);const{onOpenChange:L,triggerPointerDownPosRef:z}=g;E.useEffect(()=>{if(_){let ne={x:0,y:0};const be=ge=>{var Ee,Te;ne={x:Math.abs(Math.round(ge.pageX)-(((Ee=z.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Te=z.current)==null?void 0:Te.y)??0))}},We=ge=>{ne.x<=10&&ne.y<=10?ge.preventDefault():_.contains(ge.target)||L(!1),document.removeEventListener("pointermove",be),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",We,{capture:!0})}}},[_,L,z]),E.useEffect(()=>{const ne=()=>L(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[L]);const[Q,Y]=SA(ne=>{const be=M().filter(Ee=>!Ee.disabled),We=be.find(Ee=>Ee.ref.current===document.activeElement),ge=bA(be,ne,We);ge&&setTimeout(()=>ge.ref.current.focus())}),te=E.useCallback((ne,be,We)=>{const ge=!Z.current&&!We;(g.value!==void 0&&g.value===be||ge)&&(C(ne),ge&&(Z.current=!0))},[g.value]),re=E.useCallback(()=>_==null?void 0:_.focus(),[_]),Se=E.useCallback((ne,be,We)=>{const ge=!Z.current&&!We;(g.value!==void 0&&g.value===be||ge)&&D(ne)},[g.value]),He=r==="popper"?Zm:lA,fe=He===Zm?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:w,sticky:S,hideWhenDetached:x,avoidCollisions:T}:{};return d.jsx(oA,{scope:n,content:_,viewport:N,onViewportChange:O,itemRefCallback:te,selectedItem:b,onItemLeave:re,itemTextRefCallback:Se,focusSelectedItem:K,selectedItemText:k,position:r,isPositioned:P,searchRef:Q,children:d.jsx(XC,{as:j9,allowPinchZoom:!0,children:d.jsx(BC,{asChild:!0,trapped:g.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ie(s,ne=>{var be;(be=g.trigger)==null||be.focus({preventScroll:!0}),ne.preventDefault()}),children:d.jsx(ph,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:d.jsx(He,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ne=>ne.preventDefault(),...y,...fe,onPlaced:()=>H(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ie(y.onKeyDown,ne=>{const be=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!be&&ne.key.length===1&&Y(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ge=M().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ee=ne.target,Te=ge.indexOf(Ee);ge=ge.slice(Te+1)}setTimeout(()=>$(ge)),ne.preventDefault()}})})})})})})});aA.displayName=O9;var L9="SelectItemAlignedPosition",lA=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Xs(Oi,n),o=Js(Oi,n),[a,c]=E.useState(null),[u,f]=E.useState(null),h=Oe(e,I=>f(I)),m=ef(n),w=E.useRef(!1),S=E.useRef(!0),{viewport:x,selectedItem:T,selectedItemText:y,focusSelectedItem:g}=o,_=E.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&x&&T&&y){const I=i.trigger.getBoundingClientRect(),b=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=k.left-b.left,Te=C.left-Ee,ut=I.left-Te,mt=I.width+ut,Dn=Math.max(mt,b.width),Mn=window.innerWidth-Vn,cn=Kd(Te,[Vn,Math.max(Vn,Mn-Dn)]);a.style.minWidth=mt+"px",a.style.left=cn+"px"}else{const Ee=b.right-k.right,Te=window.innerWidth-C.right-Ee,ut=window.innerWidth-I.right-Te,mt=I.width+ut,Dn=Math.max(mt,b.width),Mn=window.innerWidth-Vn,cn=Kd(Te,[Vn,Math.max(Vn,Mn-Dn)]);a.style.minWidth=mt+"px",a.style.right=cn+"px"}const D=m(),M=window.innerHeight-Vn*2,P=x.scrollHeight,H=window.getComputedStyle(u),Z=parseInt(H.borderTopWidth,10),$=parseInt(H.paddingTop,10),K=parseInt(H.borderBottomWidth,10),L=parseInt(H.paddingBottom,10),z=Z+$+P+L+K,Q=Math.min(T.offsetHeight*5,z),Y=window.getComputedStyle(x),te=parseInt(Y.paddingTop,10),re=parseInt(Y.paddingBottom,10),Se=I.top+I.height/2-Vn,He=M-Se,fe=T.offsetHeight/2,ne=T.offsetTop+fe,be=Z+$+ne,We=z-be;if(be<=Se){const Ee=D.length>0&&T===D[D.length-1].ref.current;a.style.bottom="0px";const Te=u.clientHeight-x.offsetTop-x.offsetHeight,ut=Math.max(He,fe+(Ee?re:0)+Te+K),mt=be+ut;a.style.height=mt+"px"}else{const Ee=D.length>0&&T===D[0].ref.current;a.style.top="0px";const ut=Math.max(Se,Z+x.offsetTop+(Ee?te:0)+fe)+We;a.style.height=ut+"px",x.scrollTop=be-Se+x.offsetTop}a.style.margin=`${Vn}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[m,i.trigger,i.valueNode,a,u,x,T,y,i.dir,r]);pt(()=>_(),[_]);const[R,N]=E.useState();pt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const O=E.useCallback(I=>{I&&S.current===!0&&(_(),g==null||g(),S.current=!1)},[_,g]);return d.jsx(F9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:d.jsx(de.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lA.displayName=L9;var V9="SelectPopperPosition",Zm=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Vn,...i}=t,o=tf(n);return d.jsx(jS,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zm.displayName=V9;var[F9,Ev]=va(Oi,{}),eg="SelectViewport",cA=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Js(eg,n),o=Ev(eg,n),a=Oe(e,i.onViewportChange),c=E.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Zh.Slot,{scope:n,children:d.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const w=Math.abs(c.current-f.scrollTop);if(w>0){const S=window.innerHeight-Vn*2,x=parseFloat(h.style.minHeight),T=parseFloat(h.style.height),y=Math.max(x,T);if(y<S){const g=y+w,_=Math.min(S,g),R=g-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});cA.displayName=eg;var uA="SelectGroup",[U9,B9]=va(uA),z9=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ec();return d.jsx(U9,{scope:n,id:s,children:d.jsx(de.div,{role:"group","aria-labelledby":s,...r,ref:e})})});z9.displayName=uA;var dA="SelectLabel",hA=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=B9(dA,n);return d.jsx(de.div,{id:s.id,...r,ref:e})});hA.displayName=dA;var Gd="SelectItem",[$9,fA]=va(Gd),pA=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Xs(Gd,n),c=Js(Gd,n),u=a.value===r,[f,h]=E.useState(i??""),[m,w]=E.useState(!1),S=Oe(e,g=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,g,r,s)}),x=ec(),T=E.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx($9,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:E.useCallback(g=>{h(_=>_||((g==null?void 0:g.textContent)??"").trim())},[]),children:d.jsx(Zh.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:d.jsx(de.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:ie(o.onFocus,()=>w(!0)),onBlur:ie(o.onBlur,()=>w(!1)),onClick:ie(o.onClick,()=>{T.current!=="mouse"&&y()}),onPointerUp:ie(o.onPointerUp,()=>{T.current==="mouse"&&y()}),onPointerDown:ie(o.onPointerDown,g=>{T.current=g.pointerType}),onPointerMove:ie(o.onPointerMove,g=>{var _;T.current=g.pointerType,s?(_=c.onItemLeave)==null||_.call(c):T.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,g=>{var _;g.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:ie(o.onKeyDown,g=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&g.key===" "||(A9.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});pA.displayName=Gd;var Ga="SelectItemText",mA=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Xs(Ga,n),a=Js(Ga,n),c=fA(Ga,n),u=P9(Ga,n),[f,h]=E.useState(null),m=Oe(e,y=>h(y),c.onItemTextChange,y=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,y,c.value,c.disabled)}),w=f==null?void 0:f.textContent,S=E.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:T}=u;return pt(()=>(x(S),()=>T(S)),[x,T,S]),d.jsxs(d.Fragment,{children:[d.jsx(de.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vi.createPortal(i.children,o.valueNode):null]})});mA.displayName=Ga;var gA="SelectItemIndicator",yA=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return fA(gA,n).isSelected?d.jsx(de.span,{"aria-hidden":!0,...r,ref:e}):null});yA.displayName=gA;var tg="SelectScrollUpButton",vA=E.forwardRef((t,e)=>{const n=Js(tg,t.__scopeSelect),r=Ev(tg,t.__scopeSelect),[s,i]=E.useState(!1),o=Oe(e,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(xA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});vA.displayName=tg;var ng="SelectScrollDownButton",wA=E.forwardRef((t,e)=>{const n=Js(ng,t.__scopeSelect),r=Ev(ng,t.__scopeSelect),[s,i]=E.useState(!1),o=Oe(e,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(xA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});wA.displayName=ng;var xA=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Js("SelectScrollButton",n),o=E.useRef(null),a=ef(n),c=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),pt(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),d.jsx(de.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{c()})})}),H9="SelectSeparator",_A=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(de.div,{"aria-hidden":!0,...r,ref:e})});_A.displayName=H9;var rg="SelectArrow",W9=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tf(n),i=Xs(rg,n),o=Js(rg,n);return i.open&&o.position==="popper"?d.jsx(LS,{...s,...r,ref:e}):null});W9.displayName=rg;function EA(t){return t===""||t===void 0}var TA=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=E.useRef(null),i=Oe(e,s),o=$C(n);return E.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&f){const h=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(h)}},[o,n]),d.jsx(Jl,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});TA.displayName="BubbleSelect";function SA(t){const e=Yt(t),n=E.useRef(""),r=E.useRef(0),s=E.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function bA(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=q9(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function q9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var K9=JC,IA=eA,G9=nA,Q9=rA,Y9=sA,CA=iA,X9=cA,AA=hA,kA=pA,J9=mA,Z9=yA,RA=vA,NA=wA,PA=_A;const eU=K9,tU=G9,DA=E.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(IA,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(Q9,{asChild:!0,children:d.jsx(tS,{className:"h-4 w-4 opacity-50"})})]}));DA.displayName=IA.displayName;const MA=E.forwardRef(({className:t,...e},n)=>d.jsx(RA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(I2,{className:"h-4 w-4"})}));MA.displayName=RA.displayName;const OA=E.forwardRef(({className:t,...e},n)=>d.jsx(NA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(tS,{className:"h-4 w-4"})}));OA.displayName=NA.displayName;const jA=E.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(Y9,{children:d.jsxs(CA,{ref:s,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(MA,{}),d.jsx(X9,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(OA,{})]})}));jA.displayName=CA.displayName;const nU=E.forwardRef(({className:t,...e},n)=>d.jsx(AA,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));nU.displayName=AA.displayName;const Ku=E.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(kA,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Z9,{children:d.jsx(b2,{className:"h-4 w-4"})})}),d.jsx(J9,{children:e})]}));Ku.displayName=kA.displayName;const rU=E.forwardRef(({className:t,...e},n)=>d.jsx(PA,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));rU.displayName=PA.displayName;var LA=["PageUp","PageDown"],VA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],FA={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wa="Slider",[sg,sU,iU]=fh(wa),[UA,wB]=wr(wa,[iU]),[oU,nf]=UA(wa),BA=E.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:w=!1,form:S,...x}=t,T=E.useRef(new Set),y=E.useRef(0),_=o==="horizontal"?aU:lU,[R=[],N]=qo({prop:f,defaultProp:u,onChange:D=>{var P;(P=[...T.current][y.current])==null||P.focus(),h(D)}}),O=E.useRef(R);function I(D){const M=fU(R,D);k(D,M)}function b(D){k(D,y.current)}function C(){const D=O.current[y.current];R[y.current]!==D&&m(R)}function k(D,M,{commit:P}={commit:!1}){const H=yU(i),Z=vU(Math.round((D-r)/i)*i+r,H),$=Kd(Z,[r,s]);N((K=[])=>{const L=dU(K,$,M);if(gU(L,c*i)){y.current=L.indexOf($);const z=String(L)!==String(K);return z&&P&&m(L),z?L:K}else return K})}return d.jsx(oU,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:y,thumbs:T.current,values:R,orientation:o,form:S,children:d.jsx(sg.Provider,{scope:t.__scopeSlider,children:d.jsx(sg.Slot,{scope:t.__scopeSlider,children:d.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:ie(x.onPointerDown,()=>{a||(O.current=R)}),min:r,max:s,inverted:w,onSlideStart:a?void 0:I,onSlideMove:a?void 0:b,onSlideEnd:a?void 0:C,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(s,R.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:M})=>{if(!a){const Z=LA.includes(D.key)||D.shiftKey&&VA.includes(D.key)?10:1,$=y.current,K=R[$],L=i*Z*M;k(K+L,$,{commit:!0})}}})})})})});BA.displayName=wa;var[zA,$A]=UA(wa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),aU=E.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...f}=t,[h,m]=E.useState(null),w=Oe(e,_=>m(_)),S=E.useRef(void 0),x=Xh(s),T=x==="ltr",y=T&&!i||!T&&i;function g(_){const R=S.current||h.getBoundingClientRect(),N=[0,R.width],I=Tv(N,y?[n,r]:[r,n]);return S.current=R,I(_-R.left)}return d.jsx(zA,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:d.jsx(HA,{dir:x,"data-orientation":"horizontal",...f,ref:w,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const R=g(_.clientX);o==null||o(R)},onSlideMove:_=>{const R=g(_.clientX);a==null||a(R)},onSlideEnd:()=>{S.current=void 0,c==null||c()},onStepKeyDown:_=>{const N=FA[y?"from-left":"from-right"].includes(_.key);u==null||u({event:_,direction:N?-1:1})}})})}),lU=E.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=t,f=E.useRef(null),h=Oe(e,f),m=E.useRef(void 0),w=!s;function S(x){const T=m.current||f.current.getBoundingClientRect(),y=[0,T.height],_=Tv(y,w?[r,n]:[n,r]);return m.current=T,_(x-T.top)}return d.jsx(zA,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:d.jsx(HA,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const T=S(x.clientY);i==null||i(T)},onSlideMove:x=>{const T=S(x.clientY);o==null||o(T)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:x=>{const y=FA[w?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:y?-1:1})}})})}),HA=E.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=t,f=nf(wa,n);return d.jsx(de.span,{...u,ref:e,onKeyDown:ie(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):LA.concat(VA).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:ie(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():r(h)}),onPointerMove:ie(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:ie(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),WA="SliderTrack",qA=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=nf(WA,n);return d.jsx(de.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});qA.displayName=WA;var ig="SliderRange",KA=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=nf(ig,n),i=$A(ig,n),o=E.useRef(null),a=Oe(e,o),c=s.values.length,u=s.values.map(m=>QA(m,s.min,s.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return d.jsx(de.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:f+"%",[i.endEdge]:h+"%"}})});KA.displayName=ig;var og="SliderThumb",GA=E.forwardRef((t,e)=>{const n=sU(t.__scopeSlider),[r,s]=E.useState(null),i=Oe(e,a=>s(a)),o=E.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return d.jsx(cU,{...t,ref:i,index:o})}),cU=E.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=nf(og,n),a=$A(og,n),[c,u]=E.useState(null),f=Oe(e,g=>u(g)),h=c?o.form||!!c.closest("form"):!0,m=bS(c),w=o.values[r],S=w===void 0?0:QA(w,o.min,o.max),x=hU(r,o.values.length),T=m==null?void 0:m[a.size],y=T?pU(T,S,a.direction):0;return E.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${S}% + ${y}px)`},children:[d.jsx(sg.ItemSlot,{scope:t.__scopeSlider,children:d.jsx(de.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":w,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:f,style:w===void 0?{display:"none"}:t.style,onFocus:ie(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&d.jsx(uU,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:w},r)]})});GA.displayName=og;var uU=t=>{const{value:e,...n}=t,r=E.useRef(null),s=$C(e);return E.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&c){const u=new Event("input",{bubbles:!0});c.call(i,e),i.dispatchEvent(u)}},[s,e]),d.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function dU(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function QA(t,e,n){const i=100/(n-e)*(t-e);return Kd(i,[0,100])}function hU(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function fU(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function pU(t,e,n){const r=t/2,i=Tv([0,50],[0,r]);return(r-i(e)*n)*n}function mU(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function gU(t,e){if(e>0){const n=mU(t);return Math.min(...n)>=e}return!0}function Tv(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function yU(t){return(String(t).split(".")[1]||"").length}function vU(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var YA=BA,wU=qA,xU=KA,_U=GA;const Qd=E.forwardRef(({className:t,...e},n)=>d.jsxs(YA,{ref:n,className:xe("relative flex w-full touch-none select-none items-center",t),...e,children:[d.jsx(wU,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(xU,{className:"absolute h-full bg-primary"})}),d.jsx(_U,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Qd.displayName=YA.displayName;const EU=Zl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ti({className:t,variant:e,...n}){return d.jsx("div",{className:xe(EU({variant:e}),t),...n})}const X_=({tasks:t,onAddTask:e,onToggleTask:n,onDeleteTask:r,onClearAll:s})=>{const[i,o]=E.useState(""),[a,c]=E.useState(3),[u,f]=E.useState(2),[h,m]=E.useState("all"),[w,S]=E.useState(""),[x,T]=E.useState(!1),y=async()=>{if(i.trim()){T(!0);try{await e(i.trim(),a,u),o(""),c(3),f(2)}catch(N){console.error("Failed to add task:",N)}finally{setTimeout(()=>T(!1),300)}}},g=N=>N>=5?{color:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800",label:"Critical",icon:""}:N>=4?{color:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800",label:"High",icon:""}:N>=3?{color:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800",label:"Medium",icon:""}:{color:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",label:"Low",icon:""},_=t.filter(N=>{const O=h==="all"||h==="pending"&&!N.completed||h==="completed"&&N.completed,I=N.name.toLowerCase().includes(w.toLowerCase());return O&&I}).sort((N,O)=>O.priorityScore-N.priorityScore),R={total:t.length,pending:t.filter(N=>!N.completed).length,completed:t.filter(N=>N.completed).length,highPriority:t.filter(N=>!N.completed&&N.priority>=4).length};return d.jsxs("div",{className:"space-y-6 animate-slide-up",children:[d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[d.jsxs(Pe,{className:"card-elevated p-4 text-center",children:[d.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:R.total}),d.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Total Tasks"})]}),d.jsxs(Pe,{className:"card-elevated p-4 text-center",children:[d.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-orange-600",children:R.pending}),d.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Pending"})]}),d.jsxs(Pe,{className:"card-elevated p-4 text-center",children:[d.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:R.completed}),d.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs(Pe,{className:"card-elevated p-4 text-center",children:[d.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-red-600",children:R.highPriority}),d.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"High Priority"})]})]}),d.jsxs(Pe,{className:"card-elevated",children:[d.jsx(vn,{className:"pb-4",children:d.jsxs(wn,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[d.jsx(Qf,{className:"w-5 h-5 text-blue-600"}),"Add New Task"]})}),d.jsxs(Be,{className:"space-y-4 sm:space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ei,{htmlFor:"taskName",className:"text-sm font-medium",children:["Task Name ",d.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),d.jsx(Hl,{id:"taskName",value:i,onChange:N=>o(N.target.value),placeholder:"Enter your task description...",className:"w-full transition-all duration-200 focus:ring-2 focus:ring-blue-500",onKeyPress:N=>N.key==="Enter"&&y(),"aria-describedby":"taskName-help"}),d.jsx("p",{id:"taskName-help",className:"text-xs text-gray-500",children:"Be specific about what you want to accomplish"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs(Ei,{className:"text-sm font-medium",children:["Priority Level: ",d.jsx("span",{className:"font-bold text-blue-600",children:a})]}),d.jsx(Qd,{value:[a],onValueChange:N=>c(N[0]),max:5,min:1,step:1,className:"w-full","aria-label":"Task priority level"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[d.jsx("span",{children:"1 - Low"}),d.jsx("span",{children:"3 - Medium"}),d.jsx("span",{children:"5 - Critical"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(Ei,{className:"text-sm font-medium",children:["Effort Required: ",d.jsxs("span",{className:"font-bold text-purple-600",children:[u,"h"]})]}),d.jsx(Qd,{value:[u],onValueChange:N=>f(N[0]),max:8,min:.5,step:.5,className:"w-full","aria-label":"Task effort in hours"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[d.jsx("span",{children:"0.5h"}),d.jsx("span",{children:"4h"}),d.jsx("span",{children:"8h"})]})]})]}),d.jsx(ln,{onClick:y,disabled:!i.trim()||x,className:"w-full interactive-primary h-12 text-base font-medium",children:x?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Adding Task..."})]}):d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Qf,{className:"w-5 h-5"}),d.jsx("span",{children:"Add Task"})]})})]})]}),d.jsx(Pe,{className:"card-elevated",children:d.jsx(Be,{className:"p-4 sm:p-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[d.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[d.jsx(Mw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx(Hl,{placeholder:"Search tasks...",value:w,onChange:N=>S(N.target.value),className:"pl-10 w-full sm:w-64","aria-label":"Search tasks"})]}),d.jsxs(eU,{value:h,onValueChange:N=>m(N),children:[d.jsxs(DA,{className:"w-full sm:w-48 glass",children:[d.jsx(R2,{className:"w-4 h-4 mr-2"}),d.jsx(tU,{})]}),d.jsxs(jA,{children:[d.jsxs(Ku,{value:"all",children:["All Tasks (",R.total,")"]}),d.jsxs(Ku,{value:"pending",children:["Pending (",R.pending,")"]}),d.jsxs(Ku,{value:"completed",children:["Completed (",R.completed,")"]})]})]})]}),t.length>0&&d.jsxs(ln,{variant:"outline",onClick:s,className:"w-full sm:w-auto glass hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition-all duration-200",children:[d.jsx(Lw,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})})}),d.jsx("div",{className:"space-y-3 sm:space-y-4",children:_.length===0?d.jsx(Pe,{className:"card-elevated border-dashed border-2",children:d.jsx(Be,{className:"py-12 text-center",children:d.jsx("div",{className:"space-y-4",children:w?d.jsxs(d.Fragment,{children:[d.jsx(Mw,{className:"w-12 h-12 mx-auto text-gray-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium text-gray-600",children:"No tasks found"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or filter criteria"})]})]}):h==="pending"?d.jsxs(d.Fragment,{children:[d.jsx(xd,{className:"w-12 h-12 mx-auto text-green-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium text-gray-600",children:"All caught up!"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No pending tasks. Great job staying productive!"})]})]}):h==="completed"?d.jsxs(d.Fragment,{children:[d.jsx(Nw,{className:"w-12 h-12 mx-auto text-gray-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium text-gray-600",children:"No completed tasks yet"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Complete some tasks to see them here"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qf,{className:"w-12 h-12 mx-auto text-gray-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium text-gray-600",children:"No tasks yet"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add your first task above to get started!"})]})]})})})}):_.map((N,O)=>{const I=g(N.priority);return d.jsx(Pe,{className:`card-elevated transition-all duration-300 ${N.completed?"opacity-75 bg-gray-50":""} hover:shadow-xl`,style:{animationDelay:`${O*50}ms`},children:d.jsx(Be,{className:"p-4 sm:p-6",children:d.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[d.jsx("button",{onClick:()=>n(N.id),className:"mt-1 text-blue-500 hover:text-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-full p-1","aria-label":N.completed?"Mark as incomplete":"Mark as complete",children:N.completed?d.jsx(xd,{className:"w-6 h-6"}):d.jsx(Nw,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:`font-medium text-base sm:text-lg leading-tight ${N.completed?"line-through text-gray-500":"text-gray-800"}`,children:N.name}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mt-3",children:[d.jsxs(Ti,{className:`${I.color} text-xs font-medium px-2 py-1`,"aria-label":`Priority: ${I.label}`,children:[d.jsx("span",{className:"mr-1","aria-hidden":"true",children:I.icon}),I.label]}),d.jsxs("div",{className:"flex items-center space-x-1 text-xs sm:text-sm text-gray-600",children:[d.jsx(ys,{className:"w-3 h-3"}),d.jsxs("span",{children:[N.effort,"h"]})]}),d.jsxs("div",{className:"flex items-center space-x-1 text-xs sm:text-sm text-gray-600",children:[d.jsx(nS,{className:"w-3 h-3"}),d.jsxs("span",{children:["Score: ",Math.round(N.priorityScore)]})]}),N.priority>=4&&!N.completed&&d.jsxs("div",{className:"flex items-center space-x-1 text-xs text-red-600",children:[d.jsx(ym,{className:"w-3 h-3"}),d.jsx("span",{children:"High Priority"})]})]})]}),d.jsx(ln,{variant:"ghost",size:"sm",onClick:()=>r(N.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 transition-all duration-200 focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":`Delete task: ${N.name}`,children:d.jsx(Lw,{className:"w-4 h-4"})})]})})},N.id)})}),w&&d.jsxs("div",{className:"text-center text-sm text-gray-500 py-4",children:["Showing ",_.length," of ",t.length," tasks",w&&` matching "${w}"`]})]})};var Sv="Progress",bv=100,[TU,xB]=wr(Sv),[SU,bU]=TU(Sv),XA=E.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=IU,...o}=t;(s||s===0)&&!J_(s)&&console.error(CU(`${s}`,"Progress"));const a=J_(s)?s:bv;r!==null&&!Z_(r,a)&&console.error(AU(`${r}`,"Progress"));const c=Z_(r,a)?r:null,u=Yd(c)?i(c,a):void 0;return d.jsx(SU,{scope:n,value:c,max:a,children:d.jsx(de.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Yd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":ek(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});XA.displayName=Sv;var JA="ProgressIndicator",ZA=E.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=bU(JA,n);return d.jsx(de.div,{"data-state":ek(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});ZA.displayName=JA;function IU(t,e){return`${Math.round(t/e*100)}%`}function ek(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Yd(t){return typeof t=="number"}function J_(t){return Yd(t)&&!isNaN(t)&&t>0}function Z_(t,e){return Yd(t)&&!isNaN(t)&&t<=e&&t>=0}function CU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bv}\`.`}function AU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tk=XA,kU=ZA;const rf=E.forwardRef(({className:t,value:e,...n},r)=>d.jsx(tk,{ref:r,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(kU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));rf.displayName=tk.displayName;const e1=({tasks:t,workdaySettings:e,onRescheduleTask:n})=>{var c,u,f;const r=E.useMemo(()=>{const m=[...t.filter(C=>!C.completed)].sort((C,k)=>k.priorityScore-C.priorityScore),[w,S]=e.startTime.split(":").map(Number),[x,T]=e.endTime.split(":").map(Number),y=new Date;y.setHours(w,S,0,0);const g=new Date;g.setHours(x,T,0,0),g<=y&&g.setDate(g.getDate()+1);const _=(g.getTime()-y.getTime())/(1e3*60);let R=new Date(y);const N=[];for(const C of m){const k=C.effort*60,D=new Date(R.getTime()+k*60*1e3);D<=g&&(N.push({...C,scheduledStart:new Date(R),scheduledEnd:new Date(D)}),R=new Date(D.getTime()+e.breakDuration*60*1e3))}const O=N.reduce((C,k)=>C+k.effort*60,0),I=Math.max(0,(N.length-1)*e.breakDuration),b=O+I;return{scheduledTasks:N,totalScheduledMinutes:O,totalBreakMinutes:I,totalUsedMinutes:b,totalWorkdayMinutes:_,unscheduledTasks:m.filter(C=>!N.find(k=>k.id===C.id)),efficiency:_>0?O/_*100:0}},[t,e]),s=h=>h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),i=h=>h>=5?{color:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50 border-red-200",icon:""}:h>=4?{color:"bg-orange-500",textColor:"text-orange-700",bgColor:"bg-orange-50 border-orange-200",icon:""}:h>=3?{color:"bg-yellow-500",textColor:"text-yellow-700",bgColor:"bg-yellow-50 border-yellow-200",icon:""}:{color:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50 border-green-200",icon:""},o=Math.round(r.efficiency),a=Math.round(r.scheduledTasks.reduce((h,m)=>h+m.priorityScore,0)/Math.max(1,r.scheduledTasks.length)*(o/100));return d.jsxs("div",{className:"space-y-6 animate-slide-up",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(Pe,{className:"card-elevated",children:d.jsxs(Be,{className:"p-4 sm:p-6 text-center",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-xl",children:d.jsx(ys,{className:"w-6 h-6 text-blue-600"})}),d.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:r.scheduledTasks.length}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Scheduled Tasks"}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r.unscheduledTasks.length," remaining"]})]})}),d.jsx(Pe,{className:"card-elevated",children:d.jsxs(Be,{className:"p-4 sm:p-6 text-center",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-green-100 rounded-xl",children:d.jsx(S2,{className:"w-6 h-6 text-green-600"})}),d.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:[o,"%"]}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Day Utilization"}),d.jsx(rf,{value:o,className:"mt-2 h-2"})]})}),d.jsx(Pe,{className:"card-elevated",children:d.jsxs(Be,{className:"p-4 sm:p-6 text-center",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-purple-100 rounded-xl",children:d.jsx(kl,{className:"w-6 h-6 text-purple-600"})}),d.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:[Math.round(r.totalScheduledMinutes/60*10)/10,"h"]}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Scheduled"}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",Math.round(r.totalBreakMinutes),"m breaks"]})]})}),d.jsx(Pe,{className:"card-elevated",children:d.jsxs(Be,{className:"p-4 sm:p-6 text-center",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-indigo-100 rounded-xl",children:d.jsx(nS,{className:"w-6 h-6 text-indigo-600"})}),d.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:a}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Productivity Score"}),d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Based on priority & efficiency"})]})})]}),r.scheduledTasks.length>0&&d.jsxs(Pe,{className:"card-elevated",children:[d.jsx(vn,{children:d.jsxs(wn,{className:"flex items-center gap-2",children:[d.jsx(rS,{className:"w-5 h-5 text-yellow-500"}),"Schedule Insights"]})}),d.jsx(Be,{children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(ys,{className:"w-4 h-4 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Peak Hours"}),d.jsxs("div",{className:"text-xs text-blue-700",children:[s((c=r.scheduledTasks[0])==null?void 0:c.scheduledStart)," - ",s(((u=r.scheduledTasks[Math.floor(r.scheduledTasks.length/2)])==null?void 0:u.scheduledEnd)||((f=r.scheduledTasks[0])==null?void 0:f.scheduledEnd))]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[d.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:d.jsx(xd,{className:"w-4 h-4 text-green-600"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-green-900",children:"Completion Rate"}),d.jsxs("div",{className:"text-xs text-green-700",children:[Math.round(r.scheduledTasks.length/Math.max(1,t.filter(h=>!h.completed).length)*100),"% schedulable"]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[d.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:d.jsx(L2,{className:"w-4 h-4 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-purple-900",children:"Focus Time"}),d.jsxs("div",{className:"text-xs text-purple-700",children:[Math.round(r.totalScheduledMinutes/60*10)/10,"h of deep work"]})]})]})]})})]}),d.jsxs(Pe,{className:"card-elevated",children:[d.jsxs(vn,{children:[d.jsxs(wn,{className:"flex items-center gap-2",children:[d.jsx(kl,{className:"w-5 h-5 text-blue-600"}),"Daily Time Blocks"]}),r.scheduledTasks.length>0&&d.jsx("div",{className:"text-sm text-gray-600",children:"Optimized schedule based on priority scores and available time"})]}),d.jsx(Be,{children:r.scheduledTasks.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ys,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No tasks to schedule"}),d.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Add some tasks to see your optimized time blocks. The AI will automatically arrange them based on priority and effort."})]}):d.jsx("div",{className:"space-y-3",children:r.scheduledTasks.map((h,m)=>{const w=i(h.priority),S=m<r.scheduledTasks.length-1;return d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`flex items-center gap-4 p-4 rounded-xl border transition-all duration-200 hover:shadow-md ${w.bgColor}`,children:d.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[d.jsxs("div",{className:"flex flex-col items-center text-center min-w-[80px] sm:min-w-[100px]",children:[d.jsx("div",{className:"text-sm font-medium text-gray-700",children:s(h.scheduledStart)}),d.jsx("div",{className:"text-xs text-gray-500",children:s(h.scheduledEnd)}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[h.effort,"h"]})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${w.color}`}),d.jsx("h4",{className:"font-medium text-gray-800 truncate",children:h.name})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs(Ti,{variant:"secondary",className:"text-xs",children:[d.jsx("span",{className:"mr-1",children:w.icon}),"Priority ",h.priority]}),d.jsxs(Ti,{variant:"outline",className:"text-xs",children:["Score: ",Math.round(h.priorityScore)]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Block ",m+1," of ",r.scheduledTasks.length]})]})]})]})}),S&&d.jsx("div",{className:"flex items-center justify-center py-2",children:d.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-600",children:[d.jsx(ys,{className:"w-3 h-3"}),d.jsxs("span",{children:[e.breakDuration,"min break"]})]})})]},h.id)})})})]}),r.unscheduledTasks.length>0&&d.jsxs(Pe,{className:"card-elevated border-orange-200 bg-orange-50/50",children:[d.jsxs(vn,{children:[d.jsxs(wn,{className:"flex items-center gap-2 text-orange-700",children:[d.jsx(Td,{className:"w-5 h-5"}),"Unscheduled Tasks (",r.unscheduledTasks.length,")"]}),d.jsx("div",{className:"text-sm text-orange-600",children:"These tasks couldn't fit in your current workday. Consider extending your work hours, breaking them into smaller chunks, or moving them to another day."})]}),d.jsxs(Be,{children:[d.jsx("div",{className:"space-y-3",children:r.unscheduledTasks.map(h=>{const m=i(h.priority);return d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-orange-200 hover:shadow-md transition-all duration-200",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${m.color}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-gray-800 truncate",children:h.name}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsxs(Ti,{className:`text-xs ${m.textColor} bg-white`,children:[d.jsx("span",{className:"mr-1",children:m.icon}),"Priority ",h.priority]}),d.jsxs("span",{className:"text-xs text-gray-500",children:[h.effort,"h required"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["Score: ",Math.round(h.priorityScore)]})]})]})]},h.id)})}),d.jsxs("div",{className:"mt-4 p-4 bg-orange-100 rounded-lg border border-orange-200",children:[d.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:" Suggestions:"}),d.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[d.jsxs("li",{children:[" Extend your workday by ",Math.ceil(r.unscheduledTasks.reduce((h,m)=>h+m.effort,0))," hours"]}),d.jsx("li",{children:" Break large tasks into smaller, manageable chunks"}),d.jsx("li",{children:" Consider moving lower-priority tasks to tomorrow"}),d.jsx("li",{children:" Reduce break duration to fit more tasks"})]})]})]})]}),r.scheduledTasks.length>0&&d.jsx(Pe,{className:"card-elevated bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:d.jsx(Be,{className:"p-6",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:" Schedule Summary"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(r.totalUsedMinutes/60*10)/10,"h"]}),d.jsx("div",{className:"text-xs text-blue-700",children:"Total Time Used"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round((r.totalWorkdayMinutes-r.totalUsedMinutes)/60*10)/10,"h"]}),d.jsx("div",{className:"text-xs text-green-700",children:"Free Time"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[r.totalBreakMinutes,"m"]}),d.jsx("div",{className:"text-xs text-purple-700",children:"Break Time"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:a}),d.jsx("div",{className:"text-xs text-indigo-700",children:"Productivity Score"})]})]})]})})})]})},t1=({settings:t,onUpdateSettings:e})=>{const n=h=>{e({...t,startTime:h})},r=h=>{e({...t,endTime:h})},s=h=>{e({...t,breakDuration:h[0]})},o=(()=>{const[h,m]=t.startTime.split(":").map(Number),[w,S]=t.endTime.split(":").map(Number),x=h*60+m,y=w*60+S-x,g=Math.floor(y/60),_=y%60;return{hours:g,minutes:_,totalMinutes:y}})(),a=()=>o.totalMinutes<360?{type:"Short",color:"bg-green-100 text-green-800",icon:""}:o.totalMinutes<480?{type:"Standard",color:"bg-blue-100 text-blue-800",icon:""}:o.totalMinutes<600?{type:"Extended",color:"bg-orange-100 text-orange-800",icon:""}:{type:"Marathon",color:"bg-red-100 text-red-800",icon:""},c=()=>t.breakDuration<10?{text:"Quick breaks",color:"text-orange-600"}:t.breakDuration<20?{text:"Balanced breaks",color:"text-green-600"}:t.breakDuration<30?{text:"Extended breaks",color:"text-blue-600"}:{text:"Long breaks",color:"text-purple-600"},u=a(),f=c();return d.jsxs("div",{className:"space-y-6 animate-slide-up",children:[d.jsx(Pe,{className:"card-elevated bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:d.jsxs(Be,{className:"p-6 text-center",children:[d.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-2xl",children:d.jsx(_d,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Workday Configuration"}),d.jsx("p",{className:"text-blue-700 max-w-2xl mx-auto",children:"Customize your daily schedule to optimize productivity and maintain work-life balance. These settings help the AI create the perfect time blocks for your tasks."})]})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsx(Pe,{className:"card-elevated text-center",children:d.jsxs(Be,{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-xl",children:d.jsx(ys,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[o.hours,"h ",o.minutes,"m"]}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Duration"}),d.jsxs(Ti,{className:`mt-2 text-xs ${u.color}`,children:[d.jsx("span",{className:"mr-1",children:u.icon}),u.type," Day"]})]})}),d.jsx(Pe,{className:"card-elevated text-center",children:d.jsxs(Be,{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-green-100 rounded-xl",children:d.jsx(jw,{className:"w-6 h-6 text-green-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t.startTime}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Start Time"}),d.jsx("div",{className:"text-xs text-gray-500 mt-2",children:parseInt(t.startTime.split(":")[0])<8?"Early Bird ":parseInt(t.startTime.split(":")[0])<10?"Standard Start ":"Late Start "})]})}),d.jsx(Pe,{className:"card-elevated text-center",children:d.jsxs(Be,{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-purple-100 rounded-xl",children:d.jsx(Dw,{className:"w-6 h-6 text-purple-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t.endTime}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"End Time"}),d.jsx("div",{className:"text-xs text-gray-500 mt-2",children:parseInt(t.endTime.split(":")[0])<17?"Early Finish ":parseInt(t.endTime.split(":")[0])<19?"Standard End ":"Late Finish "})]})})]}),d.jsxs(Pe,{className:"card-elevated",children:[d.jsxs(vn,{children:[d.jsxs(wn,{className:"flex items-center gap-2",children:[d.jsx(M2,{className:"w-5 h-5 text-blue-600"}),"Schedule Settings"]}),d.jsx("p",{className:"text-sm text-gray-600",children:"Configure your daily work schedule for optimal task planning"})]}),d.jsxs(Be,{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs(Ei,{htmlFor:"startTime",className:"flex items-center gap-2 text-sm font-medium",children:[d.jsx(jw,{className:"w-4 h-4 text-green-600"}),"Start Time"]}),d.jsx(Hl,{id:"startTime",type:"time",value:t.startTime,onChange:h=>n(h.target.value),className:"text-lg font-mono transition-all duration-200 focus:ring-2 focus:ring-blue-500","aria-describedby":"startTime-help"}),d.jsx("p",{id:"startTime-help",className:"text-xs text-gray-500",children:"When do you typically start your workday?"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(Ei,{htmlFor:"endTime",className:"flex items-center gap-2 text-sm font-medium",children:[d.jsx(Dw,{className:"w-4 h-4 text-purple-600"}),"End Time"]}),d.jsx(Hl,{id:"endTime",type:"time",value:t.endTime,onChange:h=>r(h.target.value),className:"text-lg font-mono transition-all duration-200 focus:ring-2 focus:ring-blue-500","aria-describedby":"endTime-help"}),d.jsx("p",{id:"endTime-help",className:"text-xs text-gray-500",children:"When do you typically end your workday?"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Ei,{className:"flex items-center gap-2 text-sm font-medium",children:[d.jsx(C2,{className:"w-4 h-4 text-orange-600"}),"Break Duration: ",d.jsxs("span",{className:"font-bold text-orange-600",children:[t.breakDuration," minutes"]})]}),d.jsx(Qd,{value:[t.breakDuration],onValueChange:s,max:60,min:5,step:5,className:"w-full","aria-label":"Break duration between tasks"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[d.jsx("span",{children:"5 min (Quick)"}),d.jsx("span",{children:"30 min (Balanced)"}),d.jsx("span",{children:"60 min (Extended)"})]}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(Ti,{variant:"outline",className:`text-sm ${f.color}`,children:f.text})})]})]})]}),d.jsxs(Pe,{className:"card-elevated",children:[d.jsx(vn,{children:d.jsxs(wn,{className:"flex items-center gap-2",children:[d.jsx(T2,{className:"w-5 h-5 text-purple-600"}),"Productivity Insights"]})}),d.jsx(Be,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[d.jsx(rS,{className:"w-4 h-4 text-yellow-500"}),"Schedule Analysis"]}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[d.jsx("span",{className:"text-blue-700",children:"Available Work Time:"}),d.jsxs("span",{className:"font-medium text-blue-900",children:[o.hours,"h ",o.minutes,"m"]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[d.jsx("span",{className:"text-green-700",children:"Productivity Window:"}),d.jsxs("span",{className:"font-medium text-green-900",children:[t.startTime," - ",t.endTime]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[d.jsx("span",{className:"text-orange-700",children:"Break Frequency:"}),d.jsxs("span",{className:"font-medium text-orange-900",children:["Every ",t.breakDuration," minutes"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[d.jsx(cy,{className:"w-4 h-4 text-green-500"}),"Optimization Tips"]}),d.jsxs("div",{className:"space-y-3 text-sm",children:[o.totalMinutes<360&&d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsx("div",{className:"font-medium text-yellow-800 mb-1",children:" Short Day Detected"}),d.jsx("div",{className:"text-yellow-700",children:"Consider extending your workday for better task completion."})]}),t.breakDuration<10&&d.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[d.jsx("div",{className:"font-medium text-orange-800 mb-1",children:" Quick Breaks"}),d.jsx("div",{className:"text-orange-700",children:"Short breaks may lead to burnout. Consider 15-20 minute breaks."})]}),t.breakDuration>30&&d.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("div",{className:"font-medium text-blue-800 mb-1",children:" Extended Breaks"}),d.jsx("div",{className:"text-blue-700",children:"Long breaks are great for deep rest but may reduce daily capacity."})]}),d.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[d.jsx("div",{className:"font-medium text-green-800 mb-1",children:" Pro Tip"}),d.jsx("div",{className:"text-green-700",children:o.totalMinutes>480?"Long workdays benefit from 20-30 minute breaks to maintain focus.":"Shorter workdays work well with 10-15 minute breaks for efficiency."})]})]})]})]})})]}),d.jsxs(Pe,{className:"card-elevated bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200",children:[d.jsx(vn,{children:d.jsx(wn,{className:"text-purple-900",children:" How ZenJourney Works"})}),d.jsxs(Be,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium text-purple-800",children:"Smart Prioritization"}),d.jsxs("ul",{className:"space-y-2 text-sm text-purple-700",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),d.jsx("span",{children:"Tasks are scored based on urgency, importance, and effort required"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),d.jsx("span",{children:"Higher priority tasks are automatically scheduled first"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),d.jsx("span",{children:"Time decay increases urgency for older tasks"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium text-purple-800",children:"Intelligent Scheduling"}),d.jsxs("ul",{className:"space-y-2 text-sm text-purple-700",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 flex-shrink-0"}),d.jsx("span",{children:"Breaks are automatically inserted between tasks"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 flex-shrink-0"}),d.jsx("span",{children:"Tasks that don't fit are flagged for rescheduling"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 flex-shrink-0"}),d.jsx("span",{children:"Your settings ensure realistic and sustainable schedules"})]})]})]})]}),d.jsx("div",{className:"mt-6 p-4 bg-white/60 rounded-lg border border-purple-200",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-sm font-medium text-purple-800 mb-2",children:" Auto-Save Enabled"}),d.jsx("div",{className:"text-xs text-purple-600",children:"Your settings are automatically saved and will persist between sessions"})]})})]})]})]})},RU=()=>{const{user:t,signOut:e}=Yh();return d.jsxs("header",{className:"text-center space-y-6 animate-fade-in relative",children:[t&&d.jsxs("div",{className:"absolute top-0 right-4 flex items-center space-x-3",children:[d.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-white/70 rounded-full backdrop-blur-sm border border-white/30",children:[d.jsx(uy,{className:"w-4 h-4 text-gray-600"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.displayName||t.email||"Demo User"})]}),d.jsx(ln,{variant:"ghost",size:"sm",onClick:e,className:"bg-white/70 hover:bg-white/90 backdrop-blur-sm border border-white/30",children:d.jsx(P2,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-blue-500 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:d.jsx(Ow,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),d.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),d.jsxs("div",{className:"text-left",children:[d.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gradient leading-tight",children:"ZenJourney"}),d.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500 mt-1",children:[d.jsx("span",{className:"px-2 py-1 bg-white/60 rounded-full backdrop-blur-sm border border-white/20 font-medium",children:"v2.1.30"}),d.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),d.jsx("span",{className:"hidden sm:inline",children:"Production Ready"})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-700 font-medium max-w-2xl mx-auto leading-relaxed",children:"Intelligent Productivity & Time Management"}),d.jsx("p",{className:"text-sm sm:text-base text-gray-600 max-w-xl mx-auto leading-relaxed",children:"Transform your daily chaos into focused productivity with AI-powered task prioritization and smart time blocking"})]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-6 mt-6",children:[d.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-white/70 rounded-full backdrop-blur-sm border border-white/30 shadow-sm hover:shadow-md transition-all duration-200",children:[d.jsx(cy,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Smart Prioritization"})]}),d.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-white/70 rounded-full backdrop-blur-sm border border-white/30 shadow-sm hover:shadow-md transition-all duration-200",children:[d.jsx(ys,{className:"w-4 h-4 text-purple-600"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Time Blocking"})]}),d.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-white/70 rounded-full backdrop-blur-sm border border-white/30 shadow-sm hover:shadow-md transition-all duration-200",children:[d.jsx(Ow,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Focus Mode"})]})]}),d.jsx("div",{className:"sr-only","aria-live":"polite",children:"ZenJourney productivity application loaded. Navigate using tab key or screen reader commands."})]})};var Iv="Avatar",[NU,_B]=wr(Iv),[PU,nk]=NU(Iv),rk=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=E.useState("idle");return d.jsx(PU,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(de.span,{...r,ref:e})})});rk.displayName=Iv;var sk="AvatarImage",ik=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=nk(sk,n),a=DU(r,i),c=Yt(u=>{s(u),o.onImageLoadingStatusChange(u)});return pt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?d.jsx(de.img,{...i,ref:e,src:r}):null});ik.displayName=sk;var ok="AvatarFallback",ak=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=nk(ok,n),[o,a]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(de.span,{...s,ref:e}):null});ak.displayName=ok;function n1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function DU(t,{referrerPolicy:e,crossOrigin:n}){const r=OU(),s=E.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=E.useState(()=>n1(i,t));return pt(()=>{a(n1(i,t))},[i,t]),pt(()=>{const c=h=>()=>{a(h)};if(!i)return;const u=c("loaded"),f=c("error");return i.addEventListener("load",u),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,n,e]),o}function MU(){return()=>{}}function OU(){return E.useSyncExternalStore(MU,()=>!0,()=>!1)}var lk=rk,ck=ik,uk=ak;const dk=E.forwardRef(({className:t,...e},n)=>d.jsx(lk,{ref:n,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));dk.displayName=lk.displayName;const hk=E.forwardRef(({className:t,...e},n)=>d.jsx(ck,{ref:n,className:xe("aspect-square h-full w-full",t),...e}));hk.displayName=ck.displayName;const fk=E.forwardRef(({className:t,...e},n)=>d.jsx(uk,{ref:n,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));fk.displayName=uk.displayName;const jU=({profile:t,syncStatus:e="synced"})=>{if(!t)return d.jsxs(Pe,{className:"w-full",children:[d.jsx(vn,{className:"pb-2",children:d.jsx(wn,{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"User Profile"})}),d.jsx(Be,{children:d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Profile loading..."})})]});const n=t.stats.totalTasks>0?Math.round(t.stats.completedTasks/t.stats.totalTasks*100):0,r=()=>{switch(e){case"syncing":return"text-yellow-500";case"error":return"text-red-500";default:return"text-green-500"}},s=()=>{switch(e){case"syncing":return"Syncing...";case"error":return"Sync Error";default:return"Synced"}};return d.jsxs(Pe,{className:"w-full",children:[d.jsx(vn,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(wn,{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Profile"}),d.jsx(Ti,{variant:"outline",className:`text-xs ${r()}`,children:s()})]})}),d.jsxs(Be,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs(dk,{className:"h-10 w-10",children:[d.jsx(hk,{src:t.photoURL,alt:t.displayName}),d.jsx(fk,{children:d.jsx(uy,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:t.displayName}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:t.email})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[d.jsx(cy,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Total Tasks"}),d.jsx("div",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:t.stats.totalTasks})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[d.jsx(O2,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Completed"}),d.jsx("div",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:t.stats.completedTasks})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Completion Rate"}),d.jsxs("span",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:[n,"%"]})]}),d.jsx(rf,{value:n,className:"h-2"})]}),d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[d.jsx(ys,{className:"h-3 w-3"}),d.jsx("span",{children:"Work Days"})]}),d.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.stats.totalWorkDays})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 border-t pt-2",children:["Member since ",t.createdAt.toLocaleDateString()]})]})]})},LU=Zl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ag=E.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:xe(LU({variant:e}),t),...n}));ag.displayName="Alert";const VU=E.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",t),...e}));VU.displayName="AlertTitle";const lg=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",t),...e}));lg.displayName="AlertDescription";const FU=({onMigrateToFirebase:t,onExportData:e,hasLocalData:n,isFirebaseConnected:r})=>{const[s,i]=E.useState(!1),[o,a]=E.useState(!1),[c,u]=E.useState(0),{toast:f}=sy(),h=async()=>{if(!r){f({title:"Firebase Not Connected",description:"Please check your Firebase configuration and sign in.",variant:"destructive"});return}i(!0),u(0);try{const w=setInterval(()=>{u(S=>S>=90?(clearInterval(w),S):S+10)},200);await t(),clearInterval(w),u(100),f({title:"Migration Complete",description:"Your data has been successfully migrated to Firebase."})}catch{f({title:"Migration Failed",description:"Failed to migrate data. Please try again.",variant:"destructive"})}finally{i(!1),setTimeout(()=>u(0),2e3)}},m=async()=>{a(!0);try{await e(),f({title:"Export Complete",description:"Your data has been exported successfully."})}catch{f({title:"Export Failed",description:"Failed to export data. Please try again.",variant:"destructive"})}finally{a(!1)}};return d.jsxs(Pe,{className:"w-full",children:[d.jsx(vn,{children:d.jsxs(wn,{className:"flex items-center gap-2",children:[d.jsx(A2,{className:"h-5 w-5"}),"Data Management"]})}),d.jsxs(Be,{className:"space-y-4",children:[d.jsx(ag,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[r?d.jsx(xd,{className:"h-4 w-4 text-green-500"}):d.jsx(Td,{className:"h-4 w-4 text-yellow-500"}),d.jsxs(lg,{children:["Firebase: ",r?"Connected":"Not Connected"]})]})}),n&&d.jsxs(ag,{children:[d.jsx(Td,{className:"h-4 w-4"}),d.jsx(lg,{children:"You have local data that can be migrated to Firebase for better sync across devices."})]}),s&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"Migrating data..."}),d.jsxs("span",{children:[c,"%"]})]}),d.jsx(rf,{value:c,className:"w-full"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsxs(ln,{onClick:h,disabled:!n||!r||s,className:"flex items-center gap-2",variant:"default",children:[d.jsx(j2,{className:"h-4 w-4"}),s?"Migrating...":"Migrate to Firebase"]}),d.jsxs(ln,{onClick:m,disabled:o,variant:"outline",className:"flex items-center gap-2",children:[d.jsx(k2,{className:"h-4 w-4"}),o?"Exporting...":"Export Data"]})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[d.jsx("p",{children:" Migration moves your local data to Firebase for cloud sync"}),d.jsx("p",{children:" Export creates a backup file of your current data"}),d.jsx("p",{children:" Firebase data syncs across all your devices"})]})]})]})};var xp="rovingFocusGroup.onEntryFocus",UU={bubbles:!1,cancelable:!0},sf="RovingFocusGroup",[cg,pk,BU]=fh(sf),[zU,mk]=wr(sf,[BU]),[$U,HU]=zU(sf),gk=E.forwardRef((t,e)=>d.jsx(cg.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(cg.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(WU,{...t,ref:e})})}));gk.displayName=sf;var WU=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,m=E.useRef(null),w=Oe(e,m),S=Xh(i),[x=null,T]=qo({prop:o,defaultProp:a,onChange:c}),[y,g]=E.useState(!1),_=Yt(u),R=pk(n),N=E.useRef(!1),[O,I]=E.useState(0);return E.useEffect(()=>{const b=m.current;if(b)return b.addEventListener(xp,_),()=>b.removeEventListener(xp,_)},[_]),d.jsx($U,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:x,onItemFocus:E.useCallback(b=>T(b),[T]),onItemShiftTab:E.useCallback(()=>g(!0),[]),onFocusableItemAdd:E.useCallback(()=>I(b=>b+1),[]),onFocusableItemRemove:E.useCallback(()=>I(b=>b-1),[]),children:d.jsx(de.div,{tabIndex:y||O===0?-1:0,"data-orientation":r,...h,ref:w,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{N.current=!0}),onFocus:ie(t.onFocus,b=>{const C=!N.current;if(b.target===b.currentTarget&&C&&!y){const k=new CustomEvent(xp,UU);if(b.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=R().filter($=>$.focusable),M=D.find($=>$.active),P=D.find($=>$.id===x),Z=[M,P,...D].filter(Boolean).map($=>$.ref.current);wk(Z,f)}}N.current=!1}),onBlur:ie(t.onBlur,()=>g(!1))})})}),yk="RovingFocusGroupItem",vk=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ec(),c=i||a,u=HU(yk,n),f=u.currentTabStopId===c,h=pk(n),{onFocusableItemAdd:m,onFocusableItemRemove:w}=u;return E.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),d.jsx(cg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(de.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,S=>{r?u.onItemFocus(c):S.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ie(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){u.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const x=GU(S,u.orientation,u.dir);if(x!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let y=h().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const g=y.indexOf(S.currentTarget);y=u.loop?QU(y,g+1):y.slice(g+1)}setTimeout(()=>wk(y))}})})})});vk.displayName=yk;var qU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function GU(t,e,n){const r=KU(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qU[r]}function wk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function QU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YU=gk,XU=vk,Cv="Tabs",[JU,EB]=wr(Cv,[mk]),xk=mk(),[ZU,Av]=JU(Cv),_k=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,f=Xh(a),[h,m]=qo({prop:r,onChange:s,defaultProp:i});return d.jsx(ZU,{scope:n,baseId:ec(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:c,children:d.jsx(de.div,{dir:f,"data-orientation":o,...u,ref:e})})});_k.displayName=Cv;var Ek="TabsList",Tk=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Av(Ek,n),o=xk(n);return d.jsx(YU,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(de.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Tk.displayName=Ek;var Sk="TabsTrigger",bk=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Av(Sk,n),a=xk(n),c=Ak(o.baseId,r),u=kk(o.baseId,r),f=r===o.value;return d.jsx(XU,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(de.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ie(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ie(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(r)})})})});bk.displayName=Sk;var Ik="TabsContent",Ck=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Av(Ik,n),c=Ak(a.baseId,r),u=kk(a.baseId,r),f=r===a.value,h=E.useRef(f);return E.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),d.jsx(mh,{present:s||f,children:({present:m})=>d.jsx(de.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});Ck.displayName=Ik;function Ak(t,e){return`${t}-trigger-${e}`}function kk(t,e){return`${t}-content-${e}`}var eB=_k,Rk=Tk,Nk=bk,Pk=Ck;const tB=eB,Dk=E.forwardRef(({className:t,...e},n)=>d.jsx(Rk,{ref:n,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Dk.displayName=Rk.displayName;const Gu=E.forwardRef(({className:t,...e},n)=>d.jsx(Nk,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gu.displayName=Nk.displayName;const Qu=E.forwardRef(({className:t,...e},n)=>d.jsx(Pk,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qu.displayName=Pk.displayName;const nB=t=>{const[e,n]=E.useState([]),[r,s]=E.useState(!0),[i,o]=E.useState(null),[a,c]=E.useState("synced"),u=()=>{try{const y=localStorage.getItem("zenjourney-demo-tasks");if(y){const g=JSON.parse(y).map(_=>({..._,createdAt:new Date(_.createdAt),scheduledStart:_.scheduledStart?new Date(_.scheduledStart):void 0,scheduledEnd:_.scheduledEnd?new Date(_.scheduledEnd):void 0}));n(g)}else n([]);s(!1)}catch(y){console.error("Error loading demo tasks:",y),n([]),s(!1)}},f=y=>{try{localStorage.setItem("zenjourney-demo-tasks",JSON.stringify(y))}catch(g){console.error("Error saving demo tasks:",g)}};E.useEffect(()=>{if(!t){n([]),s(!1);return}if(t.startsWith("demo-user-")||!Ne){u();return}let y=null;return(async()=>{try{if(!Ne)throw new Error("Database not initialized");const _=D_(Ne,"users",t,"tasks"),R=v5(_,w5("createdAt","desc"));y=_v(R,N=>{try{const O=N.docs.map(I=>{const b=I.data(),C=k=>{if(k instanceof ct)return k.toDate();if(k&&typeof k=="string"){const D=new Date(k);return isNaN(D.getTime())?new Date:D}return k&&typeof k=="number"?new Date(k):new Date};return{id:I.id,name:b.name||"",priority:b.priority||1,effort:b.effort||1,completed:b.completed||!1,createdAt:C(b.createdAt),priorityScore:b.priorityScore||0,scheduledStart:b.scheduledStart?C(b.scheduledStart):void 0,scheduledEnd:b.scheduledEnd?C(b.scheduledEnd):void 0}});n(O),s(!1),o(null)}catch(O){console.error("Error parsing task data:",O),o("Failed to parse task data"),s(!1)}},N=>{console.error("Error fetching tasks:",N),o(`Failed to load tasks: ${N.message}`),s(!1)})}catch(_){console.error("Error setting up tasks listener:",_),o(`Failed to setup data connection: ${_.message}`),s(!1)}})(),()=>{y&&y()}},[t]);const h=async(y,g,_)=>{if(!t)throw new Error("User not authenticated");if(!(y!=null&&y.trim()))throw new Error("Task name is required");if(g<1||g>5)throw new Error("Priority must be between 1 and 5");if(_<1||_>8)throw new Error("Effort must be between 1 and 8");const R=new Date,N=sB(g,_,R),O={id:Date.now().toString(),name:y.trim(),priority:g,effort:_,completed:!1,createdAt:R,priorityScore:N};if(t.startsWith("demo-user-")||!Ne){const b=[O,...e];n(b),f(b);return}const I={name:y.trim(),priority:g,effort:_,completed:!1,createdAt:Hu(),priorityScore:N};try{if(!Ne)throw new Error("Database not initialized");c("syncing"),await b5(D_(Ne,"users",t,"tasks"),I),c("synced")}catch(b){const C=b;throw new Error(`Failed to save task: ${C.message}`)}},m=async(y,g)=>{if(!t)throw new Error("User not authenticated");if(!(y!=null&&y.trim()))throw new Error("Task ID is required");if(t.startsWith("demo-user-")||!Ne){if(!e.some(N=>N.id===y))throw new Error("Task not found");const R=e.map(N=>N.id===y?{...N,...g}:N);n(R),f(R);return}try{if(!Ne)throw new Error("Database not initialized");const _=Ds(Ne,"users",t,"tasks",y),R=Object.fromEntries(Object.entries(g).filter(([N,O])=>O!==void 0));await S5(_,R)}catch(_){const R=_;throw new Error(`Failed to update task: ${R.message}`)}};return{tasks:e,loading:r,error:i,syncStatus:a,addTask:h,updateTask:m,deleteTask:async y=>{if(!t)throw new Error("User not authenticated");if(!(y!=null&&y.trim()))throw new Error("Task ID is required");if(t.startsWith("demo-user-")||!Ne){if(!e.some(R=>R.id===y))throw new Error("Task not found");const _=e.filter(R=>R.id!==y);n(_),f(_);return}try{if(!Ne)throw new Error("Database not initialized");await U_(Ds(Ne,"users",t,"tasks",y))}catch(g){const _=g;throw new Error(`Failed to delete task: ${_.message}`)}},toggleTask:async y=>{const g=e.find(_=>_.id===y);g&&await m(y,{completed:!g.completed})},rescheduleTask:async(y,g,_)=>{await m(y,{scheduledStart:g,scheduledEnd:_})},clearAllTasks:async()=>{if(!t)throw new Error("User not authenticated");if(t.startsWith("demo-user-")||!Ne){n([]),f([]);return}try{if(!Ne)throw new Error("Database not initialized");const y=e.map(g=>Ne?U_(Ds(Ne,"users",t,"tasks",g.id)).catch(_=>(console.error(`Failed to delete task ${g.id}:`,_),null)):Promise.resolve(null));await Promise.allSettled(y)}catch(y){const g=y;throw new Error(`Failed to clear tasks: ${g.message}`)}}}},rB=t=>{const[e,n]=E.useState({startTime:"09:00",endTime:"17:00",breakDuration:30}),[r,s]=E.useState(!0),[i,o]=E.useState(null);return E.useEffect(()=>{if(!t){s(!1);return}if(t.startsWith("demo-user-")||!Ne){try{const f=localStorage.getItem("zenjourney-demo-settings");if(f){const h=JSON.parse(f);h.startTime&&h.endTime&&typeof h.breakDuration=="number"&&n(h)}}catch(f){console.error("Error loading demo settings:",f)}s(!1);return}let c=null;return(async()=>{try{if(!Ne)throw new Error("Database not initialized");const f=Ds(Ne,"users",t,"settings","workday");c=_v(f,h=>{try{if(h.exists()){const m=h.data(),w={startTime:m.startTime||"09:00",endTime:m.endTime||"17:00",breakDuration:typeof m.breakDuration=="number"?m.breakDuration:30};n(w)}s(!1),o(null)}catch(m){console.error("Error parsing settings data:",m),o("Failed to parse settings data"),s(!1)}},h=>{console.error("Error fetching settings:",h),o(`Failed to load settings: ${h.message}`),s(!1)})}catch(f){console.error("Error setting up settings listener:",f),o(`Failed to setup settings connection: ${f.message}`),s(!1)}})(),()=>{c&&c()}},[t]),{settings:e,loading:r,error:i,updateSettings:async c=>{if(!t)throw new Error("User not authenticated");if(!c.startTime||!c.endTime)throw new Error("Start time and end time are required");if(typeof c.breakDuration!="number"||c.breakDuration<0)throw new Error("Break duration must be a positive number");const u=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!u.test(c.startTime)||!u.test(c.endTime))throw new Error("Invalid time format. Use HH:MM format");if(n(c),t.startsWith("demo-user-")||!Ne){try{localStorage.setItem("zenjourney-demo-settings",JSON.stringify(c))}catch(f){throw console.error("Failed to save demo settings:",f),new Error("Failed to save settings locally")}return}try{if(!Ne)throw new Error("Database not initialized");const f=Ds(Ne,"users",t,"settings","workday");await $u(f,c,{merge:!0})}catch(f){const h=f;throw new Error(`Failed to save settings: ${h.message}`)}}}},sB=(t,e,n)=>{if(!t||!e||!n||typeof t!="number"||typeof e!="number")return 0;const s=1+(Date.now()-n.getTime())/(1e3*60*60*24)*.1;return t/Math.max(e,1)*s},iB=t=>{const[e,n]=E.useState(null),[r,s]=E.useState(!0),[i,o]=E.useState(null);E.useEffect(()=>{if(!t||!Ne){n(null),s(!1);return}if("uid"in t&&t.uid.startsWith("demo-user-")){const h={uid:t.uid,email:t.email||"demo@zenjourney.app",displayName:t.displayName||"Demo User",createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"system",notifications:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},stats:{totalTasks:0,completedTasks:0,totalWorkDays:0}};n(h),s(!1);return}let u=null;return(async()=>{try{if(!Ne)throw new Error("Database not initialized");const h=Ds(Ne,"users",t.uid);if((await T5(h)).exists())await $u(h,{lastLoginAt:Hu()},{merge:!0});else{const w=t,S={uid:w.uid,email:w.email||"",displayName:w.displayName||"User",photoURL:w.photoURL||void 0,preferences:{theme:"system",notifications:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},stats:{totalTasks:0,completedTasks:0,totalWorkDays:0}};await $u(h,{...S,createdAt:Hu(),lastLoginAt:Hu()})}u=_v(h,w=>{var S,x;if(w.exists()){const T=w.data(),y={uid:T.uid,email:T.email,displayName:T.displayName,photoURL:T.photoURL,createdAt:((S=T.createdAt)==null?void 0:S.toDate())||new Date,lastLoginAt:((x=T.lastLoginAt)==null?void 0:x.toDate())||new Date,preferences:T.preferences||{theme:"system",notifications:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},stats:T.stats||{totalTasks:0,completedTasks:0,totalWorkDays:0}};n(y)}s(!1),o(null)},w=>{console.error("Error fetching user profile:",w),o("Failed to load user profile"),s(!1)})}catch(h){console.error("Error setting up profile listener:",h),o(`Failed to setup profile: ${h.message}`),s(!1)}})(),()=>{u&&u()}},[t]);const a=async u=>{if(!t||!Ne)throw new Error("User not authenticated or database not available");if("uid"in t&&t.uid.startsWith("demo-user-")){e&&n({...e,...u});return}try{const f=Ds(Ne,"users",t.uid);await $u(f,u,{merge:!0})}catch(f){throw new Error(`Failed to update profile: ${f.message}`)}};return{profile:e,loading:r,error:i,updateProfile:a,updateStats:async u=>{if(!e)return;const f={...e.stats,...u};await a({stats:f})}}},oB=()=>{var Z,$;const[t,e]=E.useState("tasks");E.useState(!1);const{toast:n}=sy(),{user:r,signOut:s}=Yh(),{profile:i,loading:o,updateStats:a}=iB(r),{tasks:c,loading:u,error:f,syncStatus:h,addTask:m,updateTask:w,deleteTask:S,toggleTask:x,rescheduleTask:T,clearAllTasks:y}=nB(r==null?void 0:r.uid),{settings:g,loading:_,updateSettings:R}=rB(r==null?void 0:r.uid),N=u||_||o,O=async(K,L,z)=>{if(r!=null&&r.uid)try{await m(K,L,z),a&&await a({totalTasks:((i==null?void 0:i.stats.totalTasks)||0)+1}),n({title:"Task Added",description:`"${K}" has been added to your task list`})}catch(Q){console.error("Error adding task:",Q),n({title:"Error",description:"Failed to add task. Please try again.",variant:"destructive"})}},I=async K=>{if(r!=null&&r.uid)try{const L=c.find(z=>z.id===K);await x(K),L&&!L.completed&&(a&&await a({completedTasks:((i==null?void 0:i.stats.completedTasks)||0)+1}),n({title:"Task Completed",description:`Great job completing "${L.name}"!`}))}catch(L){console.error("Error toggling task:",L),n({title:"Error",description:"Failed to update task. Please try again.",variant:"destructive"})}},b=async K=>{if(r!=null&&r.uid)try{const L=c.find(z=>z.id===K);await S(K),n({title:"Task Deleted",description:`"${L==null?void 0:L.name}" has been removed from your task list`})}catch(L){console.error("Error deleting task:",L),n({title:"Error",description:"Failed to delete task. Please try again.",variant:"destructive"})}},C=async()=>{if(r!=null&&r.uid)try{await y(),n({title:"All Tasks Cleared",description:"All tasks have been removed from your list"})}catch(K){console.error("Error clearing tasks:",K),n({title:"Error",description:"Failed to clear tasks. Please try again.",variant:"destructive"})}},k=async(K,L,z)=>{if(r!=null&&r.uid)try{await T(K,L,z),n({title:"Task Rescheduled",description:"Task has been moved to the new time slot"})}catch(Q){console.error("Error rescheduling task:",Q),n({title:"Error",description:"Failed to reschedule task. Please try again.",variant:"destructive"})}},D=async K=>{if(r!=null&&r.uid)try{await R(K),n({title:"Settings Updated",description:"Your workday settings have been saved"})}catch(L){console.error("Error updating settings:",L),n({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}},M=async()=>{if(!(r!=null&&r.uid)||!r.uid.startsWith("demo-user-")){n({title:"Migration Not Available",description:"Migration is only available for demo accounts.",variant:"destructive"});return}try{const K=JSON.parse(localStorage.getItem("zenjourney-demo-tasks")||"[]"),L=JSON.parse(localStorage.getItem("zenjourney-demo-settings")||"{}");if(K.length===0){n({title:"No Data to Migrate",description:"No local tasks found to migrate.",variant:"destructive"});return}n({title:"Migration Requires Firebase Account",description:"Please sign in with Google to migrate your data to Firebase.",variant:"destructive"})}catch(K){console.error("Migration error:",K),n({title:"Migration Failed",description:"Failed to migrate data. Please try again.",variant:"destructive"})}},P=async()=>{const K={tasks:c,settings:g,profile:i,exportDate:new Date().toISOString()},L=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),z=URL.createObjectURL(L),Q=document.createElement("a");Q.href=z,Q.download=`zenjourney-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(z)},H=((Z=r==null?void 0:r.uid)==null?void 0:Z.startsWith("demo-user-"))&&c.length>0;return N?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto"}),d.jsx("div",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Loading your workspace..."}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Setting up tasks and settings"})]})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[d.jsx(RU,{}),d.jsx("main",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsx("div",{className:"mb-6",children:d.jsx(jU,{profile:i,syncStatus:h})}),d.jsx("div",{className:"hidden md:block mb-8",children:d.jsxs(tB,{value:t,onValueChange:e,className:"w-full",children:[d.jsxs(Dk,{className:"grid w-full grid-cols-3 bg-white dark:bg-gray-800 shadow-sm",children:[d.jsxs(Gu,{value:"tasks",className:"flex items-center gap-2",children:[d.jsx(Ed,{className:"w-4 h-4"}),"Tasks"]}),d.jsxs(Gu,{value:"schedule",className:"flex items-center gap-2",children:[d.jsx(kl,{className:"w-4 h-4"}),"Schedule"]}),d.jsxs(Gu,{value:"settings",className:"flex items-center gap-2",children:[d.jsx(_d,{className:"w-4 h-4"}),"Settings"]})]}),d.jsx(Qu,{value:"tasks",className:"mt-6",children:d.jsx(X_,{tasks:c,onAddTask:O,onToggleTask:I,onDeleteTask:b,onClearAll:C})}),d.jsx(Qu,{value:"schedule",className:"mt-6",children:d.jsx(e1,{tasks:c,workdaySettings:g,onRescheduleTask:k})}),d.jsx(Qu,{value:"settings",className:"mt-6",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx(t1,{settings:g,onUpdateSettings:D}),d.jsx(FU,{onMigrateToFirebase:M,onExportData:P,hasLocalData:H,isFirebaseConnected:!((($=r==null?void 0:r.uid)==null?void 0:$.startsWith("demo-user-"))??!0)})]})})]})}),d.jsxs("div",{className:"md:hidden",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[d.jsxs(ln,{variant:t==="tasks"?"default":"outline",onClick:()=>e("tasks"),className:"flex items-center gap-2 flex-1",children:[d.jsx(Ed,{className:"w-4 h-4"}),"Tasks"]}),d.jsxs(ln,{variant:t==="schedule"?"default":"outline",onClick:()=>e("schedule"),className:"flex items-center gap-2 flex-1",children:[d.jsx(kl,{className:"w-4 h-4"}),"Schedule"]}),d.jsxs(ln,{variant:t==="settings"?"default":"outline",onClick:()=>e("settings"),className:"flex items-center gap-2 flex-1",children:[d.jsx(_d,{className:"w-4 h-4"}),"Settings"]})]}),t==="tasks"&&d.jsx(X_,{tasks:c,onAddTask:O,onToggleTask:I,onDeleteTask:b,onClearAll:C}),t==="schedule"&&d.jsx(e1,{tasks:c,workdaySettings:g,onRescheduleTask:k}),t==="settings"&&d.jsx(t1,{settings:g,onUpdateSettings:D})]})]})})]})},aB=()=>{const[t]=Tj();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t)},[t]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},lB=()=>{const{isAuthenticated:t,loading:e}=Yh();return e?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),d.jsx("div",{className:"text-lg font-medium text-gray-700",children:"Loading ZenJourney..."}),d.jsx("div",{className:"text-sm text-gray-500",children:"Preparing your productivity workspace"})]})}):t?d.jsx(VC,{children:d.jsxs(SO,{children:[d.jsx(xD,{}),d.jsx(JD,{}),d.jsx(cb,{children:d.jsxs(bj,{children:[d.jsx(cx,{path:"/",component:oB}),d.jsx(cx,{component:aB})]})})]})}):d.jsx(R5,{})},cB=()=>d.jsx(VC,{children:d.jsx(QO,{client:Ij,children:d.jsx(lB,{})})});IT(document.getElementById("root")).render(d.jsx(cB,{}));
